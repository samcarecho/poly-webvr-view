(function $(xe,_e,et){function tt(nt,rt){if(!_e[nt]){if(!xe[nt]){var st="function"==typeof require&&require;if(!rt&&st)return st(nt,!0);if(it)return it(nt,!0);var ot=new Error("Cannot find module '"+nt+"'");throw ot.code="MODULE_NOT_FOUND",ot}var ut=_e[nt]={exports:{}};xe[nt][0].call(ut.exports,function(Mt){var lt=xe[nt][1][Mt];return tt(lt?lt:Mt)},ut,ut.exports,$,xe,_e,et)}return _e[nt].exports}for(var it="function"==typeof require&&require,at=0;at<et.length;at++)tt(et[at]);return tt})({1:[function($,xe,_e){(function(et){var tt=tt||function(){var it=[];return{getAll:function(){return it},removeAll:function(){it=[]},add:function(nt){it.push(nt)},remove:function(nt){var rt=it.indexOf(nt);-1!==rt&&it.splice(rt,1)},update:function(nt,rt){if(0===it.length)return!1;var st=0;for(nt=void 0===nt?tt.now():nt;st<it.length;)it[st].update(nt)||rt?st++:it.splice(st,1);return!0}}}();tt.now="undefined"===typeof window&&"undefined"!==typeof et?function(){var it=et.hrtime();return 1e3*it[0]+it[1]/1e6}:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now.bind(window.performance):void 0===Date.now?function(){return new Date().getTime()}:Date.now,tt.Tween=function(it){var at=it,nt={},rt={},st={},ot=1e3,ut=0,Mt,lt=!1,ct=!1,gt=!1,pt=0,yt=null,Nt=tt.Easing.Linear.None,Dt=tt.Interpolation.Linear,Tt=[],It=null,Lt=!1,Et=null,jt=null,mt=null;this.to=function(At,ft){return rt=At,void 0!==ft&&(ot=ft),this},this.start=function(At){for(var ft in tt.add(this),ct=!0,Lt=!1,yt=void 0===At?tt.now():At,yt+=pt,rt){if(rt[ft]instanceof Array){if(0===rt[ft].length)continue;rt[ft]=[at[ft]].concat(rt[ft])}void 0!==at[ft]&&(nt[ft]=at[ft],!1===nt[ft]instanceof Array&&(nt[ft]*=1),st[ft]=nt[ft]||0)}return this},this.stop=function(){return ct?(tt.remove(this),ct=!1,null!==mt&&mt.call(at,at),this.stopChainedTweens(),this):this},this.end=function(){return this.update(yt+ot),this},this.stopChainedTweens=function(){for(var At=0,ft=Tt.length;At<ft;At++)Tt[At].stop()},this.delay=function(At){return pt=At,this},this.repeat=function(At){return ut=At,this},this.repeatDelay=function(At){return Mt=At,this},this.yoyo=function(At){return lt=At,this},this.easing=function(At){return Nt=At,this},this.interpolation=function(At){return Dt=At,this},this.chain=function(){return Tt=arguments,this},this.onStart=function(At){return It=At,this},this.onUpdate=function(At){return Et=At,this},this.onComplete=function(At){return jt=At,this},this.onStop=function(At){return mt=At,this},this.update=function(At){var ft,wt,ht;if(At<yt)return!0;for(ft in!1===Lt&&(null!==It&&It.call(at,at),Lt=!0),wt=(At-yt)/ot,wt=1<wt?1:wt,ht=Nt(wt),rt)if(void 0!==nt[ft]){var xt=nt[ft]||0,St=rt[ft];St instanceof Array?at[ft]=Dt(St,ht):("string"===typeof St&&("+"===St.charAt(0)||"-"===St.charAt(0)?St=xt+parseFloat(St):St=parseFloat(St)),"number"===typeof St&&(at[ft]=xt+(St-xt)*ht))}if(null!==Et&&Et.call(at,ht),1===wt){if(0<ut){for(ft in isFinite(ut)&&ut--,st){if("string"===typeof rt[ft]&&(st[ft]+=parseFloat(rt[ft])),lt){var Ot=st[ft];st[ft]=rt[ft],rt[ft]=Ot}nt[ft]=st[ft]}return lt&&(gt=!gt),yt=void 0===Mt?At+pt:At+Mt,!0}null!==jt&&jt.call(at,at);for(var Ct=0,zt=Tt.length;Ct<zt;Ct++)Tt[Ct].start(yt+ot);return!1}return!0}},tt.Easing={Linear:{None:function(at){return at}},Quadratic:{In:function(at){return at*at},Out:function(at){return at*(2-at)},InOut:function(at){return 1>(at*=2)?0.5*at*at:-0.5*(--at*(at-2)-1)}},Cubic:{In:function(at){return at*at*at},Out:function(at){return--at*at*at+1},InOut:function(at){return 1>(at*=2)?0.5*at*at*at:0.5*((at-=2)*at*at+2)}},Quartic:{In:function(at){return at*at*at*at},Out:function(at){return 1- --at*at*at*at},InOut:function(at){return 1>(at*=2)?0.5*at*at*at*at:-0.5*((at-=2)*at*at*at-2)}},Quintic:{In:function(at){return at*at*at*at*at},Out:function(at){return--at*at*at*at*at+1},InOut:function(at){return 1>(at*=2)?0.5*at*at*at*at*at:0.5*((at-=2)*at*at*at*at+2)}},Sinusoidal:{In:function(at){return 1-Math.cos(at*Math.PI/2)},Out:function(at){return Math.sin(at*Math.PI/2)},InOut:function(at){return 0.5*(1-Math.cos(Math.PI*at))}},Exponential:{In:function(at){return 0===at?0:Math.pow(1024,at-1)},Out:function(at){return 1===at?1:1-Math.pow(2,-10*at)},InOut:function(at){return 0===at?0:1===at?1:1>(at*=2)?0.5*Math.pow(1024,at-1):0.5*(-Math.pow(2,-10*(at-1))+2)}},Circular:{In:function(at){return 1-Math.sqrt(1-at*at)},Out:function(at){return Math.sqrt(1- --at*at)},InOut:function(at){return 1>(at*=2)?-0.5*(Math.sqrt(1-at*at)-1):0.5*(Math.sqrt(1-(at-=2)*at)+1)}},Elastic:{In:function(at){return 0===at?0:1===at?1:-Math.pow(2,10*(at-1))*Math.sin(5*(at-1.1)*Math.PI)},Out:function(at){return 0===at?0:1===at?1:Math.pow(2,-10*at)*Math.sin(5*(at-0.1)*Math.PI)+1},InOut:function(at){return 0===at?0:1===at?1:(at*=2,1>at?-0.5*Math.pow(2,10*(at-1))*Math.sin(5*(at-1.1)*Math.PI):0.5*Math.pow(2,-10*(at-1))*Math.sin(5*(at-1.1)*Math.PI)+1)}},Back:{In:function(at){var nt=1.70158;return at*at*((nt+1)*at-nt)},Out:function(at){var nt=1.70158;return--at*at*((nt+1)*at+nt)+1},InOut:function(at){var nt=1.525*1.70158;return 1>(at*=2)?0.5*(at*at*((nt+1)*at-nt)):0.5*((at-=2)*at*((nt+1)*at+nt)+2)}},Bounce:{In:function(at){return 1-tt.Easing.Bounce.Out(1-at)},Out:function(at){return at<1/2.75?7.5625*at*at:at<2/2.75?7.5625*(at-=1.5/2.75)*at+0.75:at<2.5/2.75?7.5625*(at-=2.25/2.75)*at+0.9375:7.5625*(at-=2.625/2.75)*at+0.984375},InOut:function(at){return 0.5>at?0.5*tt.Easing.Bounce.In(2*at):0.5*tt.Easing.Bounce.Out(2*at-1)+0.5}}},tt.Interpolation={Linear:function(at,nt){var rt=at.length-1,st=rt*nt,ot=Math.floor(st),ut=tt.Interpolation.Utils.Linear;return 0>nt?ut(at[0],at[1],st):1<nt?ut(at[rt],at[rt-1],rt-st):ut(at[ot],at[ot+1>rt?rt:ot+1],st-ot)},Bezier:function(at,nt){for(var rt=0,st=at.length-1,ot=Math.pow,ut=tt.Interpolation.Utils.Bernstein,Mt=0;Mt<=st;Mt++)rt+=ot(1-nt,st-Mt)*ot(nt,Mt)*at[Mt]*ut(st,Mt);return rt},CatmullRom:function(at,nt){var rt=at.length-1,st=rt*nt,ot=Math.floor(st),ut=tt.Interpolation.Utils.CatmullRom;return at[0]===at[rt]?(0>nt&&(ot=Math.floor(st=rt*(1+nt))),ut(at[(ot-1+rt)%rt],at[ot],at[(ot+1)%rt],at[(ot+2)%rt],st-ot)):0>nt?at[0]-(ut(at[0],at[0],at[1],at[1],-st)-at[0]):1<nt?at[rt]-(ut(at[rt],at[rt],at[rt-1],at[rt-1],st-rt)-at[rt]):ut(at[ot?ot-1:0],at[ot],at[rt<ot+1?rt:ot+1],at[rt<ot+2?rt:ot+2],st-ot)},Utils:{Linear:function(at,nt,rt){return(nt-at)*rt+at},Bernstein:function(at,nt){var rt=tt.Interpolation.Utils.Factorial;return rt(at)/rt(nt)/rt(at-nt)},Factorial:function(){var it=[1];return function(at){var nt=1;if(it[at])return it[at];for(var rt=at;1<rt;rt--)nt*=rt;return it[at]=nt,nt}}(),CatmullRom:function(at,nt,rt,st,ot){var ut=0.5*(rt-at),Mt=0.5*(st-nt),lt=ot*ot;return(2*nt-2*rt+ut+Mt)*(ot*lt)+(-3*nt+3*rt-2*ut-Mt)*lt+ut*ot+nt}}},function(it){"function"===typeof define&&define.amd?define([],function(){return tt}):"undefined"!==typeof xe&&"object"===("undefined"===typeof _e?"undefined":babelHelpers.typeof(_e))?xe.exports=tt:it!==void 0&&(it.TWEEN=tt)}(this)}).call(this,$("_process"))},{_process:4}],2:[function($,xe,_e){(function(et,tt){(function(it,at){"object"===("undefined"===typeof _e?"undefined":babelHelpers.typeof(_e))&&"undefined"!==typeof xe?xe.exports=at():"function"===typeof define&&define.amd?define(at):it.ES6Promise=at()})(this,function(){"use strict";function it(ci){return"function"===typeof ci||"object"===("undefined"===typeof ci?"undefined":babelHelpers.typeof(ci))&&null!==ci}function at(ci){return"function"===typeof ci}function ot(){return function(){Xt(ct)}}function lt(){var ci=setTimeout;return function(){return ci(ct,1)}}function ct(){for(var ci=0;ci<Zt;ci+=2){var gi=ai[ci],pi=ai[ci+1];gi(pi),ai[ci]=void 0,ai[ci+1]=void 0}Zt=0}function pt(ci,gi){var pi=arguments,yi=this,Ni=new this.constructor(Nt);void 0===Ni[ri]&&Ut(Ni);var Di=yi._state;return Di?function(){var Ti=pi[Di-1];qt(function(){return zt(Di,Ni,Ti,yi._result)})}():xt(yi,Ni,ci,gi),Ni}function yt(ci){var gi=this;if(ci&&"object"===("undefined"===typeof ci?"undefined":babelHelpers.typeof(ci))&&ci.constructor===gi)return ci;var pi=new gi(Nt);return At(pi,ci),pi}function Nt(){}function Dt(){return new TypeError("You cannot resolve a promise with itself")}function Tt(){return new TypeError("A promises callback cannot return that same promise.")}function It(ci){try{return ci.then}catch(gi){return ui.error=gi,ui}}function Lt(ci,gi,pi,yi){try{ci.call(gi,pi,yi)}catch(Ni){return Ni}}function Et(ci,gi,pi){qt(function(yi){var Ni=!1,Di=Lt(pi,gi,function(Ti){Ni||(Ni=!0,gi===Ti?wt(yi,Ti):At(yi,Ti))},function(Ti){Ni||(Ni=!0,ht(yi,Ti))},"Settle: "+(yi._label||" unknown promise"));!Ni&&Di&&(Ni=!0,ht(yi,Di))},ci)}function jt(ci,gi){gi._state===oi?wt(ci,gi._result):gi._state===di?ht(ci,gi._result):xt(gi,void 0,function(pi){return At(ci,pi)},function(pi){return ht(ci,pi)})}function mt(ci,gi,pi){gi.constructor===ci.constructor&&pi===pt&&gi.constructor.resolve===yt?jt(ci,gi):pi===ui?ht(ci,ui.error):void 0===pi?wt(ci,gi):at(pi)?Et(ci,gi,pi):wt(ci,gi)}function At(ci,gi){ci===gi?ht(ci,Dt()):it(gi)?mt(ci,gi,It(gi)):wt(ci,gi)}function ft(ci){ci._onerror&&ci._onerror(ci._result),St(ci)}function wt(ci,gi){ci._state!==si||(ci._result=gi,ci._state=oi,0!==ci._subscribers.length&&qt(St,ci))}function ht(ci,gi){ci._state!==si||(ci._state=di,ci._result=gi,qt(ft,ci))}function xt(ci,gi,pi,yi){var Ni=ci._subscribers,Di=Ni.length;ci._onerror=null,Ni[Di]=gi,Ni[Di+oi]=pi,Ni[Di+di]=yi,0===Di&&ci._state&&qt(St,ci)}function St(ci){var gi=ci._subscribers,pi=ci._state;if(0!==gi.length){for(var yi=void 0,Ni=void 0,Di=ci._result,Ti=0;Ti<gi.length;Ti+=3)yi=gi[Ti],Ni=gi[Ti+pi],yi?zt(pi,yi,Ni,Di):Ni(Di);ci._subscribers.length=0}}function Ot(){this.error=null}function Ct(ci,gi){try{return ci(gi)}catch(pi){return Mi.error=pi,Mi}}function zt(ci,gi,pi,yi){var Ni=at(pi),Di,Ti,Ii,Li;if(!Ni)Di=yi,Ii=!0;else if(Di=Ct(pi,yi),Di===Mi?(Li=!0,Ti=Di.error,Di=null):Ii=!0,gi===Di)return void ht(gi,Tt());gi._state!==si||(Ni&&Ii?At(gi,Di):Li?ht(gi,Ti):ci===oi?wt(gi,Di):ci===di&&ht(gi,Di))}function vt(ci,gi){try{gi(function(yi){At(ci,yi)},function(yi){ht(ci,yi)})}catch(pi){ht(ci,pi)}}function kt(){return li++}function Ut(ci){ci[ri]=li++,ci._state=void 0,ci._result=void 0,ci._subscribers=[]}function Qt(ci,gi){this._instanceConstructor=ci,this.promise=new ci(Nt),this.promise[ri]||Ut(this.promise),Wt(gi)?(this._input=gi,this.length=gi.length,this._remaining=gi.length,this._result=Array(this.length),0===this.length?wt(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&wt(this.promise,this._result))):ht(this.promise,_t())}function _t(){return new Error("Array Methods must be provided an Array")}function Pt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ft(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Gt(ci){this[ri]=kt(),this._result=this._state=void 0,this._subscribers=[],Nt!==ci&&("function"!==typeof ci&&Pt(),this instanceof Gt?vt(this,ci):Ft())}function Vt(){var ci;if("undefined"!==typeof tt)ci=tt;else if("undefined"!==typeof self)ci=self;else try{ci=Function("return this")()}catch(yi){throw new Error("polyfill failed because global object is unavailable in this environment")}var gi=ci.Promise;if(gi){var pi=null;try{pi=Object.prototype.toString.call(gi.resolve())}catch(yi){}if("[object Promise]"===pi&&!gi.cast)return}ci.Promise=Gt}var Ht=Array.isArray?Array.isArray:function(gi){return"[object Array]"===Object.prototype.toString.call(gi)};var Wt=Ht,Zt=0,qt=function(gi,pi){ai[Zt]=gi,ai[Zt+1]=pi,Zt+=2,2===Zt&&(Kt?Kt(ct):ni())},Jt="undefined"===typeof window?void 0:window,$t=Jt||{},ei=$t.MutationObserver||$t.WebKitMutationObserver,ti="undefined"===typeof self&&"undefined"!==typeof et&&"[object process]"==={}.toString.call(et),ii="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,ai=Array(1e3),Xt,Kt,ni;ni=ti?function(){return function(){return et.nextTick(ct)}}():ei?function(){var ci=0,gi=new ei(ct),pi=document.createTextNode("");return gi.observe(pi,{characterData:!0}),function(){pi.data=ci=++ci%2}}():ii?function(){var ci=new MessageChannel;return ci.port1.onmessage=ct,function(){return ci.port2.postMessage(0)}}():void 0===Jt&&"function"===typeof $?function(){try{var gi=$("vertx");return Xt=gi.runOnLoop||gi.runOnContext,ot()}catch(pi){return lt()}}():lt();var ri=Math.random().toString(36).substring(16),oi=1,di=2,ui=new Ot,Mi=new Ot,li=0,si;return Qt.prototype._enumerate=function(){for(var ci=this.length,gi=this._input,pi=0;this._state===si&&pi<ci;pi++)this._eachEntry(gi[pi],pi)},Qt.prototype._eachEntry=function(ci,gi){var pi=this._instanceConstructor,yi=pi.resolve;if(yi===yt){var Ni=It(ci);if(Ni===pt&&ci._state!==si)this._settledAt(ci._state,gi,ci._result);else if("function"!==typeof Ni)this._remaining--,this._result[gi]=ci;else if(pi===Gt){var Di=new pi(Nt);mt(Di,ci,Ni),this._willSettleAt(Di,gi)}else this._willSettleAt(new pi(function(Ti){return Ti(ci)}),gi)}else this._willSettleAt(yi(ci),gi)},Qt.prototype._settledAt=function(ci,gi,pi){var yi=this.promise;yi._state===si&&(this._remaining--,ci===di?ht(yi,pi):this._result[gi]=pi),0===this._remaining&&wt(yi,this._result)},Qt.prototype._willSettleAt=function(ci,gi){var pi=this;xt(ci,void 0,function(yi){return pi._settledAt(oi,gi,yi)},function(yi){return pi._settledAt(di,gi,yi)})},Gt.all=function(ci){return new Qt(this,ci).promise},Gt.race=function(ci){var gi=this;return Wt(ci)?new gi(function(pi,yi){for(var Ni=ci.length,Di=0;Di<Ni;Di++)gi.resolve(ci[Di]).then(pi,yi)}):new gi(function(pi,yi){return yi(new TypeError("You must pass an array to race."))})},Gt.resolve=yt,Gt.reject=function(ci){var gi=this,pi=new gi(Nt);return ht(pi,ci),pi},Gt._setScheduler=function(ci){Kt=ci},Gt._setAsap=function(ci){qt=ci},Gt._asap=qt,Gt.prototype={constructor:Gt,then:pt,catch:function(gi){return this.then(null,gi)}},Vt(),Gt.polyfill=Vt,Gt.Promise=Gt,Gt})}).call(this,$("_process"),"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{_process:4}],3:[function($,xe){"use strict";function et(nt,rt,st){this.fn=nt,this.context=rt,this.once=st||!1}function tt(){}var it=Object.prototype.hasOwnProperty,at="function"!==typeof Object.create&&"~";tt.prototype._events=void 0,tt.prototype.eventNames=function(){var rt=this._events,st=[],ot;if(!rt)return st;for(ot in rt)it.call(rt,ot)&&st.push(at?ot.slice(1):ot);return Object.getOwnPropertySymbols?st.concat(Object.getOwnPropertySymbols(rt)):st},tt.prototype.listeners=function(rt,st){var ot=at?at+rt:rt,ut=this._events&&this._events[ot];if(st)return!!ut;if(!ut)return[];if(ut.fn)return[ut.fn];for(var Mt=0,lt=ut.length,ct=Array(lt);Mt<lt;Mt++)ct[Mt]=ut[Mt].fn;return ct},tt.prototype.emit=function(rt,st,ot,ut,Mt,lt){var ct=at?at+rt:rt;if(!this._events||!this._events[ct])return!1;var gt=this._events[ct],pt=arguments.length,yt,Nt;if("function"===typeof gt.fn){switch(gt.once&&this.removeListener(rt,gt.fn,void 0,!0),pt){case 1:return gt.fn.call(gt.context),!0;case 2:return gt.fn.call(gt.context,st),!0;case 3:return gt.fn.call(gt.context,st,ot),!0;case 4:return gt.fn.call(gt.context,st,ot,ut),!0;case 5:return gt.fn.call(gt.context,st,ot,ut,Mt),!0;case 6:return gt.fn.call(gt.context,st,ot,ut,Mt,lt),!0;}for(Nt=1,yt=Array(pt-1);Nt<pt;Nt++)yt[Nt-1]=arguments[Nt];gt.fn.apply(gt.context,yt)}else{var Dt=gt.length,Tt;for(Nt=0;Nt<Dt;Nt++)switch(gt[Nt].once&&this.removeListener(rt,gt[Nt].fn,void 0,!0),pt){case 1:gt[Nt].fn.call(gt[Nt].context);break;case 2:gt[Nt].fn.call(gt[Nt].context,st);break;case 3:gt[Nt].fn.call(gt[Nt].context,st,ot);break;default:if(!yt)for(Tt=1,yt=Array(pt-1);Tt<pt;Tt++)yt[Tt-1]=arguments[Tt];gt[Nt].fn.apply(gt[Nt].context,yt);}}return!0},tt.prototype.on=function(rt,st,ot){var ut=new et(st,ot||this),Mt=at?at+rt:rt;return this._events||(this._events=at?{}:Object.create(null)),this._events[Mt]?this._events[Mt].fn?this._events[Mt]=[this._events[Mt],ut]:this._events[Mt].push(ut):this._events[Mt]=ut,this},tt.prototype.once=function(rt,st,ot){var ut=new et(st,ot||this,!0),Mt=at?at+rt:rt;return this._events||(this._events=at?{}:Object.create(null)),this._events[Mt]?this._events[Mt].fn?this._events[Mt]=[this._events[Mt],ut]:this._events[Mt].push(ut):this._events[Mt]=ut,this},tt.prototype.removeListener=function(rt,st,ot,ut){var Mt=at?at+rt:rt;if(!this._events||!this._events[Mt])return this;var lt=this._events[Mt],ct=[];if(st)if(lt.fn)(lt.fn!==st||ut&&!lt.once||ot&&lt.context!==ot)&&ct.push(lt);else for(var gt=0,pt=lt.length;gt<pt;gt++)(lt[gt].fn!==st||ut&&!lt[gt].once||ot&&lt[gt].context!==ot)&&ct.push(lt[gt]);return ct.length?this._events[Mt]=1===ct.length?ct[0]:ct:delete this._events[Mt],this},tt.prototype.removeAllListeners=function(rt){return this._events?(rt?delete this._events[at?at+rt:rt]:this._events=at?{}:Object.create(null),this):this},tt.prototype.off=tt.prototype.removeListener,tt.prototype.addListener=tt.prototype.on,tt.prototype.setMaxListeners=function(){return this},tt.prefixed=at,"undefined"!==typeof xe&&(xe.exports=tt)},{}],4:[function($,xe){function et(){throw new Error("setTimeout has not been defined")}function tt(){throw new Error("clearTimeout has not been defined")}function it(Nt){if(Mt===setTimeout)return setTimeout(Nt,0);if((Mt===et||!Mt)&&setTimeout)return Mt=setTimeout,setTimeout(Nt,0);try{return Mt(Nt,0)}catch(Dt){try{return Mt.call(null,Nt,0)}catch(Tt){return Mt.call(this,Nt,0)}}}function at(Nt){if(lt===clearTimeout)return clearTimeout(Nt);if((lt===tt||!lt)&&clearTimeout)return lt=clearTimeout,clearTimeout(Nt);try{return lt(Nt)}catch(Dt){try{return lt.call(null,Nt)}catch(Tt){return lt.call(this,Nt)}}}function nt(){gt&&pt&&(gt=!1,pt.length?ct=pt.concat(ct):yt=-1,ct.length&&rt())}function rt(){if(!gt){var Nt=it(nt);gt=!0;for(var Dt=ct.length;Dt;){for(pt=ct,ct=[];++yt<Dt;)pt&&pt[yt].run();yt=-1,Dt=ct.length}pt=null,gt=!1,at(Nt)}}function st(Nt,Dt){this.fun=Nt,this.array=Dt}function ot(){}var ut=xe.exports={},Mt,lt;(function(){try{Mt="function"===typeof setTimeout?setTimeout:et}catch(Nt){Mt=et}try{lt="function"===typeof clearTimeout?clearTimeout:tt}catch(Nt){lt=tt}})();var ct=[],gt=!1,pt,yt=-1;ut.nextTick=function(Nt){var Dt=Array(arguments.length-1);if(1<arguments.length)for(var Tt=1;Tt<arguments.length;Tt++)Dt[Tt-1]=arguments[Tt];ct.push(new st(Nt,Dt)),1!==ct.length||gt||it(rt)},st.prototype.run=function(){this.fun.apply(null,this.array)},ut.title="browser",ut.browser=!0,ut.env={},ut.argv=[],ut.version="",ut.versions={},ut.on=ot,ut.addListener=ot,ut.once=ot,ut.off=ot,ut.removeListener=ot,ut.removeAllListeners=ot,ut.emit=ot,ut.prependListener=ot,ut.prependOnceListener=ot,ut.listeners=function(){return[]},ut.binding=function(){throw new Error("process.binding is not supported")},ut.cwd=function(){return"/"},ut.chdir=function(){throw new Error("process.chdir is not supported")},ut.umask=function(){return 0}},{}],5:[function($,xe){(function(){var et={};(function(tt){function it(Ll,El){var jl=Ll.split("."),ml=DM;jl[0]in ml||!ml.execScript||ml.execScript("var "+jl[0]);for(var Al;jl.length&&(Al=jl.shift());)jl.length||void 0===El?ml[Al]?ml=ml[Al]:ml=ml[Al]={}:ml[Al]=El}function at(Ll){function El(){}var jl=Tn;El.prototype=jl.prototype,Ll.Ce=jl.prototype,Ll.prototype=new El,Ll.prototype.constructor=Ll,Ll.ze=function(ml,Al){return jl.prototype[Al].apply(ml,Array.prototype.slice.call(arguments,2))}}function nt(Ll){this.c=Math.exp(Math.log(.5)/Ll),this.b=this.a=0}function rt(Ll,El,jl){var ml=Math.pow(Ll.c,El);jl=jl*(1-ml)+ml*Ll.a,isNaN(jl)||(Ll.a=jl,Ll.b+=El)}function st(Ll){return Ll.a/(1-Math.pow(Ll.c,Ll.b))}function ot(){this.c=new nt(2),this.f=new nt(5),this.a=0,this.b=5E5}function ut(){}function Mt(Ll,El,jl){this.severity=Ll,this.category=El,this.code=jl,this.data=Array.prototype.slice.call(arguments,3)}function lt(Ll){var El;Ll instanceof lt?(ct(this,Ll.aa),this.Ca=Ll.Ca,this.ca=Ll.ca,gt(this,Ll.Ka),this.W=Ll.W,pt(this,It(Ll.a)),this.ua=Ll.ua):Ll&&(El=(Ll+"").match(TM))?(ct(this,El[1]||"",!0),this.Ca=yt(El[2]||""),this.ca=yt(El[3]||"",!0),gt(this,El[4]),this.W=yt(El[5]||"",!0),pt(this,El[6]||"",!0),this.ua=yt(El[7]||"")):this.a=new Tt(null)}function ct(Ll,El,jl){Ll.aa=jl?yt(El,!0):El,Ll.aa&&(Ll.aa=Ll.aa.replace(/:$/,""))}function gt(Ll,El){if(El){if(El=+El,isNaN(El)||0>El)throw Error("Bad port number "+El);Ll.Ka=El}else Ll.Ka=null}function pt(Ll,El,jl){El instanceof Tt?Ll.a=El:(jl||(El=Nt(El,jM)),Ll.a=new Tt(El))}function yt(Ll,El){return Ll?El?decodeURI(Ll):decodeURIComponent(Ll):""}function Nt(Ll,El,jl){return"string"==typeof Ll?(Ll=encodeURI(Ll).replace(El,Dt),jl&&(Ll=Ll.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Ll):null}function Dt(Ll){return Ll=Ll.charCodeAt(0),"%"+(15&Ll>>4).toString(16)+(15&Ll).toString(16)}function Tt(Ll){this.b=Ll||null}function It(Ll){var El=new Tt;if(El.b=Ll.b,Ll.a){var jl={},ml;for(ml in Ll.a)jl[ml]=Ll.a[ml].concat();El.a=jl,El.c=Ll.c}return El}function Lt(Ll,El){return Ll.reduce(function(jl,ml,Al){return ml["catch"](jl.bind(null,Al))}.bind(null,El),Promise.reject())}function Et(Ll,El){return Ll.concat(El)}function jt(){}function mt(Ll){return null!=Ll}function At(Ll){return function(El){return El!=Ll}}function ft(Ll,El,jl){return jl.indexOf(Ll)==El}function wt(Ll,El){if(!El.length)return Ll;var jl=El.map(function(ml){return new lt(ml)});return Ll.map(function(ml){return new lt(ml)}).map(function(ml){return jl.map(ml.resolve.bind(ml))}).reduce(Et,[]).map(function(ml){return ml.toString()})}function ht(Ll,El){return{keySystem:Ll,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:El||[],keyIds:[]}}function xt(Ll,El,jl,ml,Al){var fl=Al in ml,bl;for(bl in El){var wl=Al+"."+bl,hl=fl?ml[Al]:jl[bl],xl=!!{".abr.manager":!0}[wl]||!!{serverCertificate:!0}[bl];(fl||bl in Ll)&&(void 0===El[bl]?void 0===hl||fl?delete Ll[bl]:Ll[bl]=hl:xl?Ll[bl]=El[bl]:"object"==babelHelpers.typeof(Ll[bl])&&"object"==babelHelpers.typeof(El[bl])?xt(Ll[bl],El[bl],hl,ml,wl):babelHelpers.typeof(El[bl])==("undefined"===typeof hl?"undefined":babelHelpers.typeof(hl))&&(Ll[bl]=El[bl]))}}function St(Ll){return JSON.parse(JSON.stringify(Ll))}function Ot(){var jl=new Promise(function(ml,Al){Ll=ml,El=Al}),Ll,El;return jl.resolve=Ll,jl.reject=El,jl}function Ct(Ll){this.f=!1,this.a=[],this.b=[],this.c=[],this.h=Ll||null}function zt(){return{maxAttempts:2,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0}}function vt(Ll,El){return{uris:Ll,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:El}}function kt(Ll,El){for(var jl=[],ml=0;ml<Ll.length;++ml){for(var Al=!1,fl=0;fl<jl.length&&!(Al=El?El(Ll[ml],jl[fl]):Ll[ml]===jl[fl]);++fl);Al||jl.push(Ll[ml])}return jl}function Ut(Ll,El,jl){for(var ml=0;ml<Ll.length;++ml)if(jl(Ll[ml],El))return ml;return-1}function Qt(){this.a={}}function _t(){this.a=new Qt}function Rt(Ll,El,jl,ml){Ll.a&&(El=new Pt(El,jl,ml),Ll.a.push(jl,El))}function Bt(Ll,El,jl,ml){Rt(Ll,El,jl,function(Al){this.ha(El,jl),ml(Al)}.bind(Ll))}function Yt(Ll){if(Ll.a){var El=Ll.a,jl=[],ml;for(ml in El.a)jl.push.apply(jl,El.a[ml]);for(El=0;El<jl.length;++El)jl[El].ha();Ll.a.a={}}}function Pt(Ll,El,jl){this.target=Ll,this.type=El,this.a=jl,this.target.addEventListener(El,jl,!1)}function Ft(Ll){return!Ll||!Object.keys(Ll).length}function Gt(Ll){return Object.keys(Ll).map(function(El){return Ll[El]})}function Vt(Ll,El){return Object.keys(Ll).reduce(function(jl,ml){return jl[ml]=El(Ll[ml],ml),jl},{})}function Ht(Ll,El){return Object.keys(Ll).every(function(jl){return El(jl,Ll[jl])})}function Wt(Ll,El){Object.keys(Ll).forEach(function(jl){El(jl,Ll[jl])})}function Zt(Ll){if(!Ll)return"";Ll=new Uint8Array(Ll),239==Ll[0]&&187==Ll[1]&&191==Ll[2]&&(Ll=Ll.subarray(3)),Ll=escape(Jt(Ll));try{return decodeURIComponent(Ll)}catch(El){throw new Mt(2,2,2004)}}function Xt(Ll,El,jl){if(!Ll)return"";if(!jl&&Ll.byteLength%2)throw new Mt(2,2,2004);if(Ll instanceof ArrayBuffer)var ml=Ll;else jl=new Uint8Array(Ll.byteLength),jl.set(new Uint8Array(Ll)),ml=jl.buffer;Ll=Math.floor(Ll.byteLength/2),jl=new Uint16Array(Ll),ml=new DataView(ml);for(var Al=0;Al<Ll;Al++)jl[Al]=ml.getUint16(2*Al,El);return Jt(jl)}function Kt(Ll){var El=new Uint8Array(Ll);if(239==El[0]&&187==El[1]&&191==El[2])return Zt(El);if(254==El[0]&&255==El[1])return Xt(El.subarray(2),!1);if(255==El[0]&&254==El[1])return Xt(El.subarray(2),!0);var jl=function(ml,Al){return ml.byteLength<=Al||32<=ml[Al]&&126>=ml[Al]}.bind(null,El);if(El[0]||El[2]){if(!El[1]&&!El[3])return Xt(Ll,!0);if(jl(0)&&jl(1)&&jl(2)&&jl(3))return Zt(Ll)}else return Xt(Ll,!1);throw new Mt(2,2,2003)}function qt(Ll){Ll=unescape(encodeURIComponent(Ll));for(var El=new Uint8Array(Ll.length),jl=0;jl<Ll.length;++jl)El[jl]=Ll.charCodeAt(jl);return El.buffer}function Jt(Ll){for(var El="",jl=0;jl<Ll.length;jl+=16E3)El+=String.fromCharCode.apply(null,Ll.subarray(jl,jl+16E3));return El}function $t(Ll){this.a=null,this.b=function(){this.a=null,Ll()}.bind(this)}function ei(Ll){Ll.cancel(),Ll.a=setTimeout(Ll.b,500)}function ti(Ll,El){var ml=tt.btoa(String.fromCharCode.apply(null,Ll)).replace(/\+/g,"-").replace(/\//g,"_");return!(void 0!=El)||El?ml:ml.replace(/=*$/,"")}function ii(Ll){Ll=tt.atob(Ll.replace(/-/g,"+").replace(/_/g,"/"));for(var El=new Uint8Array(Ll.length),jl=0;jl<Ll.length;++jl)El[jl]=Ll.charCodeAt(jl);return El}function ai(Ll){for(var El=new Uint8Array(Ll.length/2),jl=0;jl<Ll.length;jl+=2)El[jl/2]=tt.parseInt(Ll.substr(jl,2),16);return El}function ni(Ll){for(var El="",jl=0,ml;jl<Ll.length;++jl)ml=Ll[jl].toString(16),1==ml.length&&(ml="0"+ml),El+=ml;return El}function ri(Ll,El){if(!Ll&&!El)return!0;if(!Ll||!El||Ll.length!=El.length)return!1;for(var jl=0;jl<Ll.length;++jl)if(Ll[jl]!=El[jl])return!1;return!0}function si(Ll,El,jl,ml){this.l=this.j=this.v=null,this.J=!1,this.b=null,this.f=new _t,this.a=[],this.o=[],this.i=new Ot,this.la=Ll,this.h=null,this.g=function(Al){this.i.reject(Al),El(Al)}.bind(this),this.A={},this.Da=jl,this.ma=ml,this.B=new $t(this.Kd.bind(this)),this.ka=this.c=!1,this.G=[],this.ja=!1,this.O=setInterval(this.Jd.bind(this),1E3),this.i["catch"](function(){})}function oi(Ll,El){if(!Ll.j)return Bt(Ll.f,El,"encrypted",function(){this.g(new Mt(2,6,6010))}.bind(Ll)),Promise.resolve();Ll.l=El,Bt(Ll.f,Ll.l,"play",Ll.qd.bind(Ll));var jl=Ll.l.setMediaKeys(Ll.j),jl=jl["catch"](function(Al){return Promise.reject(new Mt(2,6,6003,Al.message))}),ml=null;return Ll.b.serverCertificate&&(ml=Ll.j.setServerCertificate(Ll.b.serverCertificate).then(function(){})["catch"](function(Al){return Promise.reject(new Mt(2,6,6004,Al.message))})),Promise.all([jl,ml]).then(function(){return this.c?Promise.reject():void(ui(this),this.b.initData.length||this.o.length||Rt(this.f,this.l,"encrypted",this.fd.bind(this)))}.bind(Ll))["catch"](function(Al){return this.c?Promise.resolve():Promise.reject(Al)}.bind(Ll))}function di(Ll,El){return Promise.all(El.map(function(jl){return Di(this,jl).then(function(ml){if(ml){for(var Al=new Ot,fl=0;fl<this.a.length;fl++)if(this.a[fl].ba==ml){this.a[fl].ia=Al;break}return Promise.all([ml.remove(),Al])}}.bind(this))}.bind(Ll)))}function ui(Ll){var El=Ll.b?Ll.b.initData:[];return El.forEach(function(jl){Ti(this,jl.initDataType,jl.initData)}.bind(Ll)),Ll.o.forEach(function(jl){Di(this,jl)}.bind(Ll)),El.length||Ll.o.length||Ll.i.resolve(),Ll.i}function Mi(Ll){return Ll.a.map(function(El){return El.ba.sessionId})}function li(Ll,El,jl,ml,Al){var fl=pi(Ll);El.periods.forEach(function(bl){bl.variants.forEach(function(wl){fl&&(wl.drmInfos=[fl]),wl.drmInfos.forEach(function(hl){gi(this,hl),tt.cast&&tt.cast.__platform__&&"com.microsoft.playready"==hl.keySystem&&(hl.keySystem="com.chromecast.playready");var xl=ml[hl.keySystem];xl||(xl={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:jl?"required":"optional",sessionTypes:[jl?"persistent-license":"temporary"],label:hl.keySystem,drmInfos:[]},ml[hl.keySystem]=xl,Al.push(hl.keySystem)),xl.drmInfos.push(hl),hl.distinctiveIdentifierRequired&&(xl.distinctiveIdentifier="required"),hl.persistentStateRequired&&(xl.persistentState="required");var Sl=[];wl.video&&Sl.push(wl.video),wl.audio&&Sl.push(wl.audio),Sl.forEach(function(Ol){var Cl="video"==Ol.type?xl.videoCapabilities:xl.audioCapabilities,zl=("video"==Ol.type?hl.videoRobustness:hl.audioRobustness)||"",vl=Ol.mimeType;Ol.codecs&&(vl+="; codecs=\""+Ol.codecs+"\""),Cl.push({robustness:zl,contentType:vl})}.bind(this))}.bind(this))}.bind(this))}.bind(Ll))}function ci(Ll,El,jl){if(1==jl.length&&""==jl[0])return Promise.reject(new Mt(2,6,6E3));var ml=new Ot,Al=ml;return[!0,!1].forEach(function(fl){jl.forEach(function(bl){var wl=El[bl];wl.drmInfos.some(function(hl){return!!hl.licenseServerUri})==fl&&(wl.audioCapabilities.length||delete wl.audioCapabilities,wl.videoCapabilities.length||delete wl.videoCapabilities,Al=Al["catch"](function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(bl,[wl])}.bind(this)))}.bind(this))}.bind(Ll)),Al=Al["catch"](function(){return Promise.reject(new Mt(2,6,6001))}),Al=Al.then(function(fl){if(this.c)return Promise.reject();var bl=0<=navigator.userAgent.indexOf("Edge/"),wl=fl.getConfiguration();return this.v=(wl.audioCapabilities||[]).concat(wl.videoCapabilities||[]).map(function(hl){return hl.contentType}),bl&&(this.v=null),bl=El[fl.keySystem],yi(this,fl.keySystem,bl,bl.drmInfos),this.b.licenseServerUri?fl.createMediaKeys():Promise.reject(new Mt(2,6,6012))}.bind(Ll)).then(function(fl){return this.c?Promise.reject():void(this.j=fl,this.J=!0)}.bind(Ll))["catch"](function(fl){return this.c?Promise.resolve():(this.v=this.b=null,fl instanceof Mt?Promise.reject(fl):Promise.reject(new Mt(2,6,6002,fl.message)))}.bind(Ll)),ml.reject(),Al}function gi(Ll,El){var jl=El.keySystem;if(jl){if(!El.licenseServerUri){var ml=Ll.h.servers[jl];ml&&(El.licenseServerUri=ml)}El.keyIds||(El.keyIds=[]),(jl=Ll.h.advanced[jl])&&(El.distinctiveIdentifierRequired||(El.distinctiveIdentifierRequired=jl.distinctiveIdentifierRequired),El.persistentStateRequired||(El.persistentStateRequired=jl.persistentStateRequired),El.videoRobustness||(El.videoRobustness=jl.videoRobustness),El.audioRobustness||(El.audioRobustness=jl.audioRobustness),El.serverCertificate||(El.serverCertificate=jl.serverCertificate))}}function pi(Ll){if(Ft(Ll.h.clearKeys))return null;var El=[],jl=[],ml;for(ml in Ll.h.clearKeys){var Al=Ll.h.clearKeys[ml],fl=ai(ml),Al=ai(Al),fl={kty:"oct",kid:ti(fl,!1),k:ti(Al,!1)};El.push(fl),jl.push(fl.kid)}return Ll=JSON.stringify({keys:El}),jl=JSON.stringify({kids:jl}),jl=[{initData:new Uint8Array(qt(jl)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+tt.btoa(Ll),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:jl,keyIds:[]}}function yi(Ll,El,jl,ml){var Al=[],fl=[],bl=[],wl=[];Ni(ml,Al,fl,bl,wl),Ll.b={keySystem:El,licenseServerUri:Al[0],distinctiveIdentifierRequired:"required"==jl.distinctiveIdentifier,persistentStateRequired:"required"==jl.persistentState,audioRobustness:jl.audioCapabilities?jl.audioCapabilities[0].robustness:"",videoRobustness:jl.videoCapabilities?jl.videoCapabilities[0].robustness:"",serverCertificate:fl[0],initData:bl,keyIds:wl}}function Ni(Ll,El,jl,ml,Al){function fl(bl,wl){return bl.keyId&&bl.keyId==wl.keyId||bl.initDataType==wl.initDataType&&ri(bl.initData,wl.initData)}Ll.forEach(function(bl){if(-1==El.indexOf(bl.licenseServerUri)&&El.push(bl.licenseServerUri),bl.serverCertificate&&-1==Ut(jl,bl.serverCertificate,ri)&&jl.push(bl.serverCertificate),bl.initData&&bl.initData.forEach(function(hl){-1==Ut(ml,hl,fl)&&ml.push(hl)}),bl.keyIds)for(var wl=0;wl<bl.keyIds.length;++wl)-1==Al.indexOf(bl.keyIds[wl])&&Al.push(bl.keyIds[wl])})}function Di(Ll,El){try{var jl=Ll.j.createSession("persistent-license")}catch(fl){var ml=new Mt(2,6,6005,fl.message);return Ll.g(ml),Promise.reject(ml)}Rt(Ll.f,jl,"message",Ll.kc.bind(Ll)),Rt(Ll.f,jl,"keystatuseschange",Ll.ec.bind(Ll));var Al={initData:null,ba:jl,loaded:!1,zb:Infinity,ia:null};return Ll.a.push(Al),jl.load(El).then(function(fl){if(!this.c){if(fl)return Al.loaded=!0,this.a.every(function(bl){return bl.loaded})&&this.i.resolve(),jl;this.a.splice(this.a.indexOf(Al),1),this.g(new Mt(2,6,6013))}}.bind(Ll),function(fl){this.c||(this.a.splice(this.a.indexOf(Al),1),this.g(new Mt(2,6,6005,fl.message)))}.bind(Ll))}function Ti(Ll,El,jl){try{var ml=Ll.ka?Ll.j.createSession("persistent-license"):Ll.j.createSession()}catch(Al){return void Ll.g(new Mt(2,6,6005,Al.message))}Rt(Ll.f,ml,"message",Ll.kc.bind(Ll)),Rt(Ll.f,ml,"keystatuseschange",Ll.ec.bind(Ll)),Ll.a.push({initData:jl,ba:ml,loaded:!1,zb:Infinity,ia:null}),ml.generateRequest(El,jl.buffer)["catch"](function(Al){if(!this.c){for(var fl=0;fl<this.a.length;++fl)if(this.a[fl].ba==ml){this.a.splice(fl,1);break}this.g(new Mt(2,6,6006,Al.message))}}.bind(Ll))}function Ii(Ll,El){for(var jl=El.target,Al=0,ml;Al<Ll.a.length;Al++)if(Ll.a[Al].ba==jl){ml=Ll.a[Al];break}Al=vt([Ll.b.licenseServerUri],Ll.h.retryParameters),Al.body=El.message,Al.method="POST","com.microsoft.playready"!=Ll.b.keySystem&&"com.chromecast.playready"!=Ll.b.keySystem||Li(Al),Ll.la.request(2,Al).then(function(fl){return this.c?Promise.reject():jl.update(fl.data).then(function(){ml&&(ml.ia&&ml.ia.resolve(),setTimeout(function(){ml.loaded=!0,this.a.every(function(bl){return bl.loaded})&&this.i.resolve()}.bind(this),5E3))}.bind(this))}.bind(Ll),function(fl){return this.c?Promise.resolve():void(fl=new Mt(2,6,6007,fl),this.g(fl),ml&&ml.ia&&ml.ia.reject(fl))}.bind(Ll))["catch"](function(fl){return this.c?Promise.resolve():void(fl=new Mt(2,6,6008,fl.message),this.g(fl),ml&&ml.ia&&ml.ia.reject(fl))}.bind(Ll))}function Li(Ll){var El=Xt(Ll.body,!0,!0);if(-1==El.indexOf("PlayReadyKeyMessage"))Ll.headers["Content-Type"]="text/xml; charset=utf-8";else{for(var El=new DOMParser().parseFromString(El,"application/xml"),jl=El.getElementsByTagName("HttpHeader"),ml=0;ml<jl.length;++ml)Ll.headers[jl[ml].querySelector("name").textContent]=jl[ml].querySelector("value").textContent;Ll.body=ii(El.querySelector("Challenge").textContent).buffer}}function Ei(){var Ll=[],El=[{contentType:"video/mp4; codecs=\"avc1.42E01E\""},{contentType:"video/webm; codecs=\"vp8\""}],jl=[{videoCapabilities:El,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:El}],ml={};return"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(Al){var fl=navigator.requestMediaKeySystemAccess(Al,jl).then(function(bl){var wl=bl.getConfiguration().sessionTypes,wl=!!wl&&0<=wl.indexOf("persistent-license");return 0<=navigator.userAgent.indexOf("Tizen 3")&&(wl=!1),ml[Al]={persistentState:wl},bl.createMediaKeys()})["catch"](function(){ml[Al]=null});Ll.push(fl)}),Promise.all(Ll).then(function(){return ml})}function ji(Ll,El){var jl=Ll.keySystem();return!El.drmInfos.length||El.drmInfos.some(function(ml){return ml.keySystem==jl})}function mi(Ll,El){if(!Ll.length)return El;if(!El.length)return Ll;for(var jl=[],ml=0;ml<Ll.length;ml++)for(var Al=0;Al<El.length;Al++)if(Ll[ml].keySystem==El[Al].keySystem){var fl=Ll[ml],Al=El[Al],bl=[],bl=bl.concat(fl.initData||[]),bl=bl.concat(Al.initData||[]),wl=[],wl=wl.concat(fl.keyIds),wl=wl.concat(Al.keyIds);jl.push({keySystem:fl.keySystem,licenseServerUri:fl.licenseServerUri||Al.licenseServerUri,distinctiveIdentifierRequired:fl.distinctiveIdentifierRequired||Al.distinctiveIdentifierRequired,persistentStateRequired:fl.persistentStateRequired||Al.persistentStateRequired,videoRobustness:fl.videoRobustness||Al.videoRobustness,audioRobustness:fl.audioRobustness||Al.audioRobustness,serverCertificate:fl.serverCertificate||Al.serverCertificate,initData:bl,keyIds:wl});break}return jl}function Ai(Ll){this.f=null,this.c=Ll,this.h=0,this.g=Infinity,this.a=this.b=null}function fi(Ll,El){bM[Ll]=El.length?xi.bind(null,El):El}function bi(Ll,El,jl){return Ll>=El?null:new VTTCue(Ll,El,jl)}function wi(Ll,El,jl,ml){return Promise.resolve().then(function(){if(this.c)if(null==jl||null==ml)this.f.parseInit(El);else{for(var Al=this.f.parseMedia(El,{periodStart:this.h,segmentStart:jl,segmentEnd:ml}),fl=0;fl<Al.length&&!(Al[fl].startTime>=this.g);++fl)this.c.addCue(Al[fl]);null==this.b&&(this.b=jl),this.a=Math.min(ml,this.g)}}.bind(Ll))}function hi(Ll,El){for(var jl=Ll.c.cues,ml=[],Al=0;Al<jl.length;++Al)El(jl[Al])&&ml.push(jl[Al]);for(Al=0;Al<ml.length;++Al)Ll.c.removeCue(ml[Al])}function xi(Ll){this.Oa=Ll}function Si(Ll){return!Ll||1==Ll.length&&1E-6>Ll.end(0)-Ll.start(0)?null:Ll.length?Ll.end(Ll.length-1):null}function Oi(Ll,El){return Ll&&Ll.length&&(1!=Ll.length||!(1E-6>Ll.end(0)-Ll.start(0)))&&El>=Ll.start(0)&&El<=Ll.end(Ll.length-1)}function Ci(Ll,El){if(!Ll||!Ll.length||1==Ll.length&&1E-6>Ll.end(0)-Ll.start(0))return 0;for(var jl=0,ml=Ll.length-1;0<=ml&&Ll.end(ml)>El;--ml)jl+=Ll.end(ml)-Math.max(Ll.start(ml),El);return jl}function zi(Ll,El,jl){this.f=Ll,this.N=El,this.i=jl,this.c={},this.a=null,this.b={},this.g=new _t,this.h=!1}function vi(){var Ll={};return"video/mp4; codecs=\"avc1.42E01E\",video/mp4; codecs=\"avc3.42E01E\",video/mp4; codecs=\"hvc1.1.6.L93.90\",audio/mp4; codecs=\"mp4a.40.2\",audio/mp4; codecs=\"ac-3\",audio/mp4; codecs=\"ec-3\",video/webm; codecs=\"vp8\",video/webm; codecs=\"vp9\",video/webm; codecs=\"av1\",audio/webm; codecs=\"vorbis\",audio/webm; codecs=\"opus\",video/mp2t; codecs=\"avc1.42E01E\",video/mp2t; codecs=\"avc3.42E01E\",video/mp2t; codecs=\"hvc1.1.6.L93.90\",video/mp2t; codecs=\"mp4a.40.2\",video/mp2t; codecs=\"ac-3\",video/mp2t; codecs=\"ec-3\",video/mp2t; codecs=\"mp4a.40.2\",text/vtt,application/mp4; codecs=\"wvtt\",application/ttml+xml,application/mp4; codecs=\"stpp\"".split(",").forEach(function(El){Ll[El]=!!bM[El]||MediaSource.isTypeSupported(El);var jl=El.split(";")[0];Ll[jl]=Ll[jl]||Ll[El]}),Ll}function ki(Ll,El){Ll.a||(Ll.a=new Ai(Ll.i)),Ll.a.f=new bM[El]}function Ui(Ll,El){if("text"==El)var jl=Ll.a.b;else jl=Qi(Ll,El),jl=!jl||1==jl.length&&1E-6>jl.end(0)-jl.start(0)?null:1==jl.length&&0>jl.start(0)?0:jl.length?jl.start(0):null;return jl}function Qi(Ll,El){try{return Ll.c[El].buffered}catch(jl){return null}}function _i(Ll,El,jl,ml,Al){return"text"==El?wi(Ll.a,jl,ml,Al):Yi(Ll,El,Ll.je.bind(Ll,El,jl))}function Ri(Ll,El){return"text"==El?Ll.a.remove(0,Infinity):Yi(Ll,El,Ll.qc.bind(Ll,El,0,Ll.N.duration))}function Bi(Ll,El,jl,ml){return"text"==El?(Ll.a.h=jl,null!=ml&&(Ll.a.g=ml),Promise.resolve()):(null==ml&&(ml=Infinity),Promise.all([Yi(Ll,El,Ll.Ec.bind(Ll,El)),Yi(Ll,El,Ll.$d.bind(Ll,El,jl)),Yi(Ll,El,Ll.Yd.bind(Ll,El,ml))]))}function Yi(Ll,El,jl){if(Ll.h)return Promise.reject();if(jl={start:jl,p:new Ot},Ll.b[El].push(jl),1==Ll.b[El].length)try{jl.start()}catch(ml){"QuotaExceededError"==ml.name?jl.p.reject(new Mt(2,3,3017,El)):jl.p.reject(new Mt(2,3,3015,ml)),Fi(Ll,El)}return jl.p}function Pi(Ll,El){if(Ll.h)return Promise.reject();var jl=[],ml;for(ml in Ll.c){var Al=new Ot,fl={start:function(bl){bl.resolve()}.bind(null,Al),p:Al};Ll.b[ml].push(fl),jl.push(Al),1==Ll.b[ml].length&&fl.start()}return Promise.all(jl).then(function(){try{El()}catch(hl){var wl=Promise.reject(new Mt(2,3,3015,hl))}for(var bl in this.c)Fi(this,bl);return wl}.bind(Ll),function(){return Promise.reject()}.bind(Ll))}function Fi(Ll,El){Ll.b[El].shift();var jl=Ll.b[El][0];if(jl)try{jl.start()}catch(ml){jl.p.reject(new Mt(2,3,3015,ml)),Fi(Ll,El)}}function Gi(Ll,El,jl){return jl==El||Ll>=wM&&jl==El.split("-")[0]||Ll>=hM&&jl.split("-")[0]==El.split("-")[0]}function Vi(Ll){Ll=Ll.toLowerCase().split("-");var El=xM[Ll[0]];return El&&(Ll[0]=El),Ll.join("-")}function Hi(Ll,El,jl){var ml=Ll.video;return ml&&(ml.width<El.minWidth||ml.width>El.maxWidth||ml.width>jl.width||ml.height<El.minHeight||ml.height>El.maxHeight||ml.height>jl.height||ml.width*ml.height<El.minPixels||ml.width*ml.height>El.maxPixels)||Ll.bandwidth<El.minBandwidth||Ll.bandwidth>El.maxBandwidth?!1:!0}function Wi(Ll,El,jl){var ml=!1;return Ll.variants.forEach(function(Al){var fl=Al.allowedByApplication;Al.allowedByApplication=Hi(Al,El,jl),fl!=Al.allowedByApplication&&(ml=!0)}),ml}function Zi(Ll,El,jl){var ml=El.video,Al=El.audio;for(El=0;El<jl.variants.length;++El){var fl=jl.variants[El],bl=Ll;(bl&&bl.J&&!ji(bl,fl)?0:Xi(fl.audio,bl,Al)&&Xi(fl.video,bl,ml))||(jl.variants.splice(El,1),--El)}for(El=0;El<jl.textStreams.length;++El)Ll=jl.textStreams[El],bM[rn(Ll.mimeType,Ll.codecs)]||(jl.textStreams.splice(El,1),--El)}function Xi(Ll,El,jl){if(!Ll)return!0;var ml=null;return El&&El.J&&(ml=El.v),El=rn(Ll.mimeType,Ll.codecs),!bM[El]&&!MediaSource.isTypeSupported(El)||ml&&Ll.encrypted&&0>ml.indexOf(El)||jl&&(Ll.mimeType!=jl.mimeType||Ll.codecs.split(".")[0]!=jl.codecs.split(".")[0])?!1:!0}function Ki(Ll,El,jl){var ml=null;return _a(Ll.variants).map(function(Al){var fl=Al.video&&Al.audio?jl==Al.video.id&&El==Al.audio.id:Al.video&&jl==Al.video.id||Al.audio&&El==Al.audio.id;var bl="";Al.video&&(bl+=Al.video.codecs),Al.audio&&(""!=bl&&(bl+=", "),bl+=Al.audio.codecs,ml=Al.audio.label);var wl=Al.audio?Al.audio.codecs:null,hl=Al.video?Al.video.codecs:null,xl=null;Al.video?xl=Al.video.mimeType:Al.audio&&(xl=Al.audio.mimeType);var Sl=null;Al.audio?Sl=Al.audio.kind:Al.video&&(Sl=Al.video.kind);var Ol=kt((Al.audio?Al.audio.roles:[]).concat(Al.video?Al.video.roles:[]));return{id:Al.id,active:fl,type:"variant",bandwidth:Al.bandwidth,language:Al.language,label:ml,kind:Sl||null,width:Al.video?Al.video.width:null,height:Al.video?Al.video.height:null,frameRate:Al.video?Al.video.frameRate:void 0,mimeType:xl,codecs:bl,audioCodec:wl,videoCodec:hl,primary:Al.primary,roles:Ol,videoId:Al.video?Al.video.id:null,audioId:Al.audio?Al.audio.id:null}})}function qi(Ll,El){return Ll.textStreams.map(function(jl){return{id:jl.id,active:El==jl.id,type:"text",language:jl.language,label:jl.label,kind:jl.kind,mimeType:jl.mimeType,codecs:jl.codecs||null,audioCodec:null,videoCodec:null,primary:jl.primary,roles:jl.roles}})}function Ji(Ll,El){for(var jl=0;jl<Ll.variants.length;jl++)if(Ll.variants[jl].id==El.id)return Ll.variants[jl];return null}function $i(Ll,El){for(var jl=0;jl<Ll.textStreams.length;jl++)if(Ll.textStreams[jl].id==El.id)return Ll.textStreams[jl];return null}function _a(Ll){return Ll.filter(function(El){return El.allowedByApplication&&El.allowedByKeySystem})}function en(Ll,El,jl,ml){var Al=_a(Ll.variants),fl=Al.filter(function(hl){return hl.language==Al[0].language});if(Ll=Al.filter(function(hl){return hl.primary}),Ll.length&&(fl=Ll),El){var bl=Vi(El);[hM,wM,0].forEach(function(hl){var xl=!1;Al.forEach(function(Sl){bl=Vi(bl);var Ol=Vi(Sl.language);Gi(hl,bl,Ol)&&(xl?fl.push(Sl):(fl=[Sl],xl=!0),jl&&(jl.audio=!0))})})}var wl=ml||"";return wl&&(El=fl.filter(function(hl){return hl.audio&&-1<hl.audio.roles.indexOf(wl)||hl.video&&-1<hl.video.roles.indexOf(wl)}),El.length)?El:fl}function tn(Ll,El,jl,ml){var Al=Ll.textStreams,fl=Al;if(Ll=Al.filter(function(hl){return hl.primary}),Ll.length&&(fl=Ll),El){var bl=Vi(El);[hM,wM,0].forEach(function(hl){var xl=!1;Al.forEach(function(Sl){var Ol=Vi(Sl.language);Gi(hl,bl,Ol)&&(xl?fl.push(Sl):(fl=[Sl],xl=!0),jl&&(jl.text=!0))})})}var wl=ml||"";return wl&&(El=fl.filter(function(hl){return hl&&-1<hl.roles.indexOf(wl)}),El.length)?El:fl}function an(Ll,El,jl){for(var ml=0;ml<jl.length;ml++)if(jl[ml].audio==Ll&&jl[ml].video==El)return jl[ml];return null}function nn(Ll,El,jl){function ml(fl,bl){return null==fl?null==bl:bl.id==fl}for(var Al=0;Al<jl.length;Al++)if(ml(Ll,jl[Al].audio)&&ml(El,jl[Al].video))return jl[Al];return null}function rn(Ll,El){var jl=Ll;return El&&(jl+="; codecs=\""+El+"\""),jl}function sn(Ll,El){for(var jl=Ll.periods.length-1;0<jl;--jl)if(El+AM>=Ll.periods[jl].startTime)return jl;return 0}function dn(Ll,El){for(var jl=0,ml;jl<Ll.periods.length;++jl)if(ml=Ll.periods[jl],"text"==El.type){for(var Al=0;Al<ml.textStreams.length;++Al)if(ml.textStreams[Al]==El)return jl;}else for(Al=0;Al<ml.variants.length;++Al){var fl=ml.variants[Al];if(fl.audio==El||fl.video==El||fl.video&&fl.video.trickModeVideo==El)return jl}return-1}function un(){this.f=null,this.b=!1,this.a=new ot,this.h=[],this.g=[],this.j=!1,this.c=null,this.i={minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}}function Mn(Ll,El){return El.filter(function(jl){return Hi(jl,Ll,{width:Infinity,height:Infinity})}).sort(function(jl,ml){return jl.bandwidth-ml.bandwidth})}function ln(Ll,El){var jl=El||{},ml;for(ml in jl)this[ml]=jl[ml];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=tt.performance&&tt.performance.now?tt.performance.now():Date.now(),this.type=Ll,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function cn(Ll){return JSON.stringify(Ll,function(El,jl){if("manager"!=El&&"function"!=typeof jl){if(jl instanceof Event||jl instanceof ln){var ml={},Al;for(Al in jl){var fl=jl[Al];fl&&"object"==("undefined"===typeof fl?"undefined":babelHelpers.typeof(fl))||Al in Event||(ml[Al]=fl)}return ml}if(jl instanceof TimeRanges)for(ml={__type__:"TimeRanges",length:jl.length,start:[],end:[]},Al=0;Al<jl.length;++Al)ml.start.push(jl.start(Al)),ml.end.push(jl.end(Al));else ml="number"==typeof jl?isNaN(jl)?"NaN":isFinite(jl)?jl:0>jl?"-Infinity":"Infinity":jl;return ml}})}function gn(Ll){return JSON.parse(Ll,function(El,jl){return"NaN"==jl?NaN:"-Infinity"==jl?-Infinity:"Infinity"==jl?Infinity:jl&&"object"==("undefined"===typeof jl?"undefined":babelHelpers.typeof(jl))&&"TimeRanges"==jl.__type__?pn(jl):jl})}function pn(Ll){return{length:Ll.length,start:function(jl){return Ll.start[jl]},end:function(jl){return Ll.end[jl]}}}function yn(Ll,El,jl,ml,Al){this.J=Ll,this.l=El,this.B=jl,this.G=ml,this.v=Al,this.c=this.j=this.h=!1,this.A="",this.a=this.i=null,this.b={video:{},player:{}},this.o=0,this.f={},this.g=null}function Nn(Ll){for(var El in Ll.f){var jl=Ll.f[El];delete Ll.f[El],jl.reject(new Mt(1,7,7E3))}}function Dn(Ll,El){var jl=cn(El);Ll.a.sendMessage("urn:x-cast:com.google.shaka.v2",jl,function(){},ut)}function Tn(){this.nb=new Qt,this.Ua=this}function Ln(Ll,El,jl){Tn.call(this),this.c=Ll,this.b=El,this.h=this.f=this.g=this.i=this.j=null,this.a=new yn(jl,this.fe.bind(this),this.ge.bind(this),this.he.bind(this),this.Vb.bind(this)),En(this)}function En(Ll){for(var El in Ll.a.init(),Ll.h=new _t,SM.forEach(function(jl){Rt(this.h,this.c,jl,this.ue.bind(this))}.bind(Ll)),vM.forEach(function(jl){Rt(this.h,this.b,jl,this.Id.bind(this))}.bind(Ll)),Ll.j={},Ll.c)Object.defineProperty(Ll.j,El,{configurable:!1,enumerable:!0,get:Ll.te.bind(Ll,El),set:Ll.ve.bind(Ll,El)});for(El in Ll.i={},Ll.b)Object.defineProperty(Ll.i,El,{configurable:!1,enumerable:!0,get:Ll.Hd.bind(Ll,El)});Ll.g=new Tn,Ll.g.Ua=Ll.j,Ll.f=new Tn,Ll.f.Ua=Ll.i}function jn(Ll,El,jl,ml){Tn.call(this),this.a=Ll,this.b=El,this.j={video:Ll,player:El},this.l=jl||function(){},this.o=ml||function(Al){return Al},this.i=!1,this.f=!0,this.h=this.g=this.c=null,mn(this)}function mn(Ll){var El=cast.receiver.CastReceiverManager.getInstance();El.onSenderConnected=Ll.jc.bind(Ll),El.onSenderDisconnected=Ll.jc.bind(Ll),El.onSystemVolumeChanged=Ll.Mc.bind(Ll),Ll.g=El.getCastMessageBus("urn:x-cast:com.google.cast.media"),Ll.g.onMessage=Ll.hd.bind(Ll),Ll.c=El.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),Ll.c.onMessage=Ll.vd.bind(Ll),El.start(),SM.forEach(function(jl){this.a.addEventListener(jl,this.mc.bind(this,"video"))}.bind(Ll)),vM.forEach(function(jl){this.b.addEventListener(jl,this.mc.bind(this,"player"))}.bind(Ll)),cast.__platform__&&cast.__platform__.canDisplayType("video/mp4; codecs=\"avc1.640028\"; width=3840; height=2160")?Ll.b.Jb(3840,2160):Ll.b.Jb(1920,1080),Ll.b.addEventListener("loading",function(){this.f=!1,An(this)}.bind(Ll)),Ll.a.addEventListener("playing",function(){this.f=!1,An(this)}.bind(Ll)),Ll.a.addEventListener("pause",function(){An(this)}.bind(Ll)),Ll.b.addEventListener("unloading",function(){this.f=!0,An(this)}.bind(Ll)),Ll.a.addEventListener("ended",function(){tt.setTimeout(function(){this.a&&this.a.ended&&(this.f=!0,An(this))}.bind(this),5E3)}.bind(Ll))}function An(Ll){Promise.resolve().then(function(){this.dispatchEvent(new ln("caststatuschanged")),xn(this,0)}.bind(Ll))}function wn(Ll,El,jl){for(var ml in El.player)Ll.b[ml](El.player[ml]);Ll.l(jl),jl=Promise.resolve();var Al=Ll.a.autoplay;El.manifest&&(Ll.a.autoplay=!1,jl=Ll.b.load(El.manifest,El.startTime),jl["catch"](function(fl){this.b.dispatchEvent(new ln("error",{detail:fl}))}.bind(Ll))),jl.then(function(){for(var fl in El.video){var bl=El.video[fl];this.a[fl]=bl}for(fl in El.playerAfterLoad)bl=El.playerAfterLoad[fl],this.b[fl](bl);this.a.autoplay=Al,El.manifest&&(this.a.play(),xn(this,0))}.bind(Ll))}function hn(Ll,El,jl,ml){Ll.i&&(Ll=cn(El),ml?jl.getCastChannel(ml).send(Ll):jl.broadcast(Ll))}function xn(Ll,El,jl){var ml=BM,ml={mediaSessionId:0,playbackRate:Ll.a.playbackRate,playerState:Ll.f?ml.IDLE:Ll.b.la?ml.Ac:Ll.a.paused?ml.Bc:ml.Cc,currentTime:Ll.a.currentTime,supportedMediaCommands:15,volume:{level:Ll.a.volume,muted:Ll.a.muted}};jl&&(ml.media=jl),hn(Ll,{requestId:El,type:"MEDIA_STATUS",status:[ml]},Ll.g)}function Sn(Ll,El){var jl=On(Ll,El);return 1==jl.length?jl[0]:null}function On(Ll,El){return Array.prototype.filter.call(Ll.childNodes,function(jl){return jl.tagName==El})}function Cn(Ll){var El=Ll.firstChild;return El&&El.nodeType==Node.TEXT_NODE?Ll.textContent.trim():null}function zn(Ll,El,jl,ml){var Al=null;return Ll=Ll.getAttribute(El),null!=Ll&&(Al=jl(Ll)),null==Al?void 0==ml?null:ml:Al}function vn(Ll){return Ll?(/^\d+\-\d+\-\d+T\d+:\d+:\d+(\.\d+)?$/.test(Ll)&&(Ll+="Z"),Ll=Date.parse(Ll),isNaN(Ll)?null:Math.floor(Ll/1E3)):null}function kn(Ll){return Ll?(Ll=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(Ll),!Ll)?null:(Ll=31536E3*+(Ll[1]||null)+2592E3*+(Ll[2]||null)+86400*+(Ll[3]||null)+3600*+(Ll[4]||null)+60*+(Ll[5]||null)+ +(Ll[6]||null),isFinite(Ll)?Ll:null):null}function Un(Ll){var El=/([0-9]+)-([0-9]+)/.exec(Ll);return El?(Ll=+El[1],!isFinite(Ll))?null:(El=+El[2],isFinite(El)?{start:Ll,end:El}:null):null}function Qn(Ll){return Ll=+Ll,Ll%1?null:Ll}function _n(Ll){return Ll=+Ll,!(Ll%1)&&0<Ll?Ll:null}function Rn(Ll){return Ll=+Ll,!(Ll%1)&&0<=Ll?Ll:null}function Bn(Ll){var El;return Ll=(El=Ll.match(/^(\d+)\/(\d+)$/))?+(El[1]/El[2]):+Ll,isNaN(Ll)?null:Ll}function Yn(Ll,El,jl){Ll=Gn(Ll);var ml=null,Al=null,fl=[],bl=[],wl=Ll.map(function(hl){return hl.keyId}).filter(mt);if(0<wl.length&&(Al=wl[0],wl.some(At(Al))))throw new Mt(2,4,4010);return jl||(bl=Ll.filter(function(hl){return"urn:mpeg:dash:mp4protection:2011"!=hl.sc||(ml=hl.init||ml,!1)}),0<bl.length&&(fl=Fn(ml,El,bl),fl.length||(fl=[ht("",ml)]))),0<Ll.length&&(jl||!bl.length)&&(fl=Gt(YM).map(function(hl){return ht(hl,ml)})),Al&&fl.forEach(function(hl){hl.initData.forEach(function(xl){xl.keyId=Al})}),{Sb:Al,Ae:ml,drmInfos:fl,Ub:!0}}function Pn(Ll,El,jl,ml){var Al=Yn(Ll,El,ml);if(jl.Ub)Ll=1==jl.drmInfos.length&&!jl.drmInfos[0].keySystem,El=!Al.drmInfos.length,jl.drmInfos.length&&(!Ll||El)||(jl.drmInfos=Al.drmInfos),jl.Ub=!1;else if(0<Al.drmInfos.length&&(jl.drmInfos=jl.drmInfos.filter(function(fl){return Al.drmInfos.some(function(bl){return bl.keySystem==fl.keySystem})}),!jl.drmInfos.length))throw new Mt(2,4,4008);return Al.Sb||jl.Sb}function Fn(Ll,El,jl){return jl.map(function(ml){var Al=YM[ml.sc];return Al?[ht(Al,ml.init||Ll)]:El(ml.node)||[]}).reduce(Et,[])}function Gn(Ll){return Ll.map(function(El){var jl=El.getAttribute("schemeIdUri"),ml=El.getAttribute("cenc:default_KID"),Al=On(El,"cenc:pssh").map(Cn);if(!jl)return null;if(jl=jl.toLowerCase(),ml&&(ml=ml.replace(/-/g,"").toLowerCase(),0<=ml.indexOf(" ")))throw new Mt(2,4,4009);var fl=[];try{fl=Al.map(function(bl){return{initDataType:"cenc",initData:ii(bl),keyId:null}})}catch(bl){throw new Mt(2,4,4007)}return{node:El,sc:jl,keyId:ml,init:0<fl.length?fl:null}}).filter(mt)}function Vn(Ll,El,jl,ml,Al){null!=Al&&(Al=Math.round(Al));var fl={RepresentationID:El,Number:jl,Bandwidth:ml,Time:Al};return Ll.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\$/g,function(bl,wl,hl){if("$$"==bl)return"$";var xl=fl[wl];return null==xl?bl:("RepresentationID"==wl&&hl&&(hl=void 0),bl=xl.toString(),hl=tt.parseInt(hl,10)||1,Array(Math.max(0,hl-bl.length)+1).join("0")+bl)})}function Hn(Ll,El){var jl=Wn(Ll,El,"timescale"),ml=1;jl&&(ml=_n(jl)||1),jl=Wn(Ll,El,"duration"),(jl=_n(jl||""))&&(jl/=ml);var Al=Wn(Ll,El,"startNumber"),fl=Wn(Ll,El,"presentationTimeOffset"),bl=Rn(Al||"");(null==Al||null==bl)&&(bl=1);var wl=Zn(Ll,El,"SegmentTimeline"),Al=null;if(wl){for(var Al=ml,xl=Ll.R.duration||Infinity,wl=On(wl,"S"),Sl=[],Ol=0,Cl=0;Cl<wl.length;++Cl){var zl=wl[Cl],vl=zn(zl,"t",Rn),kl=zn(zl,"d",Rn),zl=zn(zl,"r",Qn);if(null!=vl&&(vl-=+fl),!kl)break;if(vl=null==vl?Ol:vl,zl=zl||0,0>zl)if(Cl+1<wl.length){if(zl=zn(wl[Cl+1],"t",Rn),null==zl)break;else if(vl>=zl)break;zl=Math.ceil((zl-vl)/kl)-1}else{if(Infinity==xl)break;else if(vl/Al>=xl)break;zl=Math.ceil((xl*Al-vl)/kl)-1}0<Sl.length&&vl!=Ol&&(Sl[Sl.length-1].end=vl/Al);for(var Ul=0;Ul<=zl;++Ul)Ol=vl+kl,Sl.push({start:vl/Al,end:Ol/Al,re:vl}),vl=Ol}Al=Sl}return{timescale:ml,P:jl,Aa:bl,presentationTimeOffset:+fl/ml||0,Pb:+fl,F:Al}}function Wn(Ll,El,jl){return[El(Ll.w),El(Ll.S),El(Ll.T)].filter(mt).map(function(ml){return ml.getAttribute(jl)}).reduce(function(ml,Al){return ml||Al})}function Zn(Ll,El,jl){return[El(Ll.w),El(Ll.S),El(Ll.T)].filter(mt).map(function(ml){return Sn(ml,jl)}).reduce(function(ml,Al){return ml||Al})}function Xn(Ll,El,jl){this.a=Ll,this.X=El,this.M=jl}function Kn(Ll,El,jl,ml,Al,fl){this.position=Ll,this.startTime=El,this.endTime=jl,this.a=ml,this.X=Al,this.M=fl}function qn(Ll,El){this.H=Ll,this.a=El==PM,this.u=0}function Jn(){throw new Mt(2,3,3E3)}function $n(){this.b=[],this.a=[]}function er(Ll){for(;Ll.s.Z();)Ll.Oa.fb(Ll.start,Ll.s)}function tr(Ll){for(var El=Ll.s.D();0<El;--El)Ll.Oa.fb(Ll.start,Ll.s)}function ir(Ll){return function(El){Ll(El.s.La(El.s.H.byteLength-El.s.u))}}function ar(Ll){for(var El=0,jl=0;jl<Ll.length;jl++)El=El<<8|Ll.charCodeAt(jl);return El}function nr(Ll,El,jl,ml){var fl=new $n().da("sidx",function(bl){Al=rr(El,ml,jl,bl)}),Al;if(Ll&&fl.parse(Ll),Al)return Al;throw new Mt(2,3,3004)}function rr(Ll,El,jl,ml){var Al=[];ml.s.I(4);var fl=ml.s.D();if(!fl)throw new Mt(2,3,3005);if(ml.version)var bl=ml.s.Qa(),wl=ml.s.Qa();else bl=ml.s.D(),wl=ml.s.D();ml.s.I(2);var hl=ml.s.oc();for(El=bl-El,Ll=Ll+ml.size+wl,wl=0;wl<hl;wl++){var xl=ml.s.D();bl=(2147483648&xl)>>>31;var xl=2147483647&xl,Sl=ml.s.D();if(ml.s.I(4),1==bl)throw new Mt(2,3,3006);Al.push(new Kn(Al.length,El/fl,(El+Sl)/fl,function(){return jl},Ll,Ll+xl-1)),El+=Sl,Ll+=xl}return Al}function sr(Ll){this.a=Ll}function or(Ll,El){if(Ll.a.length){var jl=Ll.a[Ll.a.length-1];jl.startTime>El||(Ll.a[Ll.a.length-1]=new Kn(jl.position,jl.startTime,El,jl.a,jl.X,jl.M))}}function dr(Ll){this.b=Ll,this.a=new qn(Ll,0),FM||(FM=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function ur(Ll){var El=Mr(Ll);if(7<El.length)throw new Mt(2,3,3002);for(var jl=0,ml=0;ml<El.length;ml++)jl=256*jl+El[ml];El=jl,jl=Mr(Ll);a:{for(ml=0;ml<FM.length;ml++)if(ri(jl,FM[ml])){ml=!0;break a}ml=!1}if(ml)jl=Ll.b.byteLength-Ll.a.u;else{if(8==jl.length&&224&jl[1])throw new Mt(2,3,3001);for(var ml=jl[0]&(1<<8-jl.length)-1,Al=1;Al<jl.length;Al++)ml=256*ml+jl[Al];jl=ml}return jl=Ll.a.u+jl<=Ll.b.byteLength?jl:Ll.b.byteLength-Ll.a.u,ml=new DataView(Ll.b.buffer,Ll.b.byteOffset+Ll.a.u,jl),Ll.a.I(jl),new cr(El,ml)}function Mr(Ll){var El=Ll.a.Eb(),jl;for(jl=1;8>=jl&&!(El&1<<8-jl);jl++);if(8<jl)throw new Mt(2,3,3002);var ml=new Uint8Array(jl);for(ml[0]=El,El=1;El<jl;El++)ml[El]=Ll.a.Eb();return ml}function cr(Ll,El){this.id=Ll,this.a=El}function gr(Ll){if(8<Ll.a.byteLength)throw new Mt(2,3,3002);if(8==Ll.a.byteLength&&224&Ll.a.getUint8(0))throw new Mt(2,3,3001);for(var El=0,jl=0;jl<Ll.a.byteLength;jl++)var ml=Ll.a.getUint8(jl),El=256*El+ml;return El}function pr(){}function yr(Ll,El,jl,ml,Al,fl){function bl(){return Al}var wl=[];Ll=new dr(Ll.a);for(var hl=-1,xl=-1,Sl;Ll.Z();)if(Sl=ur(Ll),187==Sl.id){var Ol=Nr(Sl);Ol&&(Sl=jl*(Ol.se-fl),Ol=El+Ol.Nd,0<=hl&&wl.push(new Kn(wl.length,hl,Sl,bl,xl,Ol-1)),hl=Sl,xl=Ol)}return 0<=hl&&wl.push(new Kn(wl.length,hl,ml,bl,xl,null)),wl}function Nr(Ll){var El=new dr(Ll.a);if(Ll=ur(El),179!=Ll.id)throw new Mt(2,3,3013);if(Ll=gr(Ll),El=ur(El),183!=El.id)throw new Mt(2,3,3012);for(var El=new dr(El.a),jl=0,ml;El.Z();)if(ml=ur(El),241==ml.id){jl=gr(ml);break}return{se:Ll,Nd:jl}}function Dr(Ll,El){var jl=Zn(Ll,El,"Initialization");if(!jl)return null;var ml=Ll.w.U,Al=jl.getAttribute("sourceURL");Al&&(ml=wt(Ll.w.U,[Al]));var Al=0,fl=null;return(jl=zn(jl,"range",Un))&&(Al=jl.start,fl=jl.end),new Xn(function(){return ml},Al,fl)}function Tr(Ll,El){var jl=Wn(Ll,Lr,"presentationTimeOffset"),ml=Dr(Ll,Lr),Al=+jl,fl=Ll.w.contentType,bl=Ll.w.mimeType.split("/")[1];if("text"!=fl&&"mp4"!=bl&&"webm"!=bl)throw new Mt(2,4,4006);if("webm"==bl&&!ml)throw new Mt(2,4,4005);var fl=Zn(Ll,Lr,"RepresentationIndex"),wl=Wn(Ll,Lr,"indexRange"),hl=Ll.w.U,wl=Un(wl||"");if(fl){var xl=fl.getAttribute("sourceURL");xl&&(hl=wt(Ll.w.U,[xl])),wl=zn(fl,"range",Un,wl)}if(!wl)throw new Mt(2,4,4002);return Al=Ir(Ll,El,ml,hl,wl.start,wl.end,bl,Al),{createSegmentIndex:Al.createSegmentIndex,findSegmentPosition:Al.findSegmentPosition,getSegmentReference:Al.getSegmentReference,initSegmentReference:ml,presentationTimeOffset:+jl||0}}function Ir(Ll,El,jl,ml,Al,fl,bl,wl){var hl=Ll.presentationTimeline,xl=!Ll.Ea||!Ll.R.ub,Sl=Ll.R.duration,Ol=El,Cl=null;return{createSegmentIndex:function(){var vl=[Ol(ml,Al,fl),"webm"==bl?Ol(jl.a(),jl.X,jl.M):null];return Ol=null,Promise.all(vl).then(function(kl){var Ul=kl[0];kl=kl[1]||null,Ul="mp4"==bl?nr(Ul,Al,ml,wl):new pr().parse(Ul,kl,ml,wl),hl.Ia(0,Ul),Cl=new sr(Ul),xl&&or(Cl,Sl)})},findSegmentPosition:function(vl){return Cl.find(vl)},getSegmentReference:function(vl){return Cl.get(vl)}}}function Lr(Ll){return Ll.Ra}function Er(Ll,El){var jl=Dr(Ll,jr),ml=Ar(Ll),Al=Hn(Ll,jr),fl=Al.Aa;fl||(fl=1);var bl=0;if(Al.P?bl=Al.P*(fl-1):Al.F&&0<Al.F.length&&(bl=Al.F[0].start),ml={P:Al.P,startTime:bl,Aa:fl,presentationTimeOffset:Al.presentationTimeOffset,F:Al.F,Ha:ml},!ml.P&&!ml.F&&1<ml.Ha.length)throw new Mt(2,4,4002);if(!ml.P&&!Ll.R.duration&&!ml.F&&1==ml.Ha.length)throw new Mt(2,4,4002);if(ml.F&&!ml.F.length)throw new Mt(2,4,4002);return fl=Al=null,Ll.T.id&&Ll.w.id&&(fl=Ll.T.id+","+Ll.w.id,Al=El[fl]),bl=mr(Ll.R.duration,ml.Aa,Ll.w.U,ml),Al?(Al.xb(bl),Al.qb(Ll.presentationTimeline.na()-Ll.R.start)):(Ll.presentationTimeline.Ia(0,bl),Al=new sr(bl),fl&&Ll.Ea&&(El[fl]=Al)),Ll.Ea&&Ll.R.ub||or(Al,Ll.R.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:Al.find.bind(Al),getSegmentReference:Al.get.bind(Al),initSegmentReference:jl,presentationTimeOffset:ml.presentationTimeOffset}}function jr(Ll){return Ll.pa}function mr(Ll,El,jl,ml){var Al=ml.Ha.length;ml.F&&ml.F.length!=ml.Ha.length&&(Al=Math.min(ml.F.length,ml.Ha.length));for(var fl=[],bl=ml.startTime,wl=0;wl<Al;wl++){var hl=ml.Ha[wl],xl=wt(jl,[hl.cd]),Sl=null==ml.P?ml.F?ml.F[wl].end:bl+Ll:bl+ml.P;fl.push(new Kn(wl+El,bl,Sl,function(Ol){return Ol}.bind(null,xl),hl.start,hl.end)),bl=Sl}return fl}function Ar(Ll){return[Ll.w.pa,Ll.S.pa,Ll.T.pa].filter(mt).map(function(El){return On(El,"SegmentURL")}).reduce(function(El,jl){return 0<El.length?El:jl}).map(function(El){El.getAttribute("indexRange")&&!Ll.$b&&(Ll.$b=!0);var jl=El.getAttribute("media");return El=zn(El,"mediaRange",Un,{start:0,end:null}),{cd:jl,start:El.start,end:El.end}})}function fr(Ll,El,jl,ml){var Al=xr(Ll),fl=Hn(Ll,br),bl=Wn(Ll,br,"media"),wl=Wn(Ll,br,"index");if(fl={P:fl.P,timescale:fl.timescale,Aa:fl.Aa,presentationTimeOffset:fl.presentationTimeOffset,Pb:fl.Pb,F:fl.F,wb:bl,Na:wl},bl=0+(fl.Na?1:0),bl+=fl.F?1:0,bl+=fl.P?1:0,!bl)throw new Mt(2,4,4002);if(1!=bl&&(fl.Na&&(fl.F=null),fl.P=null),!fl.Na&&!fl.wb)throw new Mt(2,4,4002);if(fl.Na){if(jl=Ll.w.mimeType.split("/")[1],"mp4"!=jl&&"webm"!=jl)throw new Mt(2,4,4006);if("webm"==jl&&!Al)throw new Mt(2,4,4005);ml=Vn(fl.Na,Ll.w.id,null,Ll.bandwidth||null,null),ml=wt(Ll.w.U,[ml]),Ll=Ir(Ll,El,Al,ml,0,null,jl,fl.presentationTimeOffset)}else fl.P?(ml||Ll.presentationTimeline.yb(fl.P),Ll=wr(Ll,fl)):(ml=El=null,Ll.T.id&&Ll.w.id&&(ml=Ll.T.id+","+Ll.w.id,El=jl[ml]),bl=hr(Ll,fl),El?(El.xb(bl),El.qb(Ll.presentationTimeline.na()-Ll.R.start)):(Ll.presentationTimeline.Ia(0,bl),El=new sr(bl),ml&&Ll.Ea&&(jl[ml]=El)),Ll.Ea&&Ll.R.ub||or(El,Ll.R.duration),Ll={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:El.find.bind(El),getSegmentReference:El.get.bind(El)});return{createSegmentIndex:Ll.createSegmentIndex,findSegmentPosition:Ll.findSegmentPosition,getSegmentReference:Ll.getSegmentReference,initSegmentReference:Al,presentationTimeOffset:fl.presentationTimeOffset}}function br(Ll){return Ll.Sa}function wr(Ll,El){var jl=Ll.R.duration,ml=El.P,Al=El.Aa,fl=El.timescale,bl=El.wb,wl=Ll.bandwidth||null,hl=Ll.w.id,xl=Ll.w.U;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(Ol){return 0>Ol||jl&&Ol>=jl?null:Math.floor(Ol/ml)},getSegmentReference:function(Ol){var Cl=Ol*ml;return 0>Cl||jl&&Cl>=jl?null:new Kn(Ol,Cl,Cl+ml,function(){var zl=Vn(bl,hl,Ol+Al,wl,Cl*fl);return wt(xl,[zl])},0,null)}}}function hr(Ll,El){for(var jl=[],ml=0,Al;ml<El.F.length;ml++)Al=ml+El.Aa,jl.push(new Kn(Al,El.F[ml].start,El.F[ml].end,function(fl,bl,wl,hl,xl,Sl){return fl=Vn(fl,bl,xl,wl,Sl),wt(hl,[fl]).map(function(Ol){return Ol.toString()})}.bind(null,El.wb,Ll.w.id,Ll.bandwidth||null,Ll.w.U,Al,El.F[ml].re+El.Pb),0,null));return jl}function xr(Ll){var El=Wn(Ll,br,"initialization");if(!El)return null;var jl=Ll.w.id,ml=Ll.bandwidth||null,Al=Ll.w.U;return new Xn(function(){var fl=Vn(El,jl,null,ml,null);return wt(Al,[fl])},0,null)}function Sr(){var Ll={},El;for(El in GM)Ll[El]=!0;for(El in VM)Ll[El]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(jl){Ll[jl]=!!GM[jl]}),["mpd","m3u8","ism"].forEach(function(jl){Ll[jl]=!!VM[jl]}),Ll}function Or(Ll,El,jl,ml){var Al=ml;return(Al||(ml=new lt(Ll).W.split("/").pop().split("."),1<ml.length&&(ml=ml.pop().toLowerCase(),Al=VM[ml])),Al)?Promise.resolve(Al):(jl=vt([Ll],jl),jl.method="HEAD",El.request(0,jl).then(function(fl){return(fl=fl.headers["content-type"])&&(fl=fl.toLowerCase()),(Al=GM[fl])?Al:Promise.reject(new Mt(2,4,4E3,Ll))},function(fl){return fl.severity=2,Promise.reject(fl)}))}function Cr(Ll,El){this.f=Ll,this.i=El,this.c=this.a=Infinity,this.b=1,this.h=0,this.g=!0}function zr(){this.a=this.b=null,this.g=[],this.c=null,this.i=[],this.h=1,this.j={},this.l=0,this.f=null}function vr(Ll){return Ll.a.networkingEngine.request(0,vt(Ll.g,Ll.b.retryParameters)).then(function(El){if(this.a)return kr(this,El.data,El.uri)}.bind(Ll))}function kr(Ll,El,jl){var ml=Zt(El),Al=new DOMParser,fl=null;El=null;try{fl=Al.parseFromString(ml,"text/xml")}catch(Cl){}if(fl&&"MPD"==fl.documentElement.tagName&&(El=fl.documentElement),El&&0<El.getElementsByTagName("parsererror").length&&(El=null),!El)throw new Mt(2,4,4001);jl=[jl],ml=On(El,"Location").map(Cn).filter(mt),0<ml.length&&(jl=Ll.g=ml),ml=On(El,"BaseURL").map(Cn),jl=wt(jl,ml);var bl=zn(El,"minBufferTime",kn);Ll.l=zn(El,"minimumUpdatePeriod",kn,-1);var wl=zn(El,"availabilityStartTime",vn),ml=zn(El,"timeShiftBufferDepth",kn),hl=zn(El,"suggestedPresentationDelay",kn),Al=zn(El,"maxSegmentDuration",kn),fl=El.getAttribute("type")||"static";if(Ll.c)var xl=Ll.c.presentationTimeline;else{var Sl=Math.max(10,1.5*bl);xl=new Cr(wl,null==hl?Sl:hl)}var wl=Ur(Ll,{Ea:"static"!=fl,presentationTimeline:xl,T:null,R:null,S:null,w:null,bandwidth:void 0,$b:!1},jl,El),hl=wl.duration,Ol=wl.periods;return(xl.yc("static"==fl),xl.qa(hl||Infinity),xl.xc(null==ml?Infinity:ml),xl.yb(Al||1),Ll.c)?Promise.resolve():(El=On(El,"UTCTiming"),Gr(Ll,jl,El,xl.$()).then(function(Cl){this.a&&(xl.wc(Cl),this.c={presentationTimeline:xl,periods:Ol,offlineSessionIds:[],minBufferTime:bl||0})}.bind(Ll)))}function Ur(Ll,El,jl,ml){var Al=zn(ml,"mediaPresentationDuration",kn),fl=[],bl=0;ml=On(ml,"Period");for(var wl=0;wl<ml.length;wl++){var hl=ml[wl],bl=zn(hl,"start",kn,bl),xl=zn(hl,"duration",kn),Sl=null;if(wl!=ml.length-1){var Ol=zn(ml[wl+1],"start",kn);null!=Ol&&(Sl=Ol-bl)}else null!=Al&&(Sl=Al-bl);if(null==Sl&&(Sl=xl),hl=Qr(Ll,El,jl,{start:bl,duration:Sl,node:hl,ub:null==Sl||wl==ml.length-1}),fl.push(hl),xl=El.T.id,Ll.i.every(At(xl))&&(Ll.a.filterPeriod(hl),Ll.i.push(xl),Ll.c&&Ll.c.periods.push(hl)),null==Sl){bl=null;break}bl+=Sl}return null==Al?{periods:fl,duration:bl}:{periods:fl,duration:Al}}function Qr(Ll,El,jl,ml){El.T=Yr(ml.node,null,jl),El.R=ml,El.T.id||(El.T.id="__shaka_period_"+ml.start),On(ml.node,"EventStream").forEach(Ll.Fd.bind(Ll,ml.start,ml.duration)),jl=On(ml.node,"AdaptationSet").map(Ll.Dd.bind(Ll,El)).filter(mt);var Al=jl.map(function(hl){return hl.Qd}).reduce(Et,[]),fl=Al.filter(ft);if(El.Ea&&Al.length!=fl.length)throw new Mt(2,4,4018);var bl=jl.filter(function(hl){return!hl.Ob});if(jl.filter(function(hl){return hl.Ob}).forEach(function(hl){var xl=hl.streams[0],Sl=hl.Ob;bl.forEach(function(Ol){Ol.id==Sl&&Ol.streams.forEach(function(Cl){Cl.trickModeVideo=xl})})}),Al=_r(bl,"video"),fl=_r(bl,"audio"),!Al.length&&!fl.length)throw new Mt(2,4,4004);for(fl.length||(fl=[null]),Al.length||(Al=[null]),El=[],jl=0;jl<fl.length;jl++)for(var wl=0;wl<Al.length;wl++)Rr(Ll,fl[jl],Al[wl],El);for(Ll=_r(bl,"text"),Al=[],jl=0;jl<Ll.length;jl++)Al.push.apply(Al,Ll[jl].streams);return{startTime:ml.start,textStreams:Al,variants:El}}function _r(Ll,El){return Ll.filter(function(jl){return jl.contentType==El})}function Rr(Ll,El,jl,ml){if(El||jl)if(El&&jl){var Al=El.drmInfos,fl=jl.drmInfos;if(Al.length&&fl.length?0<mi(Al,fl).length:1)for(var bl=mi(El.drmInfos,jl.drmInfos),Al=0;Al<El.streams.length;Al++)for(var wl=0;wl<jl.streams.length;wl++)fl=jl.streams[wl].bandwidth+El.streams[Al].bandwidth,fl={id:Ll.h++,language:El.language,primary:El.vb||jl.vb,audio:El.streams[Al],video:jl.streams[wl],bandwidth:fl,drmInfos:bl,allowedByApplication:!0,allowedByKeySystem:!0},ml.push(fl)}else for(bl=El||jl,Al=0;Al<bl.streams.length;Al++)fl=bl.streams[Al].bandwidth,fl={id:Ll.h++,language:bl.language||"und",primary:bl.vb,audio:El?bl.streams[Al]:null,video:jl?bl.streams[Al]:null,bandwidth:fl,drmInfos:bl.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},ml.push(fl)}function Br(Ll,El){0>Ll.l||(Ll.f=tt.setTimeout(Ll.ie.bind(Ll),1E3*Math.max(Math.max(3,Ll.l)-El,0)))}function Yr(Ll,El,jl){El=El||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0},jl=jl||El.U;var ml=On(Ll,"BaseURL").map(Cn),Al=Ll.getAttribute("contentType")||El.contentType,fl=Ll.getAttribute("mimeType")||El.mimeType,bl=Ll.getAttribute("codecs")||El.codecs,wl=zn(Ll,"frameRate",Bn)||El.frameRate,hl=!!On(Ll,"InbandEventStream").length;return Al||(Al=Vr(fl,bl)),{U:wt(jl,ml),Ra:Sn(Ll,"SegmentBase")||El.Ra,pa:Sn(Ll,"SegmentList")||El.pa,Sa:Sn(Ll,"SegmentTemplate")||El.Sa,width:zn(Ll,"width",Rn)||El.width,height:zn(Ll,"height",Rn)||El.height,contentType:Al,mimeType:fl,codecs:bl,frameRate:wl,containsEmsgBoxes:hl||El.containsEmsgBoxes,id:Ll.getAttribute("id")}}function Pr(Ll){var El=0+(Ll.Ra?1:0);return(El+=Ll.pa?1:0,El+=Ll.Sa?1:0,!El)?"text"==Ll.contentType||"application"==Ll.contentType:(1!=El&&(Ll.Ra&&(Ll.pa=null),Ll.Sa=null),!0)}function Fr(Ll,El,jl,ml){return El=wt(El,[jl]),El=vt(El,Ll.b.retryParameters),El.method=ml,Ll.a.networkingEngine.request(0,El).then(function(Al){if("HEAD"==ml){if(!Al.headers||!Al.headers.date)return 0;Al=Al.headers.date}else Al=Zt(Al.data);return Al=Date.parse(Al),isNaN(Al)?0:Al-Date.now()})}function Gr(Ll,El,jl,ml){jl=jl.map(function(fl){return{scheme:fl.getAttribute("schemeIdUri"),value:fl.getAttribute("value")}});var Al=Ll.b.dash.clockSyncUri;return ml&&!jl.length&&Al&&jl.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:Al}),Lt(jl,function(fl){var bl=fl.value;switch(fl.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Fr(this,El,bl,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Fr(this,El,bl,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return fl=Date.parse(bl),isNaN(fl)?0:fl-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return Promise.reject();default:return Promise.reject();}}.bind(Ll))["catch"](function(){return 0})}function Vr(Ll,El){return bM[rn(Ll,El)]?"text":Ll.split("/")[0]}function Hr(Ll,El,jl,ml){this.uri=Ll,this.type=El,this.ga=jl,this.segments=ml||null}function Wr(Ll,El,jl,ml){this.id=Ll,this.name=El,this.a=jl,this.value=ml||null}function Zr(Ll,El){this.name=Ll,this.value=El}function Xr(Ll,El,jl){return jl=jl||null,(Ll=Ll.getAttribute(El))?Ll.value:jl}function Kr(Ll,El){this.ga=El,this.uri=Ll}function qr(Ll,El){return Ll.filter(function(jl){return jl.name==El})}function Jr(Ll,El){var jl=qr(Ll,El);return jl.length?jl[0]:null}function $r(Ll,El,jl){return Ll.filter(function(ml){var Al=ml.getAttribute("TYPE");return ml=ml.getAttribute("GROUP-ID"),Al.value==El&&ml.value==jl})}function es(Ll){this.b=Ll,this.a=0}function ts(Ll,El){El.lastIndex=Ll.a;var jl=(jl=El.exec(Ll.b))?{position:jl.index,length:jl[0].length,Td:jl}:null;return Ll.a!=Ll.b.length&&jl&&jl.position==Ll.a?(Ll.a+=jl.length,jl.Td):null}function is(Ll){return Ll.a==Ll.b.length?null:(Ll=ts(Ll,/[^ \t\n]*/gm))?Ll[0]:null}function as(){this.a=0}function ns(Ll,El,jl){El=Zt(El),El=El.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var ml=El.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(ml[0]))throw new Mt(2,4,4015);El=0;for(var Al=[],fl=1;fl<ml.length;)if(/^#(?!EXT)/m.test(ml[fl]))fl+=1;else{var bl=ml[fl];if(bl=ss(Ll.a++,bl),0<=HM.indexOf(bl.name))El=1;else if(0<=WM.indexOf(bl.name)){if(1!=El)throw new Mt(2,4,4017);return ml=ml.splice(fl,ml.length-fl),Ll=rs(Ll,ml),new Hr(jl,El,Al,Ll)}Al.push(bl),fl+=1,"EXT-X-STREAM-INF"==bl.name&&(bl.a.push(new Zr("URI",ml[fl])),fl+=1)}return new Hr(jl,El,Al)}function rs(Ll,El){var jl=[],ml=[];return El.forEach(function(Al){/^(#EXT)/.test(Al)?(Al=ss(this.a++,Al),ml.push(Al)):/^#(?!EXT)/m.test(Al)||(jl.push(new Kr(Al.trim(),ml)),ml=[])}.bind(Ll)),jl}function ss(Ll,El){var jl=El.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!jl)throw new Mt(2,4,4016);var ml=jl[1],Al=jl[2],jl=[];if(Al&&0<=Al.indexOf("="))for(var Al=new es(Al),bl=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g,fl;fl=ts(Al,bl);)jl.push(new Zr(fl[1],fl[2]||fl[3]));else if(Al)return new Wr(Ll,ml,jl,Al);return new Wr(Ll,ml,jl)}function os(Ll){return new Promise(function(El){var jl=os.parse(Ll);El({uri:Ll,data:jl.data,headers:{"content-type":jl.contentType}})})}function ds(){this.b=this.c=null,this.i=1,this.g={},this.f={},this.a=null,this.j="",this.h=new as}function us(Ll,El,jl){if(El=ns(Ll.h,El,jl),0!=El.type)throw new Mt(2,4,4022);return Ll.a=new Cr(null,0),Ms(Ll,El).then(function(ml){return this.c.filterPeriod(ml),{presentationTimeline:this.a,periods:[ml],offlineSessionIds:[],minBufferTime:0}}.bind(Ll))}function Ms(Ll,El){var jl=qr(El.ga,"EXT-X-STREAM-INF").map(function(Al){return ls(this,Al,El)}.bind(Ll)),ml=qr(El.ga,"EXT-X-MEDIA").filter(function(Al){return"SUBTITLES"==As(Al,"TYPE")}.bind(Ll)).map(function(Al){return ps(this,Al,El)}.bind(Ll));return Promise.all(jl).then(function(Al){return Promise.all(ml).then(function(fl){var bl=Al.reduce(Et,[]);return Is(this,bl),{startTime:0,variants:bl,textStreams:fl}}.bind(this))}.bind(Ll))}function ls(Ll,El,jl){var ml=+As(El,"BANDWIDTH"),Al=Xr(El,"CODECS","avc1.42E01E,mp4a.40.2").split(","),fl=El.getAttribute("RESOLUTION"),bl=null,wl=null,hl=Xr(El,"FRAME-RATE");if(fl)var xl=fl.value.split("x"),bl=xl[0],wl=xl[1];var Sl=js(Ll,jl);jl=qr(jl.ga,"EXT-X-MEDIA");var Ol=Xr(El,"AUDIO"),Cl=Xr(El,"VIDEO");Ol?jl=$r(jl,"AUDIO",Ol):Cl&&(jl=$r(jl,"VIDEO",Cl)),jl=jl.map(function(kl){return ys(this,kl,Al,Sl)}.bind(Ll));var zl=[],vl=[];return Promise.all(jl).then(function(kl){if(Ol?zl=kl:Cl&&(vl=kl),!(zl.length||vl.length))Ul=!1,1==Al.length?kl=fl||hl?"video":"audio":(kl="video",Al=[Al.join(",")]);else if(!zl.length)kl="audio";else if(As(El,"URI")==zl[0].Od){kl="audio";var Ul=!0}else kl="video";if(Ul)Ul=Promise.resolve();else{Ul=Al;var Ql=As(El,"URI");Ul=Ns(this,Ql,Ul,kl,Sl,"und",!1,null)}return Ul}.bind(Ll)).then(function(kl){return kl&&("audio"==kl.stream.type?zl=[kl]:vl=[kl]),cs(this,zl,vl,ml,bl,wl,hl)}.bind(Ll))}function cs(Ll,El,jl,ml,Al,fl,bl){jl.forEach(function(kl){(kl=kl.stream)&&(kl.width=+Al||void 0,kl.height=+fl||void 0,kl.frameRate=+bl||void 0)}.bind(Ll)),El.length||(El=[null]),jl.length||(jl=[null]);for(var wl=[],hl=0;hl<El.length;hl++)for(var xl=0;xl<jl.length;xl++){var Sl=El[hl]?El[hl].stream:null,Ol=jl[xl]?jl[xl].stream:null,Cl=El[hl]?El[hl].drmInfos:null,zl=jl[xl]?jl[xl].drmInfos:null;if(!(Sl&&Ol))Sl?vl=Cl:Ol&&(vl=zl);else if(Cl.length&&zl.length?0<mi(Cl,zl).length:1)var vl=mi(Cl,zl);else continue;wl.push(gs(Ll,Sl,Ol,ml,vl))}return wl}function gs(Ll,El,jl,ml,Al){return{id:Ll.i++,language:El?El.language:"und",primary:!!El&&El.primary||!!jl&&jl.primary,audio:El,video:jl,bandwidth:ml,drmInfos:Al,allowedByApplication:!0,allowedByKeySystem:!0}}function ps(Ll,El,jl){return As(El,"TYPE"),jl=js(Ll,jl),ys(Ll,El,[],jl).then(function(ml){return ml.stream})}function ys(Ll,El,jl,ml){if(Ll.g[El.id])return Promise.resolve().then(function(){return this.g[El.id]}.bind(Ll));var Al=As(El,"TYPE").toLowerCase();"subtitles"==Al&&(Al="text");var fl=Vi(Xr(El,"LANGUAGE","und")),bl=Xr(El,"NAME"),wl=El.getAttribute("DEFAULT"),hl=El.getAttribute("AUTOSELECT"),xl=As(El,"URI");return Ns(Ll,xl,jl,Al,ml,fl,!!wl||!!hl,bl).then(function(Sl){return this.g[El.id]=Sl}.bind(Ll))}function Ns(Ll,El,jl,ml,Al,fl,bl,wl){var hl=El;return El=wt([Ll.j],[El])[0],Ll.c.networkingEngine.request(0,vt([El],Ll.b.retryParameters)).then(function(xl){if(xl=ns(this.h,xl.data,xl.uri),1!=xl.type)throw new Mt(2,4,4017);Al=js(this,xl)||Al;var Sl=null;"text"!=ml&&(Sl=Ds(xl));var Ol=Jr(xl.ga,"EXT-X-MEDIA-SEQUENCE"),Ol=Ts(this,xl,Ol?+Ol.value:0);this.a.Ia(0,Ol);var Cl=Ol[Ol.length-1].endTime-Ol[0].startTime,zl=this.a.Y();(Infinity==zl||zl<Cl)&&this.a.qa(Cl);var vl=Ls(ml,jl),kl;"text"==ml&&(kl="subtitle");var Ul=new sr(Ol),Ql=[];xl.segments.forEach(function(Yl){Yl=qr(Yl.ga,"EXT-X-KEY"),Ql.push.apply(Ql,Yl)});var _l=!1,Rl=[],Bl=null;if(Ql.forEach(function(Yl){if("NONE"!=As(Yl,"METHOD")){_l=!0;var Pl=As(Yl,"KEYFORMAT");(Yl=(Pl=JM[Pl])?Pl(Yl):null)&&(Yl.keyIds.length&&(Bl=Yl.keyIds[0]),Rl.push(Yl))}}),_l&&!Rl.length)throw new Mt(2,4,4026);return Es(this,ml,Ol[0].a()[0]).then(function(Yl){return Yl={id:this.i++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:Ul.find.bind(Ul),getSegmentReference:Ul.get.bind(Ul),initSegmentReference:Sl,presentationTimeOffset:Al||0,mimeType:Yl,codecs:vl,kind:kl,encrypted:_l,keyId:Bl,language:fl,label:wl||null,type:ml,primary:bl,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[]},this.f[Yl.id]=Ul,{stream:Yl,Be:Ul,drmInfos:Rl,Od:hl}}.bind(this))}.bind(Ll))}function Ds(Ll){var El=qr(Ll.ga,"EXT-X-MAP");if(!El.length)return null;if(1<El.length)throw new Mt(2,4,4020);var El=El[0],jl=As(El,"URI"),ml=wt([Ll.uri],[jl])[0];return Ll=0,jl=null,(El=Xr(El,"BYTERANGE"))&&(Ll=El.split("@"),El=+Ll[0],Ll=+Ll[1],jl=Ll+El-1),new Xn(function(){return[ml]},Ll,jl)}function Ts(Ll,El,jl){var ml=El.segments,Al=[];return ml.forEach(function(fl){var bl=fl.ga,wl=wt([El.uri],[fl.uri])[0],hl=fs(bl).value.split(","),hl=+hl[0],xl;xl=(fl=ml.indexOf(fl))?Al[fl-1].endTime:0;var hl=xl+hl,Sl=0,Ol=null;(bl=Jr(bl,"EXT-X-BYTERANGE"))&&(bl=bl.value.split("@"),Ol=+bl[0],Sl=bl[1]?+bl[1]:Al[fl-1].M,Ol=Sl+Ol-1,fl==ml.length-1&&(Ol=null)),Al.push(new Kn(jl+fl,xl,hl,function(){return[wl]},Sl,Ol))}.bind(Ll)),Al}function Is(Ll,El){El.forEach(function(jl){var ml=this.a.Y(),Al=jl.video;jl=jl.audio,Al&&this.f[Al.id]&&or(this.f[Al.id],ml),jl&&this.f[jl.id]&&or(this.f[jl.id],ml)}.bind(Ll))}function Ls(Ll,El){if(1==El.length)return El[0];if("text"==Ll)return"";var jl=ZM;"audio"==Ll&&(jl=XM);for(var ml=0;ml<jl.length;ml++)for(var Al=0;Al<El.length;Al++)if(jl[ml].test(El[Al].trim()))return El[Al].trim();throw new Mt(2,4,4025,El)}function Es(Ll,El,jl){var ml=jl.split("."),Al=ml[ml.length-1];return"text"==El?Promise.resolve("text/vtt"):(ml=KM,"video"==El&&(ml=qM),El=ml[Al])?Promise.resolve(El):(jl=vt([jl],Ll.b.retryParameters),jl.method="HEAD",Ll.c.networkingEngine.request(1,jl).then(function(fl){if(fl=fl.headers["content-type"],!fl)throw new Mt(2,4,4021,Al);return fl}))}function js(Ll,El){var jl=Jr(El.ga,"EXT-X-START");return jl?+As(jl,"TIME-OFFSET"):Ll.b.hls.defaultTimeOffset}function As(Ll,El){var jl=Ll.getAttribute(El);if(!jl)throw new Mt(2,4,4023,El);return jl.value}function fs(Ll){if(Ll=Jr(Ll,"EXTINF"),!Ll)throw new Mt(2,4,4024,"EXTINF");return Ll}function bs(){}function ws(Ll){var El=[];if(!Ll)return El;for(var jl=Ll.childNodes,ml=0,Al;ml<jl.length;ml++)Al="span"==jl[ml].nodeName&&"p"==Ll.nodeName,jl[ml].nodeType!=Node.ELEMENT_NODE||"br"==jl[ml].nodeName||Al||(Al=ws(jl[ml]),El=El.concat(Al));return El.length||El.push(Ll),El}function hs(Ll,El){for(var jl=Ll.childNodes,ml=0;ml<jl.length;ml++)if("br"==jl[ml].nodeName&&0<ml)jl[ml-1].textContent+="\n";else if(0<jl[ml].childNodes.length)hs(jl[ml],El);else if(El){var Al=jl[ml].textContent.trim(),Al=Al.replace(/\s+/g," ");jl[ml].textContent=Al}}function xs(Ll,El,jl,ml){for(var Al=ws(El),fl=0,bl;fl<Al.length;fl++)if(bl=Al[fl].getAttribute(ml),bl)return bl;return Al=Ss,(Ll=Al(El,"style",jl)||Al(Ll,"style",jl))?Ll.getAttribute(ml):null}function Ss(Ll,El,jl){if(!Ll||1>jl.length)return null;var ml=null,Al=Ll;for(Ll=null;Al&&!(Ll=Al.getAttribute(El))&&(Al=Al.parentNode,Al instanceof Element););if(El=Ll)for(Ll=0;Ll<jl.length;Ll++)if(jl[Ll].getAttribute("xml:id")==El){ml=jl[Ll];break}return ml}function Os(Ll,El){var jl=null;if($M.test(Ll))var jl=$M.exec(Ll),ml=+jl[1],Al=+jl[2],fl=+jl[3],bl=+jl[4],bl=bl+(+jl[5]||0)/El.b,fl=fl+bl/El.frameRate,jl=fl+60*Al+3600*ml;else tl.test(Ll)?jl=Cs(tl,Ll):il.test(Ll)?jl=Cs(il,Ll):al.test(Ll)?(jl=al.exec(Ll),jl=+jl[1]/El.frameRate):nl.test(Ll)?(jl=nl.exec(Ll),jl=+jl[1]/El.a):rl.test(Ll)&&(jl=Cs(rl,Ll));return jl}function Cs(Ll,El){var jl=Ll.exec(El);return jl&&""!=jl[0]?(+jl[4]||0)/1E3+(+jl[3]||0)+60*(+jl[2]||0)+3600*(+jl[1]||0):null}function zs(Ll,El,jl,ml){this.frameRate=+Ll||30,this.b=+El||1,this.a=+ml,this.a||(this.a=Ll?this.frameRate*this.b:1),jl&&(Ll=/^(\d+) (\d+)$/g.exec(jl))&&(this.frameRate*=Ll[1]/Ll[2])}function vs(){this.a=new bs}function ks(){}function Us(Ll,El){var jl;(jl=/^align:(start|middle|center|end|left|right)$/.exec(El))?(Ll.align=jl[1],"center"==jl[1]&&"center"!=Ll.align&&(Ll.position="auto",Ll.align="middle")):(jl=/^vertical:(lr|rl)$/.exec(El))?Ll.vertical=jl[1]:(jl=/^size:(\d{1,2}|100)%$/.exec(El))?Ll.size=+jl[1]:(jl=/^position:(\d{1,2}|100)%(?:,(line-left|line-right|center|start|end))?$/.exec(El))?(Ll.position=+jl[1],jl[2]&&(Ll.positionAlign=jl[2])):(jl=/^line:(\d{1,2}|100)%(?:,(start|end|center))?$/.exec(El))?(Ll.snapToLines=!1,Ll.line=+jl[1],jl[2]&&(Ll.lineAlign=jl[2])):(jl=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(El))&&(Ll.snapToLines=!0,Ll.line=+jl[1],jl[2]&&(Ll.lineAlign=jl[2]))}function Qs(Ll){if(Ll=ts(Ll,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g),!Ll)return null;var El=+Ll[2],jl=+Ll[3];return 59<El||59<jl?null:+Ll[4]/1E3+jl+60*El+3600*(+Ll[1]||0)}function _s(){this.a=null}function Rs(Ll,El,jl){var ml,Al,fl;return new $n().C("payl",ir(function(bl){ml=Zt(bl)})).C("iden",ir(function(bl){Al=Zt(bl)})).C("sttg",ir(function(bl){fl=Zt(bl)})).parse(Ll),ml?Bs(ml,Al,fl,El,jl):null}function Bs(Ll,El,jl,ml,Al){if((Ll=bi(ml,Al,Ll))&&El&&(Ll.id=El),Ll&&jl)for(El=new es(jl),jl=is(El);jl;)Us(Ll,jl),ts(El,/[ \t]+/gm),jl=is(El);return Ll}function Ys(Ll,El,jl,ml,Al,fl){this.a=Ll,this.c=El,this.l=jl,this.B=ml,this.O=Al,this.J=fl,this.b=new _t,this.h=!1,this.g=1,this.j=this.f=null,this.G=Ll.readyState,this.i=!1,this.v=this.A=-1,this.o=!1,0<Ll.readyState?this.fc():Bt(this.b,Ll,"loadedmetadata",this.fc.bind(this)),El=this.hc.bind(this),Rt(this.b,Ll,"ratechange",this.rd.bind(this)),Rt(this.b,Ll,"waiting",El),this.j=setInterval(El,250)}function Ps(Ll,El){0<Ll.a.readyState?Ll.a.currentTime=Zs(Ll,El):Ll.B=El}function Fs(Ll){return 0<Ll.a.readyState?Zs(Ll,Ll.a.currentTime):Gs(Ll)}function Gs(Ll){return Ll.B?Zs(Ll,Ll.B):(Ll=Ll.c.presentationTimeline,Infinity>Ll.Y()?Ll.na():Ll.cb())}function Vs(Ll,El){null!=Ll.f&&(tt.clearInterval(Ll.f),Ll.f=null),Ll.g=El,Ll.a.playbackRate=Ll.h||0>El?0:El,!Ll.h&&0>El&&(Ll.f=tt.setInterval(function(){this.a.currentTime+=El/4}.bind(Ll),250))}function Hs(Ll,El){var jl=Oi.bind(null,Ll.a.buffered),ml=1*Math.max(Ll.c.minBufferTime||0,Ll.l.rebufferingGoal),Al=Ll.c.presentationTimeline,fl=Al.va(),bl=Al.Fa(ml),wl=Al.Fa(5),ml=Al.Fa(ml+5);return El>fl?fl:El<Al.Fa(0)?jl(wl)?wl:ml:El>=bl||jl(El)?El:ml}function Ws(Ll,El,jl){Ll.a.currentTime=jl;var ml=0,Al=function(){!this.a||10<=ml++||this.a.currentTime!=El||(this.a.currentTime=jl,setTimeout(Al,100))}.bind(Ll);setTimeout(Al,100)}function Zs(Ll,El){var jl=Ll.c.presentationTimeline.na();return El<jl?jl:(jl=Ll.c.presentationTimeline.va(),El>jl?jl:El)}function Xs(Ll,El,jl,ml,Al,fl){this.a=Ll,this.g=El,this.A=jl,this.l=ml,this.h=Al,this.B=fl,this.c=[],this.j=new _t,this.b=!1,this.i=-1,this.f=null,qs(this)}function Ks(Ll){var El=St(Ll);return El.eventElement=Ll.eventElement,El}function qs(Ll){Js(Ll),Ll.f=tt.setTimeout(Ll.G.bind(Ll),250)}function Js(Ll){Ll.f&&(tt.clearTimeout(Ll.f),Ll.f=null)}function $s(Ll,El){this.a=El,this.b=Ll,this.g=null,this.i=1,this.o=Promise.resolve(),this.h=[],this.j={},this.c={},this.f=this.l=this.v=!1}function eo(Ll){return Ll.b.periods[sn(Ll.b,Fs(Ll.a.Pa))]}function to(Ll){return Vt(Ll.c,function(El){return El.oa||El.stream})}function io(Ll,El){return oo(Ll,{text:El})}function ao(Ll,El){var jl=Ll.c.video;if(jl){var ml=jl.stream;if(ml)if(El){var Al=ml.trickModeVideo;if(Al){var fl=jl.oa;fl||(no(Ll,"video",Al,!1),jl.oa=ml)}}else(fl=jl.oa)&&(jl.oa=null,no(Ll,"video",fl,!0))}}function no(Ll,El,jl,ml){var Al=Ll.c[El];if(!Al&&"text"==El&&Ll.g.ignoreTextStreamFailures)io(Ll,jl);else if(Al){var fl=dn(Ll.b,jl);ml&&fl!=Al.xa?so(Ll):(Al.oa&&(jl.trickModeVideo?(Al.oa=jl,jl=jl.trickModeVideo):Al.oa=null),(fl=Ll.h[fl])&&fl.Ma&&(fl=Ll.j[jl.id])&&fl.Ma&&Al.stream!=jl&&("text"==El&&ki(Ll.a.K,rn(jl.mimeType,jl.codecs)),Al.stream=jl,Al.eb=!0,ml&&(Al.ta?Al.kb=!0:Al.ya?(Al.sa=!0,Al.kb=!0):(fo(Al),mo(Ll,Al,!0)))))}}function ro(Ll){var El=Fs(Ll.a.Pa);Object.keys(Ll.c).every(function(jl){var ml=this.a.K;return"text"==jl?(jl=ml.a,jl=El>=jl.b&&El<jl.a):(jl=Qi(ml,jl),jl=Oi(jl,El)),jl}.bind(Ll))||so(Ll)}function so(Ll){for(var El in Ll.c){var jl=Ll.c[El];jl.ta||jl.sa||(jl.ya?jl.sa=!0:null==Ui(Ll.a.K,El)?null==jl.ra&&Ao(Ll,jl,0):(fo(jl),mo(Ll,jl,!1)))}}function oo(Ll,El,jl){var ml=sn(Ll.b,Fs(Ll.a.Pa)),Al=Vt(El,function(fl){return rn(fl.mimeType,fl.codecs)});return Ll.a.K.init(Al),lo(Ll),Al=Gt(El),Mo(Ll,Al).then(function(){if(!this.f)for(var fl in El){var bl=El[fl];this.c[fl]||(this.c[fl]={stream:bl,type:fl,Ga:null,ea:null,oa:null,eb:!0,xa:ml,endOfStream:!1,ya:!1,ra:null,sa:!1,kb:!1,ta:!1,Gb:!1,tb:!1,rc:jl||0},Ao(this,this.c[fl],0))}}.bind(Ll))}function uo(Ll,El){var jl=Ll.h[El];if(jl)return jl.L;jl={L:new Ot,Ma:!1},Ll.h[El]=jl;var ml=Ll.b.periods[El].variants.map(function(Al){var fl=[];return Al.audio&&fl.push(Al.audio),Al.video&&fl.push(Al.video),Al.video&&Al.video.trickModeVideo&&fl.push(Al.video.trickModeVideo),fl}).reduce(Et,[]).filter(ft);return ml.push.apply(ml,Ll.b.periods[El].textStreams),Ll.o=Ll.o.then(function(){if(!this.f)return Mo(this,ml)}.bind(Ll)).then(function(){this.f||(this.h[El].L.resolve(),this.h[El].Ma=!0)}.bind(Ll))["catch"](function(Al){this.f||(this.h[El].L.reject(),delete this.h[El],this.a.onError(Al))}.bind(Ll)),jl.L}function Mo(Ll,El){El.map(function(bl){return bl.id}).filter(ft);for(var jl=[],ml=0;ml<El.length;++ml){var Al=El[ml],fl=Ll.j[Al.id];fl?jl.push(fl.L):(Ll.j[Al.id]={L:new Ot,Ma:!1},jl.push(Al.createSegmentIndex()))}return Promise.all(jl).then(function(){if(!this.f)for(var bl=0,wl;bl<El.length;++bl)wl=this.j[El[bl].id],wl.Ma||(wl.L.resolve(),wl.Ma=!0)}.bind(Ll))["catch"](function(bl){if(!this.f)return this.j[Al.id].L.reject(),delete this.j[Al.id],Promise.reject(bl)}.bind(Ll))}function lo(Ll){var El=Ll.b.presentationTimeline.Y();Infinity>El?Ll.a.K.qa(El):Ll.a.K.qa(Math.pow(2,32))}function co(Ll,El){var jl=Fs(Ll.a.Pa),ml=El.Ga&&El.ea?Ll.b.periods[dn(Ll.b,El.Ga)].startTime+El.ea.endTime:Math.max(jl,El.rc),Al=dn(Ll.b,El.stream),fl=sn(Ll.b,ml),bl=Ll.a.K,wl=El.type;return("text"==wl?(bl=bl.a,bl=null==bl.a||bl.a<jl?0:bl.a-Math.max(jl,bl.b)):(bl=Qi(bl,wl),bl=Ci(bl,jl)),wl=Math.max(Ll.i*Math.max(Ll.b.minBufferTime||0,Ll.g.rebufferingGoal),Ll.i*Ll.g.bufferingGoal),ml>=Ll.b.presentationTimeline.Y())?(El.endOfStream=!0,null):(El.endOfStream=!1,El.xa=fl,fl!=Al)?null:bl>=wl?.5:(ml=Ll.a.K,fl=El.type,ml="text"==fl?ml.a.a:Si(Qi(ml,fl)),El.ea&&El.stream==El.Ga?(fl=El.ea.position+1,ml=go(Ll,El,Al,fl)):(fl=El.ea?El.stream.findSegmentPosition(Math.max(0,Ll.b.periods[dn(Ll.b,El.Ga)].startTime+El.ea.endTime-Ll.b.periods[Al].startTime)):El.stream.findSegmentPosition(Math.max(0,(ml||jl)-Ll.b.periods[Al].startTime)),null==fl?ml=null:(bl=null,null==ml&&(bl=go(Ll,El,Al,Math.max(0,fl-1))),ml=bl||go(Ll,El,Al,fl))),!ml)?1:(El.rc=0,po(Ll,El,jl,Al,ml),null)}function go(Ll,El,jl,ml){return(jl=Ll.b.periods[jl],El=El.stream.getSegmentReference(ml),!El)?null:(Ll=Ll.b.presentationTimeline,ml=Ll.va(),jl.startTime+El.endTime<Ll.na()||jl.startTime+El.startTime>ml?null:El)}function po(Ll,El,jl,ml,Al){var fl=Ll.b.periods[ml],bl=El.stream,wl=Ll.b.periods[ml+1],hl=null,hl=wl?wl.startTime:Ll.b.presentationTimeline.Y();ml=No(Ll,El,ml,hl),El.ya=!0,El.eb=!1,wl=jo(Ll,Al),Promise.all([ml,wl]).then(function(xl){if(!this.f&&!this.l)return Do(this,El,jl,fl,bl,Al,xl[1])}.bind(Ll)).then(function(){this.f||this.l||(El.ya=!1,El.Gb=!1,El.sa||this.a.Ab(),Ao(this,El,0),Io(this,bl))}.bind(Ll))["catch"](function(xl){this.f||this.l||(El.ya=!1,this.b.presentationTimeline.$()&&this.g.infiniteRetriesForLiveStreams&&(1001==xl.code||1002==xl.code||1003==xl.code)?"text"==El.type&&this.g.ignoreTextStreamFailures&&1001==xl.code?delete this.c.text:(xl.severity=1,this.a.onError(xl),Ao(this,El,4)):3017==xl.code?yo(this,El,xl):"text"==El.type&&this.g.ignoreTextStreamFailures?delete this.c.text:(El.tb=!0,xl.severity=2,this.a.onError(xl)))}.bind(Ll))}function yo(Ll,El,jl){if(!Gt(Ll.c).some(function(Al){return Al!=El&&Al.Gb})){var ml=Math.round(100*Ll.i);if(20<ml)Ll.i-=.2;else if(4<ml)Ll.i-=.04;else return El.tb=!0,Ll.l=!0,void Ll.a.onError(jl);El.Gb=!0}Ao(Ll,El,4)}function No(Ll,El,jl,ml){return El.eb?(jl=Bi(Ll.a.K,El.type,Ll.b.periods[jl].startTime-El.stream.presentationTimeOffset,ml),!El.stream.initSegmentReference)?jl:(Ll=jo(Ll,El.stream.initSegmentReference).then(function(Al){if(!this.f)return _i(this.a.K,El.type,Al,null,null)}.bind(Ll))["catch"](function(Al){return El.eb=!0,Promise.reject(Al)}),Promise.all([jl,Ll])):Promise.resolve()}function Do(Ll,El,jl,ml,Al,fl,bl){return Al.containsEmsgBoxes&&new $n().da("emsg",Ll.Ed.bind(Ll,ml,fl)).parse(bl),To(Ll,El,jl).then(function(){if(!this.f)return _i(this.a.K,El.type,bl,fl.startTime+ml.startTime,fl.endTime+ml.startTime)}.bind(Ll)).then(function(){if(!this.f)return El.Ga=Al,El.ea=fl,Promise.resolve()}.bind(Ll))}function To(Ll,El,jl){var ml=Ui(Ll.a.K,El.type);return null==ml?Promise.resolve():(jl=jl-ml-Ll.g.bufferBehind,0>=jl?Promise.resolve():Ll.a.K.remove(El.type,ml,ml+jl).then(function(){}.bind(Ll)))}function Io(Ll,El){if(!Ll.v&&(Ll.v=Gt(Ll.c).every(function(ml){return!("text"!=ml.type)||!ml.sa&&!ml.ta&&ml.ea}),Ll.v)){var jl=dn(Ll.b,El);for(Ll.h[jl]||uo(Ll,jl).then(function(){this.a.ac()}.bind(Ll))["catch"](jt),jl=0;jl<Ll.b.periods.length;++jl)uo(Ll,jl)["catch"](jt);Ll.a.wd&&Ll.a.wd()}}function Lo(Ll,El){if(El.xa!=dn(Ll.b,El.stream)){var jl=El.xa,ml=Gt(Ll.c);ml.every(function(Al){return Al.xa==jl})&&ml.every(Eo)&&uo(Ll,jl).then(function(){if(!this.f&&ml.every(function(wl){var hl=dn(this.b,wl.stream);return Eo(wl)&&wl.xa==jl&&hl!=jl}.bind(this))){var Al=this.b.periods[jl],fl=this.a.bc(Al),bl;for(bl in this.c)if(!fl[bl]&&"text"!=bl)return void this.a.onError(new Mt(2,5,5005));for(bl in fl)if(!this.c[bl])if("text"==bl)oo(this,{text:fl.text},Al.startTime),delete fl[bl];else return void this.a.onError(new Mt(2,5,5005));for(bl in this.c)(Al=fl[bl])?(no(this,bl,Al,!1),Ao(this,this.c[bl],0)):delete this.c[bl];this.a.ac()}}.bind(Ll))["catch"](jt)}}function Eo(Ll){return!Ll.ya&&null==Ll.ra&&!Ll.sa&&!Ll.ta}function jo(Ll,El){var jl=vt(El.a(),Ll.g.retryParameters);if(El.X||null!=El.M){var ml="bytes="+El.X+"-";null!=El.M&&(ml+=El.M),jl.headers.Range=ml}return Ll.a.dd.request(1,jl).then(function(Al){return Al.data})}function mo(Ll,El,jl){El.sa=!1,El.kb=!1,El.ta=!0,Ri(Ll.a.K,El.type).then(function(){if(!this.f&&jl){var ml=this.a.K,Al=El.type;return"text"==Al?Promise.resolve():Yi(ml,Al,ml.Oc.bind(ml,Al))}}.bind(Ll)).then(function(){this.f||(El.Ga=null,El.ea=null,El.ta=!1,El.endOfStream=!1,Ao(this,El,0))}.bind(Ll))}function Ao(Ll,El,jl){El.ra=tt.setTimeout(Ll.le.bind(Ll,El),1E3*jl)}function fo(Ll){null!=Ll.ra&&(tt.clearTimeout(Ll.ra),Ll.ra=null)}function bo(Ll,El){return new Promise(function(jl,ml){var Al=new XMLHttpRequest;for(var fl in Al.open(El.method,Ll,!0),Al.responseType="arraybuffer",Al.timeout=El.retryParameters.timeout,Al.withCredentials=El.allowCrossSiteCredentials,Al.onload=function(bl){bl=bl.target;var wl=bl.getAllResponseHeaders().split("\r\n").reduce(function(xl,Sl){var Ol=Sl.split(": ");return xl[Ol[0].toLowerCase()]=Ol.slice(1).join(": "),xl},{});if(200<=bl.status&&299>=bl.status&&202!=bl.status)bl.responseURL&&(Ll=bl.responseURL),jl({uri:Ll,data:bl.response,headers:wl,fromCache:!!wl["x-shaka-from-cache"]});else{var hl=null;try{hl=Kt(bl.response)}catch(xl){}ml(new Mt(401==bl.status||403==bl.status?2:1,1,1001,Ll,bl.status,hl,wl))}},Al.onerror=function(){ml(new Mt(1,1,1002,Ll))},Al.ontimeout=function(){ml(new Mt(1,1,1003,Ll))},El.headers)Al.setRequestHeader(fl,El.headers[fl]);Al.send(El.body)})}function wo(){this.a=null,this.b=[],this.c={}}function ho(Ll,El,jl){return Oo(Ll,El,"readwrite",function(ml){ml.put(jl)})}function xo(Ll,El,jl){return Oo(Ll,"segment","readwrite",function(ml){for(var Al=0;Al<El.length;Al++)ml["delete"](El[Al]).onsuccess=jl||function(){}})}function So(Ll,El){var jl=0;return Oo(Ll,El,"readonly",function(ml){ml.openCursor(null,"prev").onsuccess=function(Al){(Al=Al.target.result)&&(jl=Al.key+1)}}).then(function(){return jl})}function Oo(Ll,El,jl,ml){var Al={transaction:Ll.a.transaction([El],jl),L:new Ot};return Al.transaction.oncomplete=function(){this.b.splice(this.b.indexOf(Al),1),Al.L.resolve()}.bind(Ll),Al.transaction.onabort=function(fl){this.b.splice(this.b.indexOf(Al),1),zo(Al.transaction,Al.L,fl)}.bind(Ll),Al.transaction.onerror=function(fl){fl.preventDefault()}.bind(Ll),El=Al.transaction.objectStore(El),ml(El),Ll.b.push(Al),Al.L}function Co(Ll,El,jl){var ml=tt.indexedDB.open("shaka_offline_db",1),Al=!1,fl=new Ot;return ml.onupgradeneeded=function(bl){for(var wl in Al=!0,bl=bl.target.result,El)bl.createObjectStore(wl,{keyPath:El[wl]})},ml.onsuccess=function(bl){jl&&!Al?(bl.target.result.close(),setTimeout(function(){Co(this,El,jl-1).then(fl.resolve,fl.reject)}.bind(this),1E3)):(this.a=bl.target.result,fl.resolve())}.bind(Ll),ml.onerror=zo.bind(null,ml,fl),fl}function zo(Ll,El,jl){Ll.error?El.reject(new Mt(2,9,9001,Ll.error)):El.reject(new Mt(2,9,9002)),jl.preventDefault()}function vo(Ll){var El=ko(Ll.periods[0],[],new Cr(null,0)),jl=Ki(El,null,null),El=qi(El,null);return jl.push.apply(jl,El),{offlineUri:"offline:"+Ll.key,originalManifestUri:Ll.originalManifestUri,duration:Ll.duration,size:Ll.size,expiration:void 0==Ll.expiration?Infinity:Ll.expiration,tracks:jl,appMetadata:Ll.appMetadata}}function ko(Ll,El,jl){var ml=Ll.streams.filter(function(bl){return"text"==bl.contentType}),Al=Ll.streams.filter(function(bl){return"audio"==bl.contentType}),fl=Ll.streams.filter(function(bl){return"video"==bl.contentType});return El=Qo(Al,fl,El),ml=ml.map(Ro),Ll.streams.forEach(function(bl){bl=Uo(bl),jl.Ia(0,bl)}),{startTime:Ll.startTime,variants:El,textStreams:ml}}function Uo(Ll){return Ll.segments.map(function(El,jl){return new Kn(jl,El.startTime,El.endTime,function(){return[El.uri]},0,null)})}function Qo(Ll,El,jl){var ml=[];if(!Ll.length&&!El.length)return ml;Ll.length?El.length||(El=[null]):Ll=[null];for(var Al=0,fl=0;fl<Ll.length;fl++)for(var bl=0;bl<El.length;bl++)if(_o(Ll[fl],El[bl])){var wl=Ll[fl],hl=El[bl];wl={id:Al++,language:wl?wl.language:"",primary:!!wl&&wl.primary||!!hl&&hl.primary,audio:Ro(wl),video:Ro(hl),bandwidth:0,drmInfos:jl,allowedByApplication:!0,allowedByKeySystem:!0},ml.push(wl)}return ml}function _o(Ll,El){if(!(Ll&&El&&Ll.variantIds&&El.variantIds))return!0;for(var jl=0;jl<Ll.variantIds.length;jl++)if(El.variantIds.some(function(ml){return ml==Ll.variantIds[jl]}))return!0;return!1}function Ro(Ll){if(!Ll)return null;var El=Uo(Ll),El=new sr(El);return{id:Ll.id,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:El.find.bind(El),getSegmentReference:El.get.bind(El),initSegmentReference:Ll.initSegmentUri?new Xn(function(){return[Ll.initSegmentUri]},0,null):null,presentationTimeOffset:Ll.presentationTimeOffset,mimeType:Ll.mimeType,codecs:Ll.codecs,width:Ll.width||void 0,height:Ll.height||void 0,frameRate:Ll.frameRate||void 0,kind:Ll.kind,encrypted:Ll.encrypted,keyId:Ll.keyId,language:Ll.language,label:Ll.label||null,type:Ll.contentType,primary:Ll.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[]}}function Bo(){return tt.indexedDB?new wo:null}function Yo(Ll,El,jl,ml){this.b={},this.l=[],this.o=ml,this.j=Ll,this.v=El,this.A=jl,this.i=this.a=null,this.f=this.g=this.h=this.c=0}function Po(Ll,El,jl,ml,Al){Ll.b[El]=Ll.b[El]||[],Ll.b[El].push({uris:jl.a(),X:jl.X,M:jl.M,Rb:ml,Hb:Al})}function Fo(Ll,El){Ll.c=0,Ll.h=0,Ll.g=0,Ll.f=0,Gt(Ll.b).forEach(function(ml){ml.forEach(function(Al){null==Al.M?this.g+=Al.Rb:this.c+=Al.M-Al.X+1}.bind(this))}.bind(Ll)),Ll.a=El,Ll.a.size=Ll.c;var jl=Gt(Ll.b).map(function(ml){var Al=0,fl=function(){if(!this.o)return Promise.reject(new Mt(2,9,9002));if(Al>=ml.length)return Promise.resolve();var bl=ml[Al++];return Go(this,bl).then(fl)}.bind(this);return fl()}.bind(Ll));return Ll.b={},Ll.i=Promise.all(jl).then(function(){return ho(this.j,"manifest",El)}.bind(Ll)).then(function(){this.l=[]}.bind(Ll)),Ll.i}function Go(Ll,El){var jl=vt(El.uris,Ll.A);(El.X||null!=El.M)&&(jl.headers.Range="bytes="+El.X+"-"+(null==El.M?"":El.M));var ml;return Ll.v.request(1,jl).then(function(Al){return this.a?(ml=Al.data.byteLength,this.l.push(El.Hb.key),El.Hb.data=Al.data,ho(this.j,"segment",El.Hb)):Promise.reject(new Mt(2,9,9002))}.bind(Ll)).then(function(){if(!this.a)return Promise.reject(new Mt(2,9,9002));null==El.M?(this.a.size+=ml,this.f+=El.Rb):this.h+=ml;var Al=(this.h+this.f)/(this.c+this.g),fl=vo(this.a);this.o.progressCallback(fl,Al)}.bind(Ll))}function Vo(){this.a=-1}function Ho(Ll){var El=new Cr(null,0);El.qa(Ll.duration);var jl=Ll.drmInfo?[Ll.drmInfo]:[];return{presentationTimeline:El,minBufferTime:10,offlineSessionIds:Ll.sessionIds,periods:Ll.periods.map(function(ml){return ko(ml,jl,El)})}}function Wo(Ll){if(/^offline:([0-9]+)$/.exec(Ll)){var El={uri:Ll,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}};return Promise.resolve(El)}if(El=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(Ll)){var jl=+El[1],ml=Bo();return ml?ml.init(ul).then(function(){return ml.get("segment",jl)}).then(function(Al){return ml.m().then(function(){if(!Al)throw new Mt(2,9,9003,jl);return{uri:Ll,data:Al.data,headers:{}}})}):Promise.reject(new Mt(2,9,9E3))}return Promise.reject(new Mt(2,1,9004,Ll))}function Zo(){this.a=Promise.resolve(),this.b=this.c=this.f=!1,this.i=new Promise(function(Ll){this.g=Ll}.bind(this))}function Xo(Ll){return Ll.f||(Ll.a=Ll.a.then(function(El){return this.c=!0,Promise.resolve(El)}.bind(Ll),function(El){return this.c=!0,this.b?(this.g(),Promise.reject(this.h)):Promise.reject(El)}.bind(Ll))),Ll.f=!0,Ll.a}function Ko(Ll,El){Tn.call(this),this.O=!1,this.f=Ll,this.A=null,this.l=new _t,this.Qb=new un,this.Za=this.c=this.h=this.a=this.v=this.g=this.Xa=this.ka=this.N=this.j=this.o=null,this.Dc=1E9,this.Wa=[],this.la=!1,this.$a=!0,this.ma=this.J=null,this.G={},this.Ya=[],this.B={},this.b=nu(this),this.ob={width:Infinity,height:Infinity},this.i=ru(),this.Va=0,this.ja=this.b.preferredAudioLanguage,this.Da=this.b.preferredTextLanguage,this.lb=this.mb="",El&&El(this),this.o=new Ct(this.ee.bind(this)),this.Xa=Jo(this);for(var jl=0,ml;jl<this.f.textTracks.length;++jl)ml=this.f.textTracks[jl],ml.mode="disabled","Shaka Player TextTrack"==ml.label&&(this.A=ml);this.A||(this.A=this.f.addTextTrack("subtitles","Shaka Player TextTrack")),this.A.mode="hidden",Rt(this.l,this.f,"error",this.yd.bind(this))}function qo(Ll){function El(fl){return(fl.video?fl.video.codecs.split(".")[0]:"")+"-"+(fl.audio?fl.audio.codecs.split(".")[0]:"")}var jl={};Ll.c.periods.forEach(function(fl){fl.variants.forEach(function(bl){var wl=El(bl);wl in jl||(jl[wl]=[]),jl[wl].push(bl)})});var ml=null,Al=Infinity;Wt(jl,function(fl,bl){var wl=0,hl=0;bl.forEach(function(Sl){wl+=Sl.bandwidth,++hl});var xl=wl/hl;xl<Al&&(ml=fl,Al=xl)}),Ll.c.periods.forEach(function(fl){fl.variants=fl.variants.filter(function(bl){return!(El(bl)!=ml)})})}function Jo(Ll){Ll.N=new MediaSource;var El=new Ot;return Rt(Ll.l,Ll.N,"sourceopen",El.resolve),Ll.f.src=tt.URL.createObjectURL(Ll.N),El}function $o(Ll){if(Ll.h&&Ll.h.configure(Ll.b.manifest),Ll.j&&Ll.j.configure(Ll.b.drm),Ll.a){Ll.a.configure(Ll.b.streaming);try{Ll.c.periods.forEach(Ll.gb.bind(Ll))}catch(El){Ll.za(El)}Mu(Ll,eo(Ll.a))}Ll.b.abr.enabled&&!Ll.$a?Ll.b.abr.manager.enable():Ll.b.abr.manager.disable(),Ll.b.abr.manager.setDefaultEstimate(Ll.b.abr.defaultBandwidthEstimate),Ll.b.abr.manager.setRestrictions(Ll.b.abr.restrictions)}function _d(Ll,El,jl){Ll.i.switchHistory.push({timestamp:Date.now()/1E3,id:El.id,type:El.type,fromAdaptation:jl}),eu(Ll,El)}function eu(Ll,El){var jl=dn(Ll.c,El);Ll.B[jl]||(Ll.B[jl]={}),Ll.B[jl][El.type]=El.id}function tu(Ll){Ll.l&&(Ll.l.ha(Ll.N,"sourceopen"),Ll.l.ha(Ll.f,"loadeddata"),Ll.l.ha(Ll.f,"playing"),Ll.l.ha(Ll.f,"pause"),Ll.l.ha(Ll.f,"ended")),Ll.f&&(Ll.f.removeAttribute("src"),Ll.f.load());var El=Promise.all([Ll.b?Ll.b.abr.manager.stop():null,Ll.j?Ll.j.m():null,Ll.ka?Ll.ka.m():null,Ll.g?Ll.g.m():null,Ll.v?Ll.v.m():null,Ll.a?Ll.a.m():null,Ll.h?Ll.h.stop():null]);return Ll.j=null,Ll.ka=null,Ll.g=null,Ll.v=null,Ll.a=null,Ll.h=null,Ll.c=null,Ll.Za=null,Ll.Xa=null,Ll.N=null,Ll.Ya=[],Ll.B={},Ll.G={},Ll.i=ru(),El}function iu(Ll){return Ll.h?tu(Ll).then(function(){this.O||(this.zc(!1),this.Xa=Jo(this))}.bind(Ll)):Promise.resolve()}function au(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:null}}}function nu(Ll){return{drm:{retryParameters:zt(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:zt(),dash:{customScheme:function(jl){if(jl)return null},clockSyncUri:"",ignoreDrmInfo:!1},hls:{defaultTimeOffset:0}},streaming:{retryParameters:zt(),infiniteRetriesForLiveStreams:!0,rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1},abr:{manager:Ll.Qb,enabled:!0,defaultBandwidthEstimate:5E5,restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}},preferredAudioLanguage:"",preferredTextLanguage:"",restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}}}function ru(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function su(Ll,El,jl){for(var ml in El){var Al=El[ml],fl=jl||!1;"text"==ml&&(fl=!0),Ll.$a?Ll.G[ml]={stream:Al,Kc:fl}:no(Ll.a,ml,Al,fl)}}function ou(Ll){if(Ll.c){var El=Date.now()/1E3;Ll.la?Ll.i.bufferingTime+=El-Ll.Va:Ll.i.playTime+=El-Ll.Va,Ll.Va=El}}function du(Ll,El){function jl(bl,wl){if(!bl)return null;var hl=bl.findSegmentPosition(wl-Al.startTime);return null==hl?null:(hl=bl.getSegmentReference(hl))?hl.startTime+Al.startTime:null}var ml=to(Ll.a),Al=eo(Ll.a),fl=jl(ml.video,El),ml=jl(ml.audio,El);return null!=fl&&null!=ml?Math.max(fl,ml):null==fl?null==ml?El:ml:fl}function uu(Ll,El,jl,ml,Al){if(!jl||1>jl.length)return Ll.za(new Mt(2,4,4012)),{};Ll.b.abr.manager.setVariants(jl),Ll.b.abr.manager.setTextStreams(ml);var fl=[];Al&&(fl=["video","audio"],El.textStreams.length&&fl.push("text")),Al=to(Ll.a);var bl=Ll.a,wl=bl.c.video||bl.c.audio;if(bl=wl?bl.b.periods[wl.xa]:null,El=an(Al.audio,Al.video,bl?bl.variants:El.variants))for(var hl in El.allowedByApplication&&El.allowedByKeySystem||(fl.push("audio"),fl.push("video")),Al)El=Al[hl],"audio"==El.type&&El.language!=jl[0].language?fl.push(hl):"text"==El.type&&0<ml.length&&El.language!=ml[0].language&&fl.push(hl);if(fl=fl.filter(ft),0<fl.length){jl={};try{jl=Ll.b.abr.manager.chooseStreams(fl)}catch(xl){Ll.za(xl)}return jl}return{}}function Mu(Ll,El){var jl={audio:!1,text:!1},ml=en(El,Ll.ja,jl,Ll.mb),Al=tn(El,Ll.Da,jl,Ll.lb),ml=uu(Ll,El,ml,Al),fl;for(fl in ml)_d(Ll,ml[fl],!0);su(Ll,ml,!0),lu(Ll),ml.text&&ml.audio&&jl.text&&ml.text.language!=ml.audio.language&&(Ll.A.mode="showing",gu(Ll))}function lu(Ll){Promise.resolve().then(function(){this.O||this.dispatchEvent(new ln("adaptation"))}.bind(Ll))}function cu(Ll){Promise.resolve().then(function(){this.O||this.dispatchEvent(new ln("trackschanged"))}.bind(Ll))}function gu(Ll){Ll.dispatchEvent(new ln("texttrackvisibility"))}function pu(Ll){if(!Ll||Ll.constructor!=Ko)throw new Mt(2,9,9008);this.a=Bo(),this.f=Ll,this.i=Du(this),this.b=null,this.v=!1,this.j=null,this.g=-1,this.l=0,this.c=null,this.h=new Yo(this.a,Ll.o,Ll.getConfiguration().streaming.retryParameters,this.i)}function yu(){return!!tt.indexedDB}function Nu(Ll,El,jl,ml){function Al(){}var fl=Ll.f.o,bl=Ll.f.getConfiguration(),wl,hl,xl;return Or(El,fl,bl.manifest.retryParameters,ml).then(function(Sl){return ju(this),xl=new Sl,xl.configure(bl.manifest),xl.start(El,{networkingEngine:fl,filterPeriod:this.o.bind(this),onTimelineRegionAdded:function(){},onEvent:function(){},onError:jl})}.bind(Ll)).then(function(Sl){return ju(this),wl=Sl,hl=new si(fl,jl,Al,function(){}),hl.configure(bl.drm),hl.init(wl,!0)}.bind(Ll)).then(function(){return ju(this),Lu(wl)}.bind(Ll)).then(function(){return ju(this),ui(hl)}.bind(Ll)).then(function(){return ju(this),xl.stop()}.bind(Ll)).then(function(){return ju(this),{manifest:wl,Lc:hl}}.bind(Ll))["catch"](function(Sl){if(xl)return xl.stop().then(function(){throw Sl});throw Sl})}function Du(Ll){return{trackSelectionCallback:Ll.A.bind(Ll),progressCallback:function(jl,ml){if(jl||ml)return null}}}function Tu(Ll){return Ll.a?Ll.a.a?Promise.resolve():Ll.a.init(ul):Promise.reject(new Mt(2,9,9E3))}function Iu(Ll){var El=Ll.b?Ll.b.m():Promise.resolve();return Ll.b=null,Ll.c=null,Ll.v=!1,Ll.j=null,Ll.g=-1,El}function Lu(Ll){var El=Ll.periods.map(function(jl){return jl.variants}).reduce(Et,[]).map(function(jl){var ml=[];return jl.audio&&ml.push(jl.audio),jl.video&&ml.push(jl.video),ml}).reduce(Et,[]).filter(ft);return Ll=Ll.periods.map(function(jl){return jl.textStreams}).reduce(Et,[]),El.push.apply(El,Ll),Promise.all(El.map(function(jl){return jl.createSegmentIndex()}))}function Eu(Ll,El,jl,ml,Al){for(var fl=[],bl=Ll.c.presentationTimeline.na(),wl=bl,hl=jl.findSegmentPosition(bl),xl=null==hl?null:jl.getSegmentReference(hl);xl;)wl=Ll.a.c.segment++,Po(Ll.h,jl.type,xl,(xl.endTime-xl.startTime)*ml/8,{key:wl,data:null,manifestKey:Ll.g,streamNumber:jl.id,segmentNumber:wl}),fl.push({startTime:xl.startTime,endTime:xl.endTime,uri:"offline:"+Ll.g+"/"+jl.id+"/"+wl}),wl=xl.endTime+El.startTime,xl=jl.getSegmentReference(++hl);return Ll.l=Math.max(Ll.l,wl-bl),El=null,jl.initSegmentReference&&(wl=Ll.a.c.segment++,El="offline:"+Ll.g+"/"+jl.id+"/"+wl,Po(Ll.h,jl.contentType,jl.initSegmentReference,0,{key:wl,data:null,manifestKey:Ll.g,streamNumber:jl.id,segmentNumber:-1})),Ll=[],null!=Al&&Ll.push(Al),{id:jl.id,primary:jl.primary,presentationTimeOffset:jl.presentationTimeOffset||0,contentType:jl.type,mimeType:jl.mimeType,codecs:jl.codecs,frameRate:jl.frameRate,kind:jl.kind,language:jl.language,label:jl.label,width:jl.width||null,height:jl.height||null,initSegmentUri:El,encrypted:jl.encrypted,keyId:jl.keyId,segments:fl,variantIds:Ll}}function ju(Ll){if(!Ll.f)throw new Mt(2,9,9002)}function mu(Ll){ll.push(Ll)}function Au(Ll){var El=Ll.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var jl=new Event(El,Ll);else jl=document.createEvent("Event"),jl.initEvent(El,Ll.bubbles,Ll.cancelable);Ll.target.dispatchEvent(jl)}function fu(Ll,El,jl){if("input"==Ll)switch(this.type){case"range":Ll="change";}cl.call(this,Ll,El,jl)}function bu(Ll){this.f=[],this.b=[],this.a=[],new $n().da("pssh",this.c.bind(this)).parse(Ll.buffer)}function wu(Ll,El){try{var jl=new hu(Ll,El);return Promise.resolve(jl)}catch(ml){return Promise.reject(ml)}}function hu(Ll,El){this.keySystem=Ll;for(var jl=!1,ml=0;ml<El.length;++ml){var Al=El[ml],fl={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:Al.initDataTypes,sessionTypes:["temporary"],label:Al.label},bl=!1;if(Al.audioCapabilities)for(var wl=0,hl;wl<Al.audioCapabilities.length;++wl)if(hl=Al.audioCapabilities[wl],hl.contentType){bl=!0;var xl=hl.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,xl)&&(fl.audioCapabilities.push(hl),jl=!0)}if(Al.videoCapabilities)for(wl=0;wl<Al.videoCapabilities.length;++wl)hl=Al.videoCapabilities[wl],hl.contentType&&(bl=!0,xl=hl.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,xl)&&(fl.videoCapabilities.push(hl),jl=!0));if(bl||(jl=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==Al.persistentState&&(jl=!1),jl)return void(this.a=fl)}throw Al=Error("Unsupported keySystem"),Al.name="NotSupportedError",Al.code=DOMException.NOT_SUPPORTED_ERR,Al}function xu(Ll){var El=this.mediaKeys;return El&&El!=Ll&&Ou(El,null),delete this.mediaKeys,(this.mediaKeys=Ll)?Ou(Ll,this):Promise.resolve()}function Su(Ll){this.a=new MSMediaKeys(Ll),this.b=new _t}function Ou(Ll,El){function jl(){El.msSetMediaKeys(ml.a),El.removeEventListener("loadedmetadata",jl)}if(Yt(Ll.b),!El)return Promise.resolve();Rt(Ll.b,El,"msneedkey",zu);var ml=Ll;try{return 1<=El.readyState?El.msSetMediaKeys(Ll.a):El.addEventListener("loadedmetadata",jl),Promise.resolve()}catch(Al){return Promise.reject(Al)}}function Cu(Ll){Tn.call(this),this.c=null,this.g=Ll,this.b=this.a=null,this.f=new _t,this.sessionId="",this.expiration=NaN,this.closed=new Ot,this.keyStatuses=new Uu}function zu(Ll){var El=document.createEvent("CustomEvent");El.initCustomEvent("encrypted",!1,!1,null),El.initDataType="cenc";var jl=Ll.initData;if(jl){var ml=new bu(jl);if(1>=ml.a.length)Ll=jl;else{var Al=[];for(Ll=0;Ll<ml.a.length;Ll++)Al.push(jl.subarray(ml.a[Ll].start,ml.a[Ll].end+1));for(jl=kt(Al,vu),Ll=ml=0;Ll<jl.length;Ll++)ml+=jl[Ll].length;for(ml=new Uint8Array(ml),Ll=Al=0;Ll<jl.length;Ll++)ml.set(jl[Ll],Al),Al+=jl[Ll].length;Ll=ml}}else Ll=jl;El.initData=Ll,this.dispatchEvent(El)}function vu(Ll,El){return ri(Ll,El)}function ku(Ll,El){Ll.keyStatuses.Kb(El),Ll.dispatchEvent(new ln("keystatuseschange"))}function Uu(){this.size=0,this.a=void 0}function Qu(){return Promise.reject(Error("The key system specified is not supported."))}function _u(Ll){return Ll?Promise.reject(Error("MediaKeys not supported.")):Promise.resolve()}function Ru(){throw new TypeError("Illegal constructor.")}function Bu(){throw new TypeError("Illegal constructor.")}function Yu(Ll){yl=Ll,Nl=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Fu,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Gu,tt.MediaKeys=Hu,tt.MediaKeySystemAccess=Vu}function Pu(Ll){var El=yl;return El?El+Ll.charAt(0).toUpperCase()+Ll.slice(1):Ll}function Fu(Ll,El){try{var jl=new Vu(Ll,El);return Promise.resolve(jl)}catch(ml){return Promise.reject(ml)}}function Gu(Ll){var El=this.mediaKeys;return El&&El!=Ll&&Wu(El,null),delete this.mediaKeys,(this.mediaKeys=Ll)&&Wu(Ll,this),Promise.resolve()}function Vu(Ll,El){this.a=this.keySystem=Ll;var jl=!1;"org.w3.clearkey"==Ll&&(this.a="webkit-org.w3.clearkey",jl=!1);for(var ml=!1,Al=document.getElementsByTagName("video"),fl=Al.length?Al[0]:document.createElement("video"),bl=0;bl<El.length;++bl){Al=El[bl];var wl={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:Al.initDataTypes,sessionTypes:["temporary"],label:Al.label},hl=!1;if(Al.audioCapabilities)for(var xl=0,Sl;xl<Al.audioCapabilities.length;++xl)if(Sl=Al.audioCapabilities[xl],Sl.contentType){var hl=!0,Ol=Sl.contentType.split(";")[0];fl.canPlayType(Ol,this.a)&&(wl.audioCapabilities.push(Sl),ml=!0)}if(Al.videoCapabilities)for(xl=0;xl<Al.videoCapabilities.length;++xl)Sl=Al.videoCapabilities[xl],Sl.contentType&&(hl=!0,fl.canPlayType(Sl.contentType,this.a)&&(wl.videoCapabilities.push(Sl),ml=!0));if(hl||(ml=fl.canPlayType("video/mp4",this.a)||fl.canPlayType("video/webm",this.a)),"required"==Al.persistentState&&(jl?(wl.persistentState="required",wl.sessionTypes=["persistent-license"]):ml=!1),ml)return void(this.b=wl)}throw jl="Unsupported keySystem",("org.w3.clearkey"==Ll||"com.widevine.alpha"==Ll)&&(jl="None of the requested configurations were supported."),jl=Error(jl),jl.name="NotSupportedError",jl.code=DOMException.NOT_SUPPORTED_ERR,jl}function Hu(Ll){this.g=Ll,this.b=null,this.a=new _t,this.c=[],this.f={}}function Wu(Ll,El){Ll.b=El,Yt(Ll.a);var jl=yl;El&&(Rt(Ll.a,El,jl+"needkey",Ll.Cd.bind(Ll)),Rt(Ll.a,El,jl+"keymessage",Ll.Bd.bind(Ll)),Rt(Ll.a,El,jl+"keyadded",Ll.zd.bind(Ll)),Rt(Ll.a,El,jl+"keyerror",Ll.Ad.bind(Ll)))}function Zu(Ll,El){var jl=Ll.f[El];return jl?jl:(jl=Ll.c.shift())?(jl.sessionId=El,Ll.f[El]=jl):null}function Xu(Ll,El,jl){Tn.call(this),this.f=Ll,this.h=!1,this.a=this.b=null,this.c=El,this.g=jl,this.sessionId="",this.expiration=NaN,this.closed=new Ot,this.keyStatuses=new Ju}function Ku(Ll,El,jl){if(Ll.h)return Promise.reject(Error("The session is already initialized."));Ll.h=!0;try{if(!("persistent-license"==Ll.g))ml=new Uint8Array(El);else if(jl)var ml=new Uint8Array(qt("LOAD_SESSION|"+jl));else{var Al=qt("PERSISTENT|"),fl=new Uint8Array(Al.byteLength+El.byteLength);fl.set(new Uint8Array(Al),0),fl.set(new Uint8Array(El),Al.byteLength),ml=fl}}catch(wl){return Promise.reject(wl)}Ll.b=new Ot;var bl=Pu("generateKeyRequest");try{Ll.f[bl](Ll.c,ml)}catch(wl){if("InvalidStateError"!=wl.name)return Ll.b=null,Promise.reject(wl);setTimeout(function(){try{this.f[bl](this.c,ml)}catch(hl){this.b.reject(hl),this.b=null}}.bind(Ll),10)}return Ll.b}function qu(Ll,El){Ll.keyStatuses.Kb(El),Ll.dispatchEvent(new ln("keystatuseschange"))}function Ju(){this.size=0,this.a=void 0}function $u(){var Ll=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var El=Ll.apply(this,arguments);return El.abort=function(){},El}}function eM(){var Ll=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var ml=0,Al=0,jl;Al<this.sourceBuffers.length;++Al)jl=this.sourceBuffers[Al],jl=jl.buffered.end(jl.buffered.length-1),ml=Math.max(ml,jl);if(!isNaN(this.duration)&&ml<this.duration)for(this.Zb=!0,Al=0;Al<this.sourceBuffers.length;++Al)jl=this.sourceBuffers[Al],jl.Tb=!1;return Ll.apply(this,arguments)};var El=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var jl=El.apply(this,arguments);return jl.N=this,jl.addEventListener("updateend",tM,!1),this.a||(this.addEventListener("sourceclose",iM,!1),this.a=!0),jl}}function tM(Ll){var El=Ll.target,jl=El.N;if(jl.Zb){for(Ll.preventDefault(),Ll.stopPropagation(),Ll.stopImmediatePropagation(),El.Tb=!0,Ll=0;Ll<jl.sourceBuffers.length;++Ll)if(0==jl.sourceBuffers[Ll].Tb)return;jl.Zb=!1}}function iM(Ll){Ll=Ll.target;for(var El=0;El<Ll.sourceBuffers.length;++El)Ll.sourceBuffers[El].removeEventListener("updateend",tM,!1);Ll.removeEventListener("sourceclose",iM,!1)}function aM(Ll){if(this.c=[],this.b=[],this.Ba=Dl,Ll)try{Ll(this.fa.bind(this),this.a.bind(this))}catch(El){this.a(El)}}function nM(Ll){var El=new aM;return El.fa(void 0),El.then(function(){return Ll})}function rM(Ll){var El=new aM;return El.a(Ll),El}function sM(Ll){function El(wl,hl,xl){wl.Ba==Dl&&(Al[hl]=xl,ml++,ml==Al.length&&wl.fa(Al))}var jl=new aM;if(!Ll.length)return jl.fa([]),jl;for(var ml=0,Al=Array(Ll.length),fl=jl.a.bind(jl),bl=0;bl<Ll.length;++bl)Ll[bl]&&Ll[bl].then?Ll[bl].then(El.bind(null,jl,bl),fl):El(jl,bl,Ll[bl]);return jl}function oM(Ll){for(var El=new aM,jl=El.fa.bind(El),ml=El.a.bind(El),Al=0;Al<Ll.length;++Al)Ll[Al]&&Ll[Al].then?Ll[Al].then(jl,ml):jl(Ll[Al]);return El}function dM(Ll,El,jl){Il.push(function(){if(jl&&"function"==typeof jl){try{var ml=jl(this.jb)}catch(fl){return void El.a(fl)}try{var Al=ml&&ml.then}catch(fl){return void El.a(fl)}ml instanceof aM?ml==El?El.a(new TypeError("Chaining cycle detected")):ml.then(El.fa.bind(El),El.a.bind(El)):Al?uM(ml,Al,El):El.fa(ml)}else 1==this.Ba?El.fa(this.jb):El.a(this.jb)}.bind(Ll)),null==Tl&&(Tl=lM(MM))}function uM(Ll,El,jl){try{var ml=!1;El.call(Ll,function(Al){if(!ml){ml=!0;try{var fl=Al&&Al.then}catch(bl){return void jl.a(bl)}fl?uM(Al,fl,jl):jl.fa(Al)}},jl.a.bind(jl))}catch(Al){jl.a(Al)}}function MM(){for(;Il.length;){null!=Tl&&(cM(Tl),Tl=null);var Ll=Il;Il=[];for(var El=0;El<Ll.length;++El)Ll[El]()}}function lM(){return 0}function cM(){}function gM(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function pM(Ll,El,jl){return new tt.TextTrackCue(Ll,El,jl)}function yM(Ll,El,jl){return new tt.TextTrackCue(Ll+"-"+El+"-"+jl,Ll,El,jl)}var DM=this,NM;DM.xe=!0;ot.prototype.setDefaultEstimate=function(Ll){this.b=Ll},ot.prototype.getBandwidthEstimate=function(){return 128E3>this.a?this.b:Math.min(st(this.c),st(this.f))};it("shaka.util.Error",Mt),Mt.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Mt.Severity={RECOVERABLE:1,CRITICAL:2},Mt.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},Mt.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7E3,CAST_API_UNAVAILABLE:8E3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9E3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008};var TM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;NM=lt.prototype,NM.aa="",NM.Ca="",NM.ca="",NM.Ka=null,NM.W="",NM.ua="",NM.toString=function(){var Ll=[],El=this.aa;if(El&&Ll.push(Nt(El,IM,!0),":"),El=this.ca){Ll.push("//");var jl=this.Ca;jl&&Ll.push(Nt(jl,IM,!0),"@"),Ll.push(encodeURIComponent(El).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),El=this.Ka,null!=El&&Ll.push(":",El+"")}return(El=this.W)&&(this.ca&&"/"!=El.charAt(0)&&Ll.push("/"),Ll.push(Nt(El,"/"==El.charAt(0)?EM:LM,!0))),(El=this.a.toString())&&Ll.push("?",El),(El=this.ua)&&Ll.push("#",Nt(El,mM)),Ll.join("")},NM.resolve=function(Ll){var El=new lt(this);"data"===El.aa&&(El=new lt);var jl=!!Ll.aa;jl?ct(El,Ll.aa):jl=!!Ll.Ca,jl?El.Ca=Ll.Ca:jl=!!Ll.ca,jl?El.ca=Ll.ca:jl=null!=Ll.Ka;var ml=Ll.W;if(jl)gt(El,Ll.Ka);else if(jl=!!Ll.W){if("/"!=ml.charAt(0))if(this.ca&&!this.W)ml="/"+ml;else{var Al=El.W.lastIndexOf("/");-1!=Al&&(ml=El.W.substr(0,Al+1)+ml)}if(".."==ml||"."==ml)ml="";else if(-1!=ml.indexOf("./")||-1!=ml.indexOf("/.")){for(var Al=!ml.lastIndexOf("/",0),ml=ml.split("/"),fl=[],bl=0,wl;bl<ml.length;)wl=ml[bl++],"."==wl?Al&&bl==ml.length&&fl.push(""):".."==wl?((1<fl.length||1==fl.length&&""!=fl[0])&&fl.pop(),Al&&bl==ml.length&&fl.push("")):(fl.push(wl),Al=!0);ml=fl.join("/")}}return jl?El.W=ml:jl=""!==Ll.a.toString(),jl?pt(El,It(Ll.a)):jl=!!Ll.ua,jl&&(El.ua=Ll.ua),El};var IM=/[#\/\?@]/g,LM=/[\#\?:]/g,EM=/[\#\?]/g,jM=/[\#\?@]/g,mM=/#/g;Tt.prototype.a=null,Tt.prototype.c=null,Tt.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var Ll=[],El;for(El in this.a)for(var jl=encodeURIComponent(El),ml=this.a[El],Al=0,fl;Al<ml.length;Al++)fl=jl,""!==ml[Al]&&(fl+="="+encodeURIComponent(ml[Al])),Ll.push(fl);return this.b=Ll.join("&")};var AM=1/15;it("shaka.net.NetworkingEngine",Ct),Ct.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3};var fM={};Ct.registerScheme=function(Ll,El){fM[Ll]=El},Ct.unregisterScheme=function(Ll){delete fM[Ll]},Ct.prototype.Ld=function(Ll){this.b.push(Ll)},Ct.prototype.registerRequestFilter=Ct.prototype.Ld,Ct.prototype.pe=function(Ll){var El=this.b;Ll=El.indexOf(Ll),0<=Ll&&El.splice(Ll,1)},Ct.prototype.unregisterRequestFilter=Ct.prototype.pe,Ct.prototype.Ic=function(){this.b=[]},Ct.prototype.clearAllRequestFilters=Ct.prototype.Ic,Ct.prototype.Md=function(Ll){this.c.push(Ll)},Ct.prototype.registerResponseFilter=Ct.prototype.Md,Ct.prototype.qe=function(Ll){var El=this.c;Ll=El.indexOf(Ll),0<=Ll&&El.splice(Ll,1)},Ct.prototype.unregisterResponseFilter=Ct.prototype.qe,Ct.prototype.Jc=function(){this.c=[]},Ct.prototype.clearAllResponseFilters=Ct.prototype.Jc,Ct.prototype.m=function(){this.f=!0,this.b=[],this.c=[];for(var Ll=[],El=0;El<this.a.length;++El)Ll.push(this.a[El]["catch"](jt));return Promise.all(Ll)},Ct.prototype.destroy=Ct.prototype.m,Ct.prototype.request=function(Ll,El){if(this.f)return Promise.reject();El.method=El.method||"GET",El.headers=El.headers||{},El.retryParameters=El.retryParameters?St(El.retryParameters):zt(),El.uris=St(El.uris);var jl=Date.now(),ml=Promise.resolve();return this.b.forEach(function(Al){ml=ml.then(Al.bind(null,Ll,El))}),ml=ml["catch"](function(Al){throw new Mt(2,1,1006,Al)}),ml=ml.then(function(){for(var Al=Date.now()-jl,fl=El.retryParameters||{},bl=fl.maxAttempts||1,wl=fl.backoffFactor||2,fl=null==fl.baseDelay?1E3:fl.baseDelay,hl=this.g(Ll,El,0,Al),xl=1;xl<bl;xl++)hl=hl["catch"](function(Sl,Ol,Cl){if(Cl&&1==Cl.severity){Cl=new Ot;var zl=El.retryParameters||{};return tt.setTimeout(Cl.resolve,Sl*(1+(2*Math.random()-1)*(null==zl.fuzzFactor?.5:zl.fuzzFactor))),Cl.then(this.g.bind(this,Ll,El,Ol,Al))}throw Cl}.bind(this,fl,xl%El.uris.length)),fl*=wl;return hl}.bind(this)),this.a.push(ml),ml.then(function(Al){return 0<=this.a.indexOf(ml)&&this.a.splice(this.a.indexOf(ml),1),this.h&&!Al.fromCache&&1==Ll&&this.h(Al.timeMs,Al.data.byteLength),Al}.bind(this))["catch"](function(Al){return Al&&(Al.severity=2),0<=this.a.indexOf(ml)&&this.a.splice(this.a.indexOf(ml),1),Promise.reject(Al)}.bind(this))},Ct.prototype.request=Ct.prototype.request,Ct.prototype.g=function(Ll,El,jl,ml){if(this.f)return Promise.reject();var Al=new lt(El.uris[jl]),fl=Al.aa;if(fl||(fl=location.protocol,fl=fl.slice(0,-1),ct(Al,fl),El.uris[jl]=Al.toString()),fl=fM[fl],!fl)return Promise.reject(new Mt(2,1,1E3,Al));var bl=Date.now();return fl(El.uris[jl],El,Ll).then(function(wl){void 0==wl.timeMs&&(wl.timeMs=Date.now()-bl);var hl=Date.now(),xl=Promise.resolve();return this.c.forEach(function(Sl){xl=xl.then(function(){return Promise.resolve(Sl(Ll,wl))}.bind(this))}),xl=xl["catch"](function(Sl){var Ol=2;throw Sl instanceof Mt&&(Ol=Sl.severity),new Mt(Ol,1,1007,Sl)}),xl.then(function(){return wl.timeMs+=Date.now()-hl,wl.timeMs+=ml,wl})}.bind(this))};Qt.prototype.push=function(Ll,El){this.a.hasOwnProperty(Ll)?this.a[Ll].push(El):this.a[Ll]=[El]},Qt.prototype.get=function(Ll){return(Ll=this.a[Ll])?Ll.slice():null},Qt.prototype.remove=function(Ll,El){var jl=this.a[Ll];if(jl)for(var ml=0;ml<jl.length;++ml)jl[ml]==El&&(jl.splice(ml,1),--ml)},_t.prototype.m=function(){return Yt(this),this.a=null,Promise.resolve()},_t.prototype.ha=function(Ll,El){if(this.a)for(var jl=this.a.get(El)||[],ml=0,Al;ml<jl.length;++ml)Al=jl[ml],Al.target==Ll&&(Al.ha(),this.a.remove(El,Al))},Pt.prototype.ha=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null};it("shaka.util.StringUtils.fromUTF8",Zt),it("shaka.util.StringUtils.fromUTF16",Xt),it("shaka.util.StringUtils.fromBytesAutoDetect",Kt),it("shaka.util.StringUtils.toUTF8",qt);$t.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)};it("shaka.util.Uint8ArrayUtils.toBase64",ti),it("shaka.util.Uint8ArrayUtils.fromBase64",ii),it("shaka.util.Uint8ArrayUtils.fromHex",ai),it("shaka.util.Uint8ArrayUtils.toHex",ni),it("shaka.util.Uint8ArrayUtils.equal",ri),it("shaka.util.Uint8ArrayUtils.concat",function(){for(var El=0,jl=0;jl<arguments.length;++jl)El+=arguments[jl].length;for(var El=new Uint8Array(El),ml=0,jl=0;jl<arguments.length;++jl)El.set(arguments[jl],ml),ml+=arguments[jl].length;return El}),NM=si.prototype,NM.m=function(){this.c=!0;var Ll=this.a.map(function(El){return(El.ba.close()||Promise.resolve())["catch"](jt)});return this.i.reject(),this.f&&Ll.push(this.f.m()),this.l&&Ll.push(this.l.setMediaKeys(null)["catch"](jt)),this.O&&(clearInterval(this.O),this.O=null),this.B&&this.B.cancel(),this.f=this.l=this.j=this.v=this.b=this.B=null,this.a=[],this.o=[],this.ma=this.g=this.h=this.la=null,Promise.all(Ll)},NM.configure=function(Ll){this.h=Ll},NM.init=function(Ll,El){var jl={},ml=[];return this.ka=El,this.o=Ll.offlineSessionIds,li(this,Ll,El||0<Ll.offlineSessionIds.length,jl,ml),ml.length?ci(this,jl,ml):(this.J=!0,Promise.resolve())},NM.keySystem=function(){return this.b?this.b.keySystem:""},NM.bb=function(){var Ll=this.a.map(function(El){return El=El.ba.expiration,isNaN(El)?Infinity:El});return Math.min.apply(Math,Ll)},NM.fd=function(Ll){for(var El=new Uint8Array(Ll.initData),jl=0;jl<this.a.length;++jl)if(ri(El,this.a[jl].initData))return;Ti(this,Ll.initDataType,El)},NM.kc=function(Ll){this.h.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.ja?this.G.push(Ll):Ii(this,Ll)},NM.ec=function(Ll){Ll=Ll.target;var El;for(El=0;El<this.a.length&&this.a[El].ba!=Ll;++El);if(El!=this.a.length){var jl=!1;Ll.keyStatuses.forEach(function(Al,fl){if("string"==typeof fl){var bl=fl;fl=Al,Al=bl}if("com.microsoft.playready"==this.b.keySystem&&16==fl.byteLength){var bl=new DataView(fl),wl=bl.getUint32(0,!0),hl=bl.getUint16(4,!0),xl=bl.getUint16(6,!0);bl.setUint32(0,wl,!1),bl.setUint16(4,hl,!1),bl.setUint16(6,xl,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==Al&&(Al="usable"),"status-pending"!=Al&&(this.a[El].loaded=!0,this.a.every(function(Sl){return Sl.loaded})&&this.i.resolve()),"expired"==Al&&(jl=!0),bl=ni(new Uint8Array(fl)),this.A[bl]=Al}.bind(this));var ml=Ll.expiration-Date.now();(0>ml||jl&&1E3>ml)&&!this.a[El].ia&&(this.a.splice(El,1),Ll.close()),ei(this.B)}},NM.Kd=function(){!Ft(this.A)&&Ht(this.A,function(El,jl){return"expired"==jl})&&this.g(new Mt(2,6,6014)),this.Da(this.A)},NM.qd=function(){for(var Ll=0;Ll<this.G.length;Ll++)Ii(this,this.G[Ll]);this.ja=!0,this.G=[]},NM.Jd=function(){this.a.forEach(function(Ll){var El=Ll.zb,jl=Ll.ba.expiration;isNaN(jl)&&(jl=Infinity),jl!=El&&(this.ma(Ll.ba.sessionId,jl),Ll.zb=jl)}.bind(this))};var bM={};it("shaka.media.TextEngine.registerParser",fi),it("shaka.media.TextEngine.unregisterParser",function(Ll){delete bM[Ll]}),it("shaka.media.TextEngine.makeCue",bi),Ai.prototype.m=function(){return this.c&&hi(this,function(){return!0}),this.c=this.f=null,Promise.resolve()},Ai.prototype.remove=function(Ll,El){return Promise.resolve().then(function(){this.c&&(hi(this,function(jl){return jl.startTime>=El||jl.endTime<=Ll?!1:!0}),null==this.b||El<=this.b||Ll>=this.a||(Ll<=this.b&&El>=this.a?this.b=this.a=null:Ll<=this.b&&El<this.a?this.b=El:Ll>this.b&&El>=this.a&&(this.a=Ll)))}.bind(this))},xi.prototype.parseInit=function(Ll){this.Oa(Ll,0,null,null)},xi.prototype.parseMedia=function(Ll,El){return this.Oa(Ll,El.periodStart,El.segmentStart,El.segmentEnd)};NM=zi.prototype,NM.m=function(){this.h=!0;var Ll=[],El;for(El in this.b){var jl=this.b[El],ml=jl[0];for(this.b[El]=jl.slice(0,1),ml&&Ll.push(ml.p["catch"](jt)),ml=1;ml<jl.length;++ml)jl[ml].p["catch"](jt),jl[ml].p.reject()}return this.a&&Ll.push(this.a.m()),Promise.all(Ll).then(function(){this.g.m(),this.a=this.i=this.N=this.f=this.g=null,this.c={},this.b={}}.bind(this))},NM.init=function(Ll){for(var El in Ll){var jl=Ll[El];"text"==El?ki(this,jl):(jl=this.N.addSourceBuffer(jl),Rt(this.g,jl,"error",this.ke.bind(this,El)),Rt(this.g,jl,"updateend",this.Ja.bind(this,El)),this.c[El]=jl,this.b[El]=[])}},NM.remove=function(Ll,El,jl){return"text"==Ll?this.a.remove(El,jl):Yi(this,Ll,this.qc.bind(this,Ll,El,jl))},NM.endOfStream=function(Ll){return Pi(this,function(){Ll?this.N.endOfStream(Ll):this.N.endOfStream()}.bind(this))},NM.qa=function(Ll){return Pi(this,function(){this.N.duration=Ll}.bind(this))},NM.Y=function(){return this.N.duration},NM.je=function(Ll,El){this.c[Ll].appendBuffer(El)},NM.qc=function(Ll,El,jl){jl<=El?this.Ja(Ll):this.c[Ll].remove(El,jl)},NM.Ec=function(Ll){var El=this.c[Ll].appendWindowEnd;this.c[Ll].abort(),this.c[Ll].appendWindowEnd=El,this.Ja(Ll)},NM.Oc=function(Ll){this.f.currentTime-=.001,this.Ja(Ll)},NM.$d=function(Ll,El){this.c[Ll].timestampOffset=El,this.Ja(Ll)},NM.Yd=function(Ll,El){this.c[Ll].appendWindowEnd=El+.04,this.Ja(Ll)},NM.ke=function(Ll){this.b[Ll][0].p.reject(new Mt(2,3,3014,this.f.error?this.f.error.code:0))},NM.Ja=function(Ll){var El=this.b[Ll][0];El&&(El.p.resolve(),Fi(this,Ll))};var wM=1,hM=2,xM={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};it("shaka.abr.SimpleAbrManager",un),un.prototype.stop=function(){this.f=null,this.b=!1,this.h=[],this.g=[],this.c=null},un.prototype.stop=un.prototype.stop,un.prototype.init=function(Ll){this.f=Ll},un.prototype.init=un.prototype.init,un.prototype.chooseStreams=function(Ll){var El={};if(-1<Ll.indexOf("audio")||-1<Ll.indexOf("video")){var jl=this.h,ml=Mn(this.i,jl),Al=this.a.getBandwidthEstimate();if(jl.length&&!ml.length)throw new Mt(2,4,4012);for(var jl=ml[0],fl=0;fl<ml.length;++fl){var bl=ml[fl],wl=(ml[fl+1]||{bandwidth:Infinity}).bandwidth/.85;Al>=bl.bandwidth/.95&&Al<=wl&&(jl=bl)}(ml=jl)&&ml.video&&(El.video=ml.video),ml&&ml.audio&&(El.audio=ml.audio)}return-1<Ll.indexOf("text")&&(El.text=this.g[0]),this.c=Date.now(),El},un.prototype.chooseStreams=un.prototype.chooseStreams,un.prototype.enable=function(){this.b=!0},un.prototype.enable=un.prototype.enable,un.prototype.disable=function(){this.b=!1},un.prototype.disable=un.prototype.disable,un.prototype.segmentDownloaded=function(Ll,El){var jl=this.a;if(!(16E3>El)){var ml=8E3*El/Ll,Al=Ll/1E3;jl.a+=El,rt(jl.c,Al,ml),rt(jl.f,Al,ml)}if(null!=this.c&&this.b)a:{if(!this.j){if(!(128E3<=this.a.a))break a;this.j=!0}else if(8E3>Date.now()-this.c)break a;jl=this.chooseStreams(["audio","video"]),this.a.getBandwidthEstimate(),this.f(jl)}},un.prototype.segmentDownloaded=un.prototype.segmentDownloaded,un.prototype.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate()},un.prototype.getBandwidthEstimate=un.prototype.getBandwidthEstimate,un.prototype.setDefaultEstimate=function(Ll){this.a.setDefaultEstimate(Ll)},un.prototype.setDefaultEstimate=un.prototype.setDefaultEstimate,un.prototype.setRestrictions=function(Ll){this.i=Ll},un.prototype.setRestrictions=un.prototype.setRestrictions,un.prototype.setVariants=function(Ll){this.h=Ll},un.prototype.setVariants=un.prototype.setVariants,un.prototype.setTextStreams=function(Ll){this.g=Ll},un.prototype.setTextStreams=un.prototype.setTextStreams;ln.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ln.prototype.stopImmediatePropagation=function(){this.a=!0},ln.prototype.stopPropagation=function(){};var SM="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),OM="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),CM=["loop","playbackRate"],zM=["pause","play"],vM="adaptation buffering emsg error loading unloading texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged".split(" "),kM="drmInfo getAudioLanguages getConfiguration getExpiration getManifestUri getPlaybackRate getPlayheadTimeAsDate getTextLanguages getTextTracks getTracks getStats getVariantTracks isBuffering isInProgress isLive isTextTrackVisible keySystem seekRange".split(" "),UM=[["getConfiguration","configure"]],QM=[["isTextTrackVisible","setTextTrackVisibility"]],_M="addTextTrack cancelTrickPlay configure resetConfiguration selectAudioLanguage selectTextLanguage selectTextTrack selectTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),RM=["load","unload"];NM=yn.prototype,NM.m=function(){return Nn(this),this.a&&(this.a.leave(function(){},function(){}),this.a=null),this.G=this.B=this.l=null,this.c=this.j=this.h=!1,this.g=this.f=this.b=this.i=null,Promise.resolve()},NM.V=function(){return this.c},NM.Fb=function(){return this.A},NM.init=function(){if(tt.chrome&&chrome.cast&&chrome.cast.isAvailable){delete tt.__onGCastApiAvailable,this.h=!0,this.l();var Ll=new chrome.cast.SessionRequest(this.J),Ll=new chrome.cast.ApiConfig(Ll,this.gd.bind(this),this.sd.bind(this),"origin_scoped");chrome.cast.initialize(Ll,function(){},function(){})}else tt.__onGCastApiAvailable=function(El){El&&this.init()}.bind(this)},NM.Ib=function(Ll){this.i=Ll,this.c&&Dn(this,{type:"appData",appData:this.i})},NM.cast=function(Ll){return this.h?this.j?this.c?Promise.reject(new Mt(1,8,8002)):(this.g=new Ot,chrome.cast.requestSession(this.Bb.bind(this,Ll),this.cc.bind(this)),this.g):Promise.reject(new Mt(1,8,8001)):Promise.reject(new Mt(1,8,8E3))},NM.ab=function(){this.c&&(Nn(this),this.a&&(this.a.stop(function(){},function(){}),this.a=null))},NM.get=function(Ll,El){if("video"==Ll){if(0<=zM.indexOf(El))return this.pc.bind(this,Ll,El);}else if("player"==Ll){if(0<=_M.indexOf(El))return this.pc.bind(this,Ll,El);if(0<=RM.indexOf(El))return this.Pd.bind(this,Ll,El);if(0<=kM.indexOf(El))return this.lc.bind(this,Ll,El)}return this.lc(Ll,El)},NM.set=function(Ll,El,jl){this.b[Ll][El]=jl,Dn(this,{type:"set",targetName:Ll,property:El,value:jl})},NM.Bb=function(Ll,El){this.a=El,this.a.addUpdateListener(this.dc.bind(this)),this.a.addMessageListener("urn:x-cast:com.google.shaka.v2",this.md.bind(this)),this.dc(),Dn(this,{type:"init",initState:Ll,appData:this.i}),this.g.resolve()},NM.cc=function(Ll){var El=8003;switch(Ll.code){case"cancel":El=8004;break;case"timeout":El=8005;break;case"receiver_unavailable":El=8006;}this.g.reject(new Mt(2,8,El,Ll))},NM.lc=function(Ll,El){return this.b[Ll][El]},NM.pc=function(Ll,El){Dn(this,{type:"call",targetName:Ll,methodName:El,args:Array.prototype.slice.call(arguments,2)})},NM.Pd=function(Ll,El){var jl=Array.prototype.slice.call(arguments,2),ml=new Ot,Al=this.o.toString();return this.o++,this.f[Al]=ml,Dn(this,{type:"asyncCall",targetName:Ll,methodName:El,args:jl,id:Al}),ml},NM.gd=function(Ll){var El=this.v();this.g=new Ot,this.Bb(El,Ll)},NM.sd=function(Ll){this.j="available"==Ll,this.l()},NM.dc=function(){var Ll=!!this.a&&"connected"==this.a.status;if(this.c&&!Ll){for(var El in this.G(),this.b)this.b[El]={};Nn(this)}this.A=(this.c=Ll)?this.a.receiver.friendlyName:"",this.l()},NM.md=function(Ll,El){var jl=gn(El);switch(jl.type){case"event":var ml=jl.targetName,Al=jl.event;this.B(ml,new ln(Al.type,Al));break;case"update":for(ml in Al=jl.update,Al){var jl=this.b[ml]||{};for(fl in Al[ml])jl[fl]=Al[ml][fl]}break;case"asyncComplete":ml=jl.id;var fl=jl.error;if(jl=this.f[ml],delete this.f[ml],jl)if(fl){for(Al in ml=new Mt(fl.severity,fl.category,fl.code),fl)ml[Al]=fl[Al];jl.reject(ml)}else jl.resolve();}};Tn.prototype.addEventListener=function(Ll,El){this.nb.push(Ll,El)},Tn.prototype.removeEventListener=function(Ll,El){this.nb.remove(Ll,El)},Tn.prototype.dispatchEvent=function(Ll){for(var El=this.nb.get(Ll.type)||[],jl=0;jl<El.length;++jl){Ll.target=this.Ua,Ll.currentTarget=this.Ua;var ml=El[jl];try{ml.handleEvent?ml.handleEvent(Ll):ml.call(this,Ll)}catch(Al){}if(Ll.a)break}return Ll.defaultPrevented},at(Ln),it("shaka.cast.CastProxy",Ln),Ln.prototype.m=function(Ll){return Ll&&this.a&&this.a.ab(),Ll=[this.h?this.h.m():null,this.b?this.b.m():null,this.a?this.a.m():null],this.a=this.h=this.i=this.j=this.b=this.c=null,Promise.all(Ll)},Ln.prototype.destroy=Ln.prototype.m,Ln.prototype.Zc=function(){return this.j},Ln.prototype.getVideo=Ln.prototype.Zc,Ln.prototype.Tc=function(){return this.i},Ln.prototype.getPlayer=Ln.prototype.Tc,Ln.prototype.Fc=function(){return!!this.a&&this.a.h&&this.a.j},Ln.prototype.canCast=Ln.prototype.Fc,Ln.prototype.V=function(){return!!this.a&&this.a.V()},Ln.prototype.isCasting=Ln.prototype.V,Ln.prototype.Fb=function(){return this.a?this.a.Fb():""},Ln.prototype.receiverName=Ln.prototype.Fb,Ln.prototype.cast=function(){var Ll=this.Vb();return this.a.cast(Ll).then(function(){return this.b.ib()}.bind(this))},Ln.prototype.cast=Ln.prototype.cast,Ln.prototype.Ib=function(Ll){this.a.Ib(Ll)},Ln.prototype.setAppData=Ln.prototype.Ib,Ln.prototype.ne=function(){var Ll=this.a;if(Ll.c){var El=Ll.v();chrome.cast.requestSession(Ll.Bb.bind(Ll,El),Ll.cc.bind(Ll))}},Ln.prototype.suggestDisconnect=Ln.prototype.ne,Ln.prototype.ab=function(){this.a.ab()},Ln.prototype.forceDisconnect=Ln.prototype.ab,NM=Ln.prototype,NM.Vb=function(){var Ll={video:{},player:{},playerAfterLoad:{},manifest:this.b.Za,startTime:null};return this.c.pause(),CM.forEach(function(El){Ll.video[El]=this.c[El]}.bind(this)),this.c.ended||(Ll.startTime=this.c.currentTime),UM.forEach(function(El){var jl=El[1];El=this.b[El[0]](),Ll.player[jl]=El}.bind(this)),QM.forEach(function(El){var jl=El[1];El=this.b[El[0]](),Ll.playerAfterLoad[jl]=El}.bind(this)),Ll},NM.fe=function(){this.dispatchEvent(new ln("caststatuschanged"))},NM.he=function(){UM.forEach(function(bl){var wl=bl[1];bl=this.a.get("player",bl[0])(),this.b[wl](bl)}.bind(this));var Ll=this.a.get("player","getManifestUri")(),El=this.a.get("video","ended"),jl=Promise.resolve(),ml=this.c.autoplay,Al=null;El||(Al=this.a.get("video","currentTime")),Ll&&(this.c.autoplay=!1,jl=this.b.load(Ll,Al),jl["catch"](function(bl){this.b.dispatchEvent(new ln("error",{detail:bl}))}.bind(this)));var fl={};CM.forEach(function(bl){fl[bl]=this.a.get("video",bl)}.bind(this)),jl.then(function(){CM.forEach(function(bl){this.c[bl]=fl[bl]}.bind(this)),QM.forEach(function(bl){var wl=bl[1];bl=this.a.get("player",bl[0])(),this.b[wl](bl)}.bind(this)),this.c.autoplay=ml,Ll&&this.c.play()}.bind(this))},NM.te=function(Ll){if("addEventListener"==Ll)return this.g.addEventListener.bind(this.g);if("removeEventListener"==Ll)return this.g.removeEventListener.bind(this.g);if(this.a.V()&&!Object.keys(this.a.b.video).length){var El=this.c[Ll];if("function"!=typeof El)return El}return this.a.V()?this.a.get("video",Ll):(El=this.c[Ll],"function"==typeof El&&(El=El.bind(this.c)),El)},NM.ve=function(Ll,El){this.a.V()?this.a.set("video",Ll,El):this.c[Ll]=El},NM.ue=function(Ll){this.a.V()||this.g.dispatchEvent(new ln(Ll.type,Ll))},NM.Hd=function(Ll){return"addEventListener"==Ll?this.f.addEventListener.bind(this.f):"removeEventListener"==Ll?this.f.removeEventListener.bind(this.f):"getNetworkingEngine"==Ll?this.b.Wb.bind(this.b):this.a.V()&&!Object.keys(this.a.b.video).length&&0<=kM.indexOf(Ll)||!this.a.V()?(Ll=this.b[Ll],Ll.bind(this.b)):this.a.get("player",Ll)},NM.Id=function(Ll){this.a.V()||this.f.dispatchEvent(Ll)},NM.ge=function(Ll,El){this.a.V()&&("video"==Ll?this.g.dispatchEvent(El):"player"==Ll&&this.f.dispatchEvent(El))},at(jn),it("shaka.cast.CastReceiver",jn),jn.prototype.isConnected=function(){return this.i},jn.prototype.isConnected=jn.prototype.isConnected,jn.prototype.ad=function(){return this.f},jn.prototype.isIdle=jn.prototype.ad,jn.prototype.m=function(){var Ll=this.b?this.b.m():Promise.resolve();return null!=this.h&&tt.clearTimeout(this.h),this.l=this.j=this.b=this.a=null,this.i=!1,this.f=!0,this.h=this.g=this.c=null,Ll.then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},jn.prototype.destroy=jn.prototype.m,NM=jn.prototype,NM.jc=function(){this.i=!!cast.receiver.CastReceiverManager.getInstance().getSenders().length,An(this)},NM.mc=function(Ll,El){this.Cb(),hn(this,{type:"event",targetName:Ll,event:El},this.c)},NM.Cb=function(){null!=this.h&&tt.clearTimeout(this.h),this.h=tt.setTimeout(this.Cb.bind(this),500);var Ll={video:{},player:{}};OM.forEach(function(jl){Ll.video[jl]=this.a[jl]}.bind(this)),kM.forEach(function(jl){Ll.player[jl]=this.b[jl]()}.bind(this));var El=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();El&&(Ll.video.volume=El.level,Ll.video.muted=El.muted),hn(this,{type:"update",update:Ll},this.c)},NM.Mc=function(){var Ll=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();Ll&&hn(this,{type:"update",update:{video:{volume:Ll.level,muted:Ll.muted}}},this.c),hn(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.c)},NM.vd=function(Ll){var El=gn(Ll.data);switch(El.type){case"init":wn(this,El.initState,El.appData),this.Cb();break;case"appData":this.l(El.appData);break;case"set":var jl=El.targetName,ml=El.property,Al=El.value;if("video"==jl)if(El=cast.receiver.CastReceiverManager.getInstance(),"volume"==ml){El.setSystemVolumeLevel(Al);break}else if("muted"==ml){El.setSystemVolumeMuted(Al);break}this.j[jl][ml]=Al;break;case"call":jl=El.targetName,ml=El.methodName,Al=El.args,jl=this.j[jl],jl[ml].apply(jl,Al);break;case"asyncCall":jl=El.targetName,ml=El.methodName,Al=El.args,El=El.id,Ll=Ll.senderId,jl=this.j[jl],jl[ml].apply(jl,Al).then(this.vc.bind(this,Ll,El,null),this.vc.bind(this,Ll,El));}},NM.hd=function(Ll){var El=gn(Ll.data);switch(El.type){case"PLAY":this.a.play(),xn(this,0);break;case"PAUSE":this.a.pause(),xn(this,0);break;case"SEEK":Ll=El.currentTime;var jl=El.resumeState;null!=Ll&&(this.a.currentTime=+Ll),jl&&"PLAYBACK_START"==jl?(this.a.play(),xn(this,0)):jl&&"PLAYBACK_PAUSE"==jl&&(this.a.pause(),xn(this,0));break;case"STOP":this.b.ib().then(function(){xn(this,0)}.bind(this));break;case"GET_STATUS":xn(this,+El.requestId);break;case"VOLUME":jl=El.volume,Ll=jl.level;var jl=jl.muted,ml=this.a.volume,Al=this.a.muted;null!=Ll&&(this.a.volume=+Ll),null!=jl&&(this.a.muted=jl),ml==this.a.volume&&Al==this.a.muted||xn(this,0);break;case"LOAD":jl=El.media.contentId,Ll=El.currentTime;var fl=this.o(jl);this.a.autoplay=!0,this.b.load(fl,Ll).then(function(){xn(this,0,{contentId:fl,streamType:this.b.$()?"LIVE":"BUFFERED",contentType:""})}.bind(this))["catch"](function(bl){var wl="LOAD_FAILED";7==bl.category&&7E3==bl.code&&(wl="LOAD_CANCELLED"),hn(this,{requestId:+El.requestId,type:wl},this.g)}.bind(this));break;default:hn(this,{requestId:+El.requestId,type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.g);}},NM.vc=function(Ll,El,jl){hn(this,{type:"asyncComplete",id:El,error:jl},this.c,Ll)};var BM={IDLE:"IDLE",Cc:"PLAYING",Ac:"BUFFERING",Bc:"PAUSED"};var YM={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};it("shaka.media.InitSegmentReference",Xn),it("shaka.media.SegmentReference",Kn),it("shaka.util.DataViewReader",qn);var PM=1;qn.Endianness={we:0,ye:PM},qn.prototype.Z=function(){return this.u<this.H.byteLength},qn.prototype.hasMoreData=qn.prototype.Z,qn.prototype.Vc=function(){return this.u},qn.prototype.getPosition=qn.prototype.Vc,qn.prototype.Qc=function(){return this.H.byteLength},qn.prototype.getLength=qn.prototype.Qc,qn.prototype.Eb=function(){try{var Ll=this.H.getUint8(this.u)}catch(El){Jn()}return this.u+=1,Ll},qn.prototype.readUint8=qn.prototype.Eb,qn.prototype.oc=function(){try{var Ll=this.H.getUint16(this.u,this.a)}catch(El){Jn()}return this.u+=2,Ll},qn.prototype.readUint16=qn.prototype.oc,qn.prototype.D=function(){try{var Ll=this.H.getUint32(this.u,this.a)}catch(El){Jn()}return this.u+=4,Ll},qn.prototype.readUint32=qn.prototype.D,qn.prototype.nc=function(){try{var Ll=this.H.getInt32(this.u,this.a)}catch(El){Jn()}return this.u+=4,Ll},qn.prototype.readInt32=qn.prototype.nc,qn.prototype.Qa=function(){try{if(this.a)var Ll=this.H.getUint32(this.u,!0),El=this.H.getUint32(this.u+4,!0);else El=this.H.getUint32(this.u,!1),Ll=this.H.getUint32(this.u+4,!1)}catch(jl){Jn()}if(2097151<El)throw new Mt(2,3,3001);return this.u+=8,El*Math.pow(2,32)+Ll},qn.prototype.readUint64=qn.prototype.Qa,qn.prototype.La=function(Ll){this.u+Ll>this.H.byteLength&&Jn();var El=this.H.buffer.slice(this.u,this.u+Ll);return this.u+=Ll,new Uint8Array(El)},qn.prototype.readBytes=qn.prototype.La,qn.prototype.I=function(Ll){this.u+Ll>this.H.byteLength&&Jn(),this.u+=Ll},qn.prototype.skip=qn.prototype.I,qn.prototype.Db=function(){for(var Ll=this.u;this.Z()&&this.H.getUint8(this.u);)this.u+=1;return Ll=this.H.buffer.slice(Ll,this.u),this.u+=1,Zt(Ll)},qn.prototype.readTerminatedString=qn.prototype.Db;it("shaka.util.Mp4Parser",$n),$n.prototype.C=function(Ll,El){var jl=ar(Ll);return this.b[jl]=0,this.a[jl]=El,this},$n.prototype.box=$n.prototype.C,$n.prototype.da=function(Ll,El){var jl=ar(Ll);return this.b[jl]=1,this.a[jl]=El,this},$n.prototype.fullBox=$n.prototype.da,$n.prototype.parse=function(Ll){for(Ll=new qn(new DataView(Ll),0);Ll.Z();)this.fb(0,Ll)},$n.prototype.parse=$n.prototype.parse,$n.prototype.fb=function(Ll,El){var jl=El.u,ml=El.D(),Al=El.D();0===ml?ml=El.H.byteLength-jl:1===ml?ml=El.Qa():void 0;var fl=this.a[Al];if(fl){var bl=null,wl=null;1==this.b[Al]&&(wl=El.D(),bl=wl>>>24,wl&=16777215),Al=jl+ml-El.u,Al=0<Al?El.La(Al).buffer:new ArrayBuffer(0),Al=new qn(new DataView(Al),0),fl({Oa:this,version:bl,Nc:wl,s:Al,size:ml,start:jl+Ll})}else El.I(jl+ml-El.u)},$n.prototype.parseNext=$n.prototype.fb,$n.children=er,$n.sampleDescription=tr,$n.allData=ir;it("shaka.media.SegmentIndex",sr),sr.prototype.m=function(){return this.a=null,Promise.resolve()},sr.prototype.destroy=sr.prototype.m,sr.prototype.find=function(Ll){for(var El=this.a.length-1,jl;0<=El;--El)if(jl=this.a[El],Ll>=jl.startTime&&Ll<jl.endTime)return jl.position;return this.a.length&&Ll<this.a[0].startTime?this.a[0].position:null},sr.prototype.find=sr.prototype.find,sr.prototype.get=function(Ll){return this.a.length?(Ll-=this.a[0].position,0>Ll||Ll>=this.a.length?null:this.a[Ll]):null},sr.prototype.get=sr.prototype.get,sr.prototype.xb=function(Ll){for(var ml=[],Al=jl=0,El,jl,fl;jl<this.a.length&&Al<Ll.length;)fl=this.a[jl],El=Ll[Al],fl.startTime<El.startTime?(ml.push(fl),jl++):(fl.startTime>El.startTime||(.1<Math.abs(fl.endTime-El.endTime)?ml.push(El):ml.push(fl),jl++),Al++);for(;jl<this.a.length;)ml.push(this.a[jl++]);if(ml.length)for(jl=ml[ml.length-1].position+1;Al<Ll.length;)El=Ll[Al++],El=new Kn(jl++,El.startTime,El.endTime,El.a,El.X,El.M),ml.push(El);else ml=Ll;this.a=ml},sr.prototype.merge=sr.prototype.xb,sr.prototype.qb=function(Ll){for(var El=0;El<this.a.length&&!(this.a[El].endTime>Ll);++El);this.a.splice(0,El)},sr.prototype.evict=sr.prototype.qb;var FM;dr.prototype.Z=function(){return this.a.Z()};pr.prototype.parse=function(Ll,El,jl,ml){var Al;if(El=new dr(new DataView(El)),440786851!=ur(El).id)throw new Mt(2,3,3008);var fl=ur(El);if(408125543!=fl.id)throw new Mt(2,3,3009);for(El=fl.a.byteOffset,fl=new dr(fl.a),Al=null;fl.Z();){var bl=ur(fl);if(357149030==bl.id){Al=bl;break}}if(!Al)throw new Mt(2,3,3010);for(fl=new dr(Al.a),Al=1E6,bl=null;fl.Z();){var wl=ur(fl);if(2807729==wl.id)Al=gr(wl);else if(17545==wl.id)if(bl=wl,4==bl.a.byteLength)bl=bl.a.getFloat32(0);else if(8==bl.a.byteLength)bl=bl.a.getFloat64(0);else throw new Mt(2,3,3003)}if(null==bl)throw new Mt(2,3,3011);if(fl=Al/1E9,Al=bl*fl,Ll=ur(new dr(new DataView(Ll))),475249515!=Ll.id)throw new Mt(2,3,3007);return yr(Ll,El,fl,Al,jl,ml)};var GM={},VM={};it("shaka.media.ManifestParser.registerParserByExtension",function(Ll,El){VM[Ll]=El}),it("shaka.media.ManifestParser.registerParserByMime",function(Ll,El){GM[Ll]=El});it("shaka.media.PresentationTimeline",Cr),Cr.prototype.Y=function(){return this.a},Cr.prototype.getDuration=Cr.prototype.Y,Cr.prototype.qa=function(Ll){this.a=Ll},Cr.prototype.setDuration=Cr.prototype.qa,Cr.prototype.Wc=function(){return this.f},Cr.prototype.getPresentationStartTime=Cr.prototype.Wc,Cr.prototype.wc=function(Ll){this.h=Ll},Cr.prototype.setClockOffset=Cr.prototype.wc,Cr.prototype.yc=function(Ll){this.g=Ll},Cr.prototype.setStatic=Cr.prototype.yc,Cr.prototype.Xc=function(){return this.c},Cr.prototype.getSegmentAvailabilityDuration=Cr.prototype.Xc,Cr.prototype.xc=function(Ll){this.c=Ll},Cr.prototype.setSegmentAvailabilityDuration=Cr.prototype.xc,Cr.prototype.Ia=function(Ll,El){El.length&&(this.b=El.reduce(function(jl,ml){return Math.max(jl,ml.endTime-ml.startTime)},this.b))},Cr.prototype.notifySegments=Cr.prototype.Ia,Cr.prototype.yb=function(Ll){this.b=Math.max(this.b,Ll)},Cr.prototype.notifyMaxSegmentDuration=Cr.prototype.yb,Cr.prototype.$=function(){return Infinity==this.a&&!this.g},Cr.prototype.isLive=Cr.prototype.$,Cr.prototype.wa=function(){return Infinity!=this.a&&!this.g},Cr.prototype.isInProgress=Cr.prototype.wa,Cr.prototype.na=function(){return this.Fa(0)},Cr.prototype.getSegmentAvailabilityStart=Cr.prototype.na,Cr.prototype.Fa=function(Ll){if(Infinity==this.c)return 0;var El=this.va();return Math.max(0,Math.min(El-this.c+Ll,El))},Cr.prototype.getSafeAvailabilityStart=Cr.prototype.Fa,Cr.prototype.va=function(){return this.$()||this.wa()?Math.min(Math.max(0,(Date.now()+this.h)/1E3-this.b-this.f),this.a):this.a},Cr.prototype.getSegmentAvailabilityEnd=Cr.prototype.va,Cr.prototype.cb=function(){return Math.max(0,this.va()-(this.$()||this.wa()?this.i:0))},Cr.prototype.getSeekRangeEnd=Cr.prototype.cb,it("shaka.dash.DashParser",zr),NM=zr.prototype,NM.configure=function(Ll){this.b=Ll},NM.start=function(Ll,El){return this.g=[Ll],this.a=El,vr(this).then(function(){return this.a&&Br(this,0),this.c}.bind(this))},NM.stop=function(){return this.b=this.a=null,this.g=[],this.c=null,this.i=[],this.j={},null!=this.f&&(tt.clearTimeout(this.f),this.f=null),Promise.resolve()},NM.update=function(){vr(this)["catch"](function(Ll){this.a&&this.a.onError(Ll)}.bind(this))},NM.onExpirationUpdated=function(){},NM.Dd=function(Ll,El){Ll.S=Yr(El,Ll.T,null);var jl=!1,ml=On(El,"Role"),Al=ml.map(function(Ol){return Ol.getAttribute("value")}).filter(mt),fl;"text"==Ll.S.contentType&&(fl="subtitle");for(var bl=0,wl;bl<ml.length;bl++)if(wl=ml[bl].getAttribute("schemeIdUri"),null==wl||"urn:mpeg:dash:role:2011"==wl)switch(wl=ml[bl].getAttribute("value"),wl){case"main":jl=!0;break;case"caption":case"subtitle":fl=wl;}var hl=null,xl=!1;if(On(El,"EssentialProperty").forEach(function(Ol){"http://dashif.org/guidelines/trickmode"==Ol.getAttribute("schemeIdUri")?hl=Ol.getAttribute("value"):xl=!0}),xl)return null;var ml=On(El,"ContentProtection"),Sl=Yn(ml,this.b.dash.customScheme,this.b.dash.ignoreDrmInfo),ml=Vi(El.getAttribute("lang")||"und"),wl=El.getAttribute("label"),bl=On(El,"Representation"),Al=bl.map(this.Gd.bind(this,Ll,Sl,fl,ml,wl,jl,Al)).filter(function(Ol){return!!Ol});if(!Al.length)throw new Mt(2,4,4003);return Ll.S.contentType&&"application"!=Ll.S.contentType||(Ll.S.contentType=Vr(Al[0].mimeType,Al[0].codecs),Al.forEach(function(Ol){Ol.type=Ll.S.contentType})),Al.forEach(function(Ol){Sl.drmInfos.forEach(function(Cl){Ol.keyId&&Cl.keyIds.push(Ol.keyId)})}),fl=bl.map(function(Ol){return Ol.getAttribute("id")}).filter(mt),{id:Ll.S.id||"__fake__"+this.h++,contentType:Ll.S.contentType,language:ml,vb:jl,streams:Al,drmInfos:Sl.drmInfos,Ob:hl,Qd:fl}},NM.Gd=function(Ll,El,jl,ml,Al,fl,bl,wl){if(Ll.w=Yr(wl,Ll.S,null),!Pr(Ll.w))return null;Ll.bandwidth=zn(wl,"bandwidth",_n)||void 0;var hl=this.Rd.bind(this);if(Ll.w.Ra)hl=Tr(Ll,hl);else if(Ll.w.pa)hl=Er(Ll,this.j);else if(Ll.w.Sa)hl=fr(Ll,hl,this.j,!!this.c);else{var xl=Ll.w.U,Sl=Ll.R.duration||0;hl={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(Cl){return 0<=Cl&&Cl<Sl?1:null},getSegmentReference:function(Cl){return 1==Cl?new Kn(1,0,Sl,function(){return xl},0,null):null},initSegmentReference:null,presentationTimeOffset:0}}return wl=On(wl,"ContentProtection"),wl=Pn(wl,this.b.dash.customScheme,El,this.b.dash.ignoreDrmInfo),{id:this.h++,createSegmentIndex:hl.createSegmentIndex,findSegmentPosition:hl.findSegmentPosition,getSegmentReference:hl.getSegmentReference,initSegmentReference:hl.initSegmentReference,presentationTimeOffset:hl.presentationTimeOffset,mimeType:Ll.w.mimeType,codecs:Ll.w.codecs,frameRate:Ll.w.frameRate,bandwidth:Ll.bandwidth,width:Ll.w.width,height:Ll.w.height,kind:jl,encrypted:0<El.drmInfos.length,keyId:wl,language:ml,label:Al,type:Ll.S.contentType,primary:fl,trickModeVideo:null,containsEmsgBoxes:Ll.w.containsEmsgBoxes,roles:bl}},NM.ie=function(){this.f=null;var Ll=Date.now();vr(this).then(function(){this.a&&Br(this,(Date.now()-Ll)/1E3)}.bind(this))["catch"](function(El){this.a&&(El.severity=1,this.a.onError(El),Br(this,0))}.bind(this))},NM.Fd=function(Ll,El,jl){var ml=jl.getAttribute("schemeIdUri")||"",Al=jl.getAttribute("value")||"",fl=zn(jl,"timescale",Rn)||1;On(jl,"Event").forEach(function(bl){var wl=zn(bl,"presentationTime",Rn)||0,hl=zn(bl,"duration",Rn)||0,wl=wl/fl+Ll,hl=wl+hl/fl;null!=El&&(wl=Math.min(wl,Ll+El),hl=Math.min(hl,Ll+El)),bl={schemeIdUri:ml,value:Al,startTime:wl,endTime:hl,id:bl.getAttribute("id")||"",eventElement:bl},this.a.onTimelineRegionAdded(bl)}.bind(this))},NM.Rd=function(Ll,El,jl){return Ll=vt(Ll,this.b.retryParameters),null!=El&&(Ll.headers.Range="bytes="+El+"-"+(null==jl?"":jl)),this.a.networkingEngine.request(1,Ll).then(function(ml){return ml.data})},VM.mpd=zr,GM["application/dash+xml"]=zr,Wr.prototype.toString=function(){return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(function(El){return El.name+"=\""+El.value+"\""}).join(","):"#"+this.name},Wr.prototype.getAttribute=function(Ll){var El=this.a.filter(function(jl){return jl.name==Ll});return El.length?El[0]:null};var HM="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY".split(" "),WM="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");it("shaka.net.DataUriPlugin",os),os.parse=function(Ll){var El=Ll.split(":");if(2>El.length||"data"!=El[0])throw new Mt(2,1,1004,Ll);if(El=El.slice(1).join(":").split(","),2>El.length)throw new Mt(2,1,1004,Ll);var jl=El[0],El=tt.decodeURIComponent(El.slice(1).join(",")),jl=jl.split(";"),ml=null;if(1<jl.length&&(ml=jl[1]),"base64"==ml)Ll=ii(El).buffer;else{if(ml)throw new Mt(2,1,1005,Ll);Ll=qt(El)}return{data:Ll,contentType:jl[0]}},fM.data=os,it("shaka.hls.HlsParser",ds),NM=ds.prototype,NM.configure=function(Ll){this.b=Ll},NM.start=function(Ll,El){return this.c=El,this.j=Ll,this.c.networkingEngine.request(0,vt([Ll],this.b.retryParameters)).then(function(jl){return us(this,jl.data,Ll)}.bind(this))},NM.stop=function(){return this.b=this.c=null,this.g={},Promise.resolve()},NM.update=function(){},NM.onExpirationUpdated=function(){};var ZM=[/^(avc)/,/^(hvc)/,/^(vp[8-9])$/,/^(av1)$/,/^(mp4v)/],XM=[/^(vorbis)/,/^(opus)/,/^(mp4a)/,/^(ac-3)$/,/^(ec-3)$/],KM={mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},qM={mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},JM={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(El){if("SAMPLE-AES-CENC"!=As(El,"METHOD"))return null;var jl=As(El,"URI"),jl=os.parse(jl),jl=new Uint8Array(jl.data),jl=ht("com.widevine.alpha",[{initDataType:"cenc",initData:jl}]);return(El=Xr(El,"KEYID"))&&(jl.keyIds=[El.substr(2).toLowerCase()]),jl}};VM.m3u8=ds,GM["application/x-mpegurl"]=ds,GM["application/vnd.apple.mpegurl"]=ds,bs.prototype.parseInit=function(){},bs.prototype.parseMedia=function(Ll,El){var jl=Zt(Ll),ml=[],Al=new DOMParser,fl=null;try{fl=Al.parseFromString(jl,"text/xml")}catch(Ql){throw new Mt(2,2,2005)}if(fl){var bl=fl.getElementsByTagName("tt")[0];if(bl){Al=bl.getAttribute("ttp:frameRate"),fl=bl.getAttribute("ttp:subFrameRate");var wl=bl.getAttribute("ttp:frameRateMultiplier"),hl=bl.getAttribute("ttp:tickRate");jl=bl.getAttribute("xml:space")||"default"}else throw new Mt(2,2,2005);if("default"!=jl&&"preserve"!=jl)throw new Mt(2,2,2005);for(jl="default"==jl,Al=new zs(Al,fl,wl,hl),fl=ws(bl.getElementsByTagName("styling")[0]),wl=ws(bl.getElementsByTagName("layout")[0]),bl=ws(bl.getElementsByTagName("body")[0]),hl=0;hl<bl.length;hl++){var xl=bl[hl],Sl=El.periodStart,Ol=Al,Cl=fl,zl=wl,vl=jl;if(xl.hasAttribute("begin")||xl.hasAttribute("end")||!/^\s*$/.test(xl.textContent)){hs(xl,vl);var vl=Os(xl.getAttribute("begin"),Ol),kl=Os(xl.getAttribute("end"),Ol),Ol=Os(xl.getAttribute("dur"),Ol),Ul=xl.textContent;if(null==kl&&null!=Ol&&(kl=vl+Ol),null==vl||null==kl)throw new Mt(2,2,2001);(Sl=bi(vl+Sl,kl+Sl,Ul))?(vl=Ss(xl,"region",zl),zl=Sl,(kl=xs(xl,vl,Cl,"tts:extent"))&&(Ol=sl.exec(kl))&&(zl.size=+Ol[1]),Ol=xs(xl,vl,Cl,"tts:writingMode"),kl=!0,"tb"==Ol||"tblr"==Ol?zl.vertical="lr":"tbrl"==Ol?zl.vertical="rl":kl=!1,(Ol=xs(xl,vl,Cl,"tts:origin"))&&(Ol=sl.exec(Ol))&&(kl?(zl.position=+Ol[2],zl.line=+Ol[1]):(zl.position=+Ol[1],zl.line=+Ol[2]),zl.snapToLines=!1),(Cl=xs(xl,vl,Cl,"tts:textAlign"))&&(zl.align=Cl,"center"==Cl&&("center"!=zl.align&&(zl.align="middle"),zl.position="auto"),zl.positionAlign=dl[Cl],zl.lineAlign=ol[Cl]),Cl=Sl):Cl=null}else Cl=null;Cl&&ml.push(Cl)}}return ml};var $M=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,tl=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,il=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,al=/^(\d*\.?\d*)f$/,nl=/^(\d*\.?\d*)t$/,rl=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,sl=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,ol={left:"start",center:"center",right:"end",start:"start",end:"end"},dl={left:"line-left",center:"center",right:"line-right"};fi("application/ttml+xml",bs),vs.prototype.parseInit=function(Ll){var El=!1;if(new $n().C("moov",er).C("trak",er).C("mdia",er).C("minf",er).C("stbl",er).da("stsd",tr).C("stpp",function(){El=!0}).parse(Ll),!El)throw new Mt(2,2,2007)},vs.prototype.parseMedia=function(Ll,El){var jl=!1,ml=[];if(new $n().C("mdat",ir(function(Al){jl=!0,ml=this.a.parseMedia(Al.buffer,El)}.bind(this))).parse(Ll),!jl)throw new Mt(2,2,2007);return ml},fi("application/mp4; codecs=\"stpp\"",vs),ks.prototype.parseInit=function(){},ks.prototype.parseMedia=function(Ll,El){var jl=Zt(Ll),jl=jl.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),jl=jl.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(jl[0]))throw new Mt(2,2,2E3);var ml=El.segmentStart;if(0<=jl[0].indexOf("X-TIMESTAMP-MAP")){var Al=jl[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),fl=jl[0].match(/MPEGTS:(\d+)/m);Al&&fl&&(ml=Qs(new es(Al[1])),ml=El.periodStart+(+fl[1]/9E4-ml))}for(fl=[],Al=1;Al<jl.length;Al++){var bl=jl[Al].split("\n"),wl=ml;if(1==bl.length&&!bl[0]||/^NOTE($|[ \t])/.test(bl[0]))var hl=null;else{hl=null,0>bl[0].indexOf("-->")&&(hl=bl[0],bl.splice(0,1));var xl=new es(bl[0]),Sl=Qs(xl),Ol=ts(xl,/[ \t]+--\x3e[ \t]+/g),Cl=Qs(xl);if(null==Sl||!Ol||null==Cl)throw new Mt(2,2,2001);if(bl=bi(Sl+wl,Cl+wl,bl.slice(1).join("\n").trim())){for(ts(xl,/[ \t]+/gm),wl=is(xl);wl;)Us(bl,wl),ts(xl,/[ \t]+/gm),wl=is(xl);null!=hl&&(bl.id=hl),hl=bl}else hl=null}hl&&fl.push(hl)}return fl},fi("text/vtt",ks),fi("text/vtt; codecs=\"vtt\"",ks),_s.prototype.parseInit=function(Ll){var El=!1;if(new $n().C("moov",er).C("trak",er).C("mdia",er).da("mdhd",function(jl){0==jl.version?(jl.s.I(4),jl.s.I(4),this.a=jl.s.D(),jl.s.I(4)):(jl.s.I(8),jl.s.I(8),this.a=jl.s.D(),jl.s.I(8)),jl.s.I(4)}.bind(this)).C("minf",er).C("stbl",er).da("stsd",tr).C("wvtt",function(){El=!0}).parse(Ll),!this.a)throw new Mt(2,2,2008);if(!El)throw new Mt(2,2,2008)},_s.prototype.parseMedia=function(Ll,El){var jl=0,ml=[],Al=[],fl=[],bl=!1,wl=!1,hl=!1;if(new $n().C("moof",er).C("traf",er).da("tfdt",function(vl){bl=!0,jl=vl.version?vl.s.Qa():vl.s.D()}).da("trun",function(vl){wl=!0;var kl=vl.version,Ul=vl.Nc;vl=vl.s;var Ql=vl.D();1&Ul&&vl.I(4),4&Ul&&vl.I(4);for(var _l=[],Rl=0,Bl;Rl<Ql;Rl++)Bl={duration:null,Nb:null},256&Ul&&(Bl.duration=vl.D()),512&Ul&&vl.I(4),1024&Ul&&vl.I(4),2048&Ul&&(Bl.Nb=kl?vl.nc():vl.D()),_l.push(Bl);ml=_l}).C("vtte",function(){Al.push(null)}).C("vttc",ir(function(vl){Al.push(vl.buffer)})).C("mdat",function(vl){hl=!0,er(vl)}).parse(Ll),!hl&&!bl&&!wl)throw new Mt(2,2,2008);for(var xl=jl,Sl=0;Sl<ml.length;Sl++){var Ol=ml[Sl],Cl=Al[Sl];if(Ol.duration){var zl=Ol.Nb?jl+Ol.Nb:xl,xl=zl+Ol.duration;Cl&&fl.push(Rs(Cl,El.periodStart+zl/this.a,El.periodStart+xl/this.a))}}return fl.filter(mt)},fi("application/mp4; codecs=\"wvtt\"",_s),NM=Ys.prototype,NM.m=function(){var Ll=this.b.m();return this.b=null,null!=this.f&&(tt.clearInterval(this.f),this.f=null),null!=this.j&&(tt.clearInterval(this.j),this.j=null),this.J=this.O=this.l=this.c=this.a=null,Ll},NM.rb=function(){return this.g},NM.Ab=function(){this.o=!0,this.hc()},NM.rd=function(){this.a.playbackRate!=(this.h||0>this.g?0:this.g)&&Vs(this,this.a.playbackRate)},NM.fc=function(){var Ll=Gs(this);.001>Math.abs(this.a.currentTime-Ll)?(Rt(this.b,this.a,"seeking",this.ic.bind(this)),Rt(this.b,this.a,"playing",this.gc.bind(this))):(Bt(this.b,this.a,"seeking",this.td.bind(this)),this.a.currentTime=Ll)},NM.td=function(){Rt(this.b,this.a,"seeking",this.ic.bind(this)),Rt(this.b,this.a,"playing",this.gc.bind(this))},NM.hc=function(){if(this.a.readyState){this.a.readyState!=this.G&&(this.i=!1,this.G=this.a.readyState);var Ll=this.l.smallGapLimit,El=this.a.currentTime,jl=this.a.buffered;a:{if(jl&&jl.length&&!(1==jl.length&&1E-6>jl.end(0)-jl.start(0))){var ml=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(ml=.5);for(var Al=0;Al<jl.length;Al++)if(jl.start(Al)>El&&(!Al||jl.end(Al-1)-El<=ml)){ml=Al;break a}}ml=null}if(null==ml){if(3>this.a.readyState&&0<this.a.playbackRate)if(this.v!=El)this.v=El,this.A=Date.now();else if(this.A<Date.now()-1E3)for(this.A=Date.now()+5E3,ml=0;ml<jl.length;ml++)if(El>=jl.start(ml)&&El<jl.end(ml)-.5){this.a.currentTime+=.1,this.v=this.a.currentTime;break}}else if((ml||this.o)&&(Al=jl.start(ml),!(Al>=this.c.presentationTimeline.cb()))){var fl=Al-El,Ll=fl<=Ll,bl=!1;Ll||this.i||(this.i=!0,fl=new ln("largegap",{currentTime:El,gapSize:fl}),fl.cancelable=!0,this.J(fl),this.l.jumpLargeGaps&&!fl.defaultPrevented&&(bl=!0)),(Ll||bl)&&(ml&&jl.end(ml-1),Ws(this,El,Al))}}},NM.ic=function(){this.o=!1;var Ll=this.a.currentTime,El=Hs(this,Ll);.001<Math.abs(El-Ll)?Ws(this,Ll,El):(this.i=!1,this.O())},NM.gc=function(){var Ll=this.a.currentTime,El=Hs(this,Ll);.001<Math.abs(El-Ll)&&Ws(this,Ll,El)};Xs.prototype.m=function(){var Ll=this.j?this.j.m():Promise.resolve();return this.j=null,Js(this),this.B=this.h=this.l=this.A=this.g=this.a=null,this.c=[],Ll},Xs.prototype.v=function(Ll){if(!this.c.some(function(ml){return ml.info.schemeIdUri==Ll.schemeIdUri&&ml.info.startTime==Ll.startTime&&ml.info.endTime==Ll.endTime})){var El={info:Ll,status:1};this.c.push(El);var jl=new ln("timelineregionadded",{detail:Ks(Ll)});this.h(jl),this.o(!0,El)}},Xs.prototype.o=function(Ll,El){var jl=El.info.startTime>this.a.currentTime?1:El.info.endTime<this.a.currentTime?3:2,ml=2==El.status,Al=2==jl;jl!=El.status&&((!Ll||ml||Al)&&(ml||this.h(new ln("timelineregionenter",{detail:Ks(El.info)})),Al||this.h(new ln("timelineregionexit",{detail:Ks(El.info)}))),El.status=jl)},Xs.prototype.G=function(){this.f=null,qs(this);var Ll=sn(this.g,this.a.currentTime);Ll!=this.i&&(-1!=this.i&&this.B(),this.i=Ll);var Ll=Ci(this.a.buffered,this.a.currentTime),El=Si(this.a.buffered)>=this.g.presentationTimeline.va()-.1||this.a.ended;if(this.b){var jl=1*Math.max(this.g.minBufferTime||0,this.A.rebufferingGoal);(El||Ll>=jl)&&0!=this.b&&(this.b=!1,this.l(!1))}else!El&&.5>Ll&&1!=this.b&&(this.b=!0,this.l(!0));this.c.forEach(this.o.bind(this,!1))},NM=$s.prototype,NM.m=function(){for(var Ll in this.c)fo(this.c[Ll]);return this.g=this.c=this.j=this.h=this.o=this.b=this.a=null,this.f=!0,Promise.resolve()},NM.configure=function(Ll){this.g=Ll},NM.init=function(){var Ll=this.a.bc(this.b.periods[sn(this.b,Fs(this.a.Pa))]);return Ft(Ll)?Promise.reject(new Mt(2,5,5005)):oo(this,Ll).then(function(){this.a&&this.a.jd&&this.a.jd()}.bind(this))},NM.le=function(Ll){if(!this.f&&!Ll.ya&&null!=Ll.ra&&!Ll.ta)if(Ll.ra=null,Ll.sa)mo(this,Ll,Ll.kb);else{try{var El=co(this,Ll);null!=El&&(Ao(this,Ll,El),Ll.tb=!1)}catch(jl){return void this.a.onError(jl)}El=Gt(this.c),Lo(this,Ll),El.every(function(jl){return jl.endOfStream})&&this.a.K.endOfStream().then(function(){this.b.presentationTimeline.qa(this.a.K.Y())}.bind(this))}},NM.Ed=function(Ll,El,jl){var ml=jl.s.Db(),Al=jl.s.Db(),fl=jl.s.D(),bl=jl.s.D(),wl=jl.s.D(),hl=jl.s.D();jl=jl.s.La(jl.s.H.byteLength-jl.s.u),Ll=Ll.startTime+El.startTime+bl/fl,"urn:mpeg:dash:event:2012"==ml?this.a.kd():this.a.onEvent(new ln("emsg",{detail:{startTime:Ll,endTime:Ll+wl/fl,schemeIdUri:ml,value:Al,timescale:fl,presentationTimeDelta:bl,eventDuration:wl,id:hl,messageData:jl}}))};it("shaka.net.HttpPlugin",bo),fM.http=bo,fM.https=bo,NM=wo.prototype,NM.init=function(Ll,El){return Co(this,Ll,El).then(function(){var jl=Object.keys(Ll);return Promise.all(jl.map(function(ml){return So(this,ml).then(function(Al){this.c[ml]=Al}.bind(this))}.bind(this)))}.bind(this))},NM.m=function(){return Promise.all(this.b.map(function(Ll){try{Ll.transaction.abort()}catch(El){}return Ll.L["catch"](jt)})).then(function(){this.a&&(this.a.close(),this.a=null)}.bind(this))},NM.get=function(Ll,El){var jl;return Oo(this,Ll,"readonly",function(ml){jl=ml.get(El)}).then(function(){return jl.result})},NM.forEach=function(Ll,El){return Oo(this,Ll,"readonly",function(jl){jl.openCursor().onsuccess=function(ml){(ml=ml.target.result)&&(El(ml.value),ml["continue"]())}})},NM.remove=function(Ll,El){return Oo(this,Ll,"readwrite",function(jl){jl["delete"](El)})};var ul={manifest:"key",segment:"key"};Yo.prototype.m=function(){var Ll=this.j,El=this.l,jl=this.i||Promise.resolve();return El.length&&(jl=jl.then(function(){return xo(Ll,El)})),this.b={},this.l=[],this.i=this.a=this.A=this.v=this.j=this.o=null,jl};NM=Vo.prototype,NM.configure=function(){},NM.start=function(Ll){var El=/^offline:([0-9]+)$/.exec(Ll);if(!El)return Promise.reject(new Mt(2,1,9004,Ll));var jl=+El[1],ml=Bo();return this.a=jl,ml?ml.init(ul).then(function(){return ml.get("manifest",jl)}).then(function(Al){if(!Al)throw new Mt(2,9,9003,jl);return Ho(Al)}).then(function(Al){return ml.m().then(function(){return Al})},function(Al){return ml.m().then(function(){throw Al})}):Promise.reject(new Mt(2,9,9E3))},NM.stop=function(){return Promise.resolve()},NM.update=function(){},NM.onExpirationUpdated=function(Ll,El){var jl=Bo();jl.init(ul).then(function(){return jl.get("manifest",this.a)}.bind(this)).then(function(ml){if(ml&&!(0>ml.sessionIds.indexOf(Ll))&&(void 0==ml.expiration||ml.expiration>El))return ml.expiration=El,ho(jl,"manifest",ml)})["catch"](function(){}).then(function(){return jl.m()})},GM["application/x-offline-manifest"]=Vo,it("shaka.offline.OfflineScheme",Wo),fM.offline=Wo,Zo.prototype.then=function(Ll){return this.a=this.a.then(Ll).then(function(El){return this.b?(this.g(),Promise.reject(this.h)):Promise.resolve(El)}.bind(this)),this},Zo.prototype.cancel=function(Ll){return this.c?Promise.resolve():(this.b=!0,this.h=Ll,this.i)},at(Ko),it("shaka.Player",Ko),Ko.prototype.m=function(){this.O=!0;var Ll=Promise.resolve();return this.J&&(Ll=this.J.cancel(new Mt(2,7,7E3))),Ll.then(function(){var El=Promise.all([this.ma,tu(this),this.l?this.l.m():null,this.o?this.o.m():null]);return this.b=this.o=this.Qb=this.l=this.A=this.f=null,El}.bind(this))},Ko.prototype.destroy=Ko.prototype.m,Ko.version="v2.1.5";var Ml={};Ko.registerSupportPlugin=function(Ll,El){Ml[Ll]=El},Ko.isBrowserSupported=function(){return!!tt.Promise&&!!tt.Uint8Array&&!!Array.prototype.forEach&&!!tt.MediaSource&&!!tt.MediaSource.isTypeSupported&&!!tt.MediaKeys&&!!tt.navigator&&!!tt.navigator.requestMediaKeySystemAccess&&!!tt.MediaKeySystemAccess&&!!tt.MediaKeySystemAccess.prototype.getConfiguration},Ko.probeSupport=function(){return Ei().then(function(Ll){var El=Sr(),jl=vi();for(var ml in Ll={manifest:El,media:jl,drm:Ll},Ml)Ll[ml]=Ml[ml]();return Ll})},Ko.prototype.load=function(Ll,El,jl){var ml=this.ib(),Al=new Zo;this.J=Al,this.dispatchEvent(new ln("loading"));var fl=Date.now();return Xo(Al.then(function(){return ml}).then(function(){return this.i=ru(),Rt(this.l,this.f,"playing",this.Ta.bind(this)),Rt(this.l,this.f,"pause",this.Ta.bind(this)),Rt(this.l,this.f,"ended",this.Ta.bind(this)),Or(Ll,this.o,this.b.manifest.retryParameters,jl)}.bind(this)).then(function(bl){return this.h=new bl,this.h.configure(this.b.manifest),bl={networkingEngine:this.o,filterPeriod:this.gb.bind(this),onTimelineRegionAdded:this.xd.bind(this),onEvent:this.hb.bind(this),onError:this.za.bind(this)},2<this.h.start.length?this.h.start(Ll,this.o,bl.filterPeriod,bl.onError,bl.onEvent):this.h.start(Ll,bl)}.bind(this)).then(function(bl){if(bl.periods.some(function(wl){return wl.variants.some(function(hl){return hl.video&&hl.audio})})&&bl.periods.forEach(function(wl){wl.variants=wl.variants.filter(function(hl){return hl.video&&hl.audio})}),0==bl.periods.length)throw new Mt(2,4,4014);return this.c=bl,this.Za=Ll,this.j=new si(this.o,this.za.bind(this),this.ce.bind(this),this.be.bind(this)),this.j.configure(this.b.drm),this.j.init(bl,!1)}.bind(this)).then(function(){return this.c.periods.forEach(this.gb.bind(this)),this.Va=Date.now()/1E3,this.ja=this.b.preferredAudioLanguage,this.Da=this.b.preferredTextLanguage,Promise.all([oi(this.j,this.f),this.Xa])}.bind(this)).then(function(){return this.b.abr.manager.init(this.Lb.bind(this)),this.g=new Ys(this.f,this.c,this.b.streaming,El||null,this.de.bind(this),this.hb.bind(this)),this.v=new Xs(this.f,this.c,this.b.streaming,this.zc.bind(this),this.hb.bind(this),this.ae.bind(this)),this.ka=new zi(this.f,this.N,this.A),this.a=new $s(this.c,{Pa:this.g,K:this.ka,dd:this.o,bc:this.ed.bind(this),ac:this.Gc.bind(this),onError:this.za.bind(this),onEvent:this.hb.bind(this),kd:this.ld.bind(this),Ab:this.ud.bind(this)}),this.a.configure(this.b.streaming),qo(this),this.a.init()}.bind(this)).then(function(){if(this.b.streaming.startAtSegmentBoundary){var bl=du(this,Fs(this.g));Ps(this.g,bl)}this.c.periods.forEach(this.gb.bind(this)),cu(this),lu(this);var bl=eo(this.a),wl=en(bl,this.ja);this.b.abr.manager.setVariants(wl),bl.variants.some(function(hl){return hl.primary}),this.Ya.forEach(this.v.v.bind(this.v)),this.Ya=[],Bt(this.l,this.f,"loadeddata",function(){this.i.loadLatency=(Date.now()-fl)/1E3}.bind(this)),this.J=null}.bind(this)))["catch"](function(bl){return this.J==Al&&(this.J=null,this.dispatchEvent(new ln("unloading"))),Promise.reject(bl)}.bind(this))},Ko.prototype.load=Ko.prototype.load,Ko.prototype.configure=function(Ll){Ll.abr&&Ll.abr.manager&&Ll.abr.manager!=this.b.abr.manager&&(this.b.abr.manager.stop(),Ll.abr.manager.init(this.Lb.bind(this))),xt(this.b,Ll,nu(this),au(),""),$o(this)},Ko.prototype.configure=Ko.prototype.configure,Ko.prototype.getConfiguration=function(){var Ll=nu(this);return xt(Ll,this.b,nu(this),au(),""),Ll},Ko.prototype.getConfiguration=Ko.prototype.getConfiguration,Ko.prototype.Sd=function(){var Ll=nu(this);Ll.abr&&Ll.abr.manager&&Ll.abr.manager!=this.b.abr.manager&&(this.b.abr.manager.stop(),Ll.abr.manager.init(this.Lb.bind(this))),this.b=nu(this),$o(this)},Ko.prototype.resetConfiguration=Ko.prototype.Sd,Ko.prototype.Sc=function(){return this.f},Ko.prototype.getMediaElement=Ko.prototype.Sc,Ko.prototype.Wb=function(){return this.o},Ko.prototype.getNetworkingEngine=Ko.prototype.Wb,Ko.prototype.Rc=function(){return this.Za},Ko.prototype.getManifestUri=Ko.prototype.Rc,Ko.prototype.$=function(){return!!this.c&&this.c.presentationTimeline.$()},Ko.prototype.isLive=Ko.prototype.$,Ko.prototype.wa=function(){return!!this.c&&this.c.presentationTimeline.wa()},Ko.prototype.isInProgress=Ko.prototype.wa,Ko.prototype.Ud=function(){var Ll=0,El=0;return this.c&&(El=this.c.presentationTimeline,Ll=El.na(),El=El.cb()),{start:Ll,end:El}},Ko.prototype.seekRange=Ko.prototype.Ud,Ko.prototype.keySystem=function(){return this.j?this.j.keySystem():""},Ko.prototype.keySystem=Ko.prototype.keySystem,Ko.prototype.drmInfo=function(){return this.j?this.j.b:null},Ko.prototype.drmInfo=Ko.prototype.drmInfo,Ko.prototype.bb=function(){return this.j?this.j.bb():Infinity},Ko.prototype.getExpiration=Ko.prototype.bb,Ko.prototype.$c=function(){return this.la},Ko.prototype.isBuffering=Ko.prototype.$c,Ko.prototype.ib=function(){if(this.O)return Promise.resolve();this.dispatchEvent(new ln("unloading"));var Ll=Promise.resolve();return this.J&&(Ll=this.J.cancel(new Mt(2,7,7E3))),Ll.then(function(){return this.ma||(this.ma=iu(this).then(function(){this.ma=null}.bind(this))),this.ma}.bind(this))},Ko.prototype.unload=Ko.prototype.ib,Ko.prototype.rb=function(){return this.g?this.g.rb():0},Ko.prototype.getPlaybackRate=Ko.prototype.rb,Ko.prototype.oe=function(Ll){this.g&&Vs(this.g,Ll),this.a&&ao(this.a,1!=Ll)},Ko.prototype.trickPlay=Ko.prototype.oe,Ko.prototype.Hc=function(){this.g&&Vs(this.g,1),this.a&&ao(this.a,!1)},Ko.prototype.cancelTrickPlay=Ko.prototype.Hc,Ko.prototype.getTracks=function(){return this.Yb().concat(this.Xb())},Ko.prototype.getTracks=Ko.prototype.getTracks,Ko.prototype.Xd=function(Ll,El){"text"==Ll.type?this.tc(Ll):(this.configure({abr:{enabled:!1}}),this.uc(Ll,El))},Ko.prototype.selectTrack=Ko.prototype.Xd,Ko.prototype.Yb=function(){if(!this.c)return[];var Ll=sn(this.c,Fs(this.g)),El=this.B[Ll]||{};return Ki(this.c.periods[Ll],El.audio,El.video)},Ko.prototype.getVariantTracks=Ko.prototype.Yb,Ko.prototype.Xb=function(){if(!this.c)return[];var Ll=sn(this.c,Fs(this.g));return qi(this.c.periods[Ll],(this.B[Ll]||{}).text).filter(function(El){return 0>this.Wa.indexOf(El.id)}.bind(this))},Ko.prototype.getTextTracks=Ko.prototype.Xb,Ko.prototype.tc=function(Ll){if(this.a&&(Ll=$i(eo(this.a),Ll))){_d(this,Ll,!1);var El={};El.text=Ll,su(this,El,!0)}},Ko.prototype.selectTextTrack=Ko.prototype.tc,Ko.prototype.uc=function(Ll,El){if(this.a){var jl={},ml=Ji(eo(this.a),Ll),Al=to(this.a);if(ml){if(!ml.allowedByApplication||!ml.allowedByKeySystem)return;ml.audio&&(eu(this,ml.audio),ml.audio!=Al.audio&&(jl.audio=ml.audio)),ml.video&&(eu(this,ml.video),ml.video!=Al.video&&(jl.video=ml.video))}Gt(jl).forEach(function(fl){_d(this,fl,!1)}.bind(this)),(ml=Al.text)&&(jl.text=ml),su(this,jl,El)}},Ko.prototype.selectVariantTrack=Ko.prototype.uc,Ko.prototype.Pc=function(){return this.a?_a(eo(this.a).variants).map(function(Ll){return Ll.language}).filter(ft):[]},Ko.prototype.getAudioLanguages=Ko.prototype.Pc,Ko.prototype.Yc=function(){return this.a?eo(this.a).textStreams.map(function(Ll){return Ll.language}).filter(ft):[]},Ko.prototype.getTextLanguages=Ko.prototype.Yc,Ko.prototype.Vd=function(Ll,El){if(this.a){var jl=eo(this.a);this.ja=Ll,this.mb=El||"",Mu(this,jl)}},Ko.prototype.selectAudioLanguage=Ko.prototype.Vd,Ko.prototype.Wd=function(Ll,El){if(this.a){var jl=eo(this.a);this.Da=Ll,this.lb=El||"",Mu(this,jl)}},Ko.prototype.selectTextLanguage=Ko.prototype.Wd,Ko.prototype.bd=function(){return"showing"==this.A.mode},Ko.prototype.isTextTrackVisible=Ko.prototype.bd,Ko.prototype.Zd=function(Ll){this.A.mode=Ll?"showing":"hidden",gu(this)},Ko.prototype.setTextTrackVisibility=Ko.prototype.Zd,Ko.prototype.Uc=function(){return this.c?new Date(1E3*this.c.presentationTimeline.f+1E3*this.f.currentTime):null},Ko.prototype.getPlayheadTimeAsDate=Ko.prototype.Uc,Ko.prototype.getStats=function(){ou(this),this.Ta();var Ll=null,El=null,jl=this.f&&this.f.getVideoPlaybackQuality?this.f.getVideoPlaybackQuality():{};return this.g&&this.c&&(Ll=sn(this.c,Fs(this.g)),El=this.B[Ll],El=nn(El.audio,El.video,this.c.periods[Ll].variants),Ll=El.video||{}),Ll||(Ll={}),El||(El={}),{width:Ll.width||0,height:Ll.height||0,streamBandwidth:El.bandwidth||0,decodedFrames:+jl.totalVideoFrames,droppedFrames:+jl.droppedVideoFrames,estimatedBandwidth:this.b.abr.manager.getBandwidthEstimate(),loadLatency:this.i.loadLatency,playTime:this.i.playTime,bufferingTime:this.i.bufferingTime,switchHistory:St(this.i.switchHistory),stateHistory:St(this.i.stateHistory)}},Ko.prototype.getStats=Ko.prototype.getStats,Ko.prototype.addTextTrack=function(Ll,El,jl,ml,Al,fl){if(!this.a)return Promise.reject();for(var bl=eo(this.a),hl=0,wl;hl<this.c.periods.length;hl++)if(this.c.periods[hl]==bl){if(hl!=this.c.periods.length-1)wl=this.c.periods[hl+1].startTime-bl.startTime;else if(wl=this.c.presentationTimeline.Y()-bl.startTime,Infinity==wl)return Promise.reject();break}var xl={id:this.Dc++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(Ol){return 1==Ol?new Kn(1,0,wl,function(){return[Ll]},0,null):null},initSegmentReference:null,presentationTimeOffset:0,mimeType:ml,codecs:Al||"",kind:jl,encrypted:!1,keyId:null,language:El,label:fl||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[]};return this.Wa.push(xl.id),bl.textStreams.push(xl),io(this.a,xl).then(function(){if(!this.O){var Sl=this.c.periods.indexOf(bl),Ol=to(this.a);return Ol.text&&(this.B[Sl].text=Ol.text.id),this.Wa.splice(this.Wa.indexOf(xl.id),1),Mu(this,bl),cu(this),{id:xl.id,active:!1,type:"text",bandwidth:0,language:El,label:fl||null,kind:jl,width:null,height:null}}}.bind(this))},Ko.prototype.addTextTrack=Ko.prototype.addTextTrack,Ko.prototype.Jb=function(Ll,El){this.ob.width=Ll,this.ob.height=El},Ko.prototype.setMaxHardwareResolution=Ko.prototype.Jb,NM=Ko.prototype,NM.gb=function(Ll){var El=this.a?to(this.a):{};if(Zi(this.j,El,Ll),El=0<_a(Ll.variants).length,Wi(Ll,this.b.restrictions,this.ob)&&this.a&&eo(this.a)==Ll&&cu(this),Ll=1>_a(Ll.variants).length,!El)throw new Mt(2,4,4011);if(Ll)throw new Mt(2,4,4012)},NM.ee=function(Ll,El){this.b.abr.manager.segmentDownloaded(Ll,El)},NM.zc=function(Ll){if(ou(this),this.la=Ll,this.Ta(),this.g){var El=this.g;Ll!=El.h&&(El.h=Ll,Vs(El,El.g))}this.dispatchEvent(new ln("buffering",{buffering:Ll}))},NM.ae=function(){cu(this)},NM.Ta=function(){if(!this.O){var Ll=this.la?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",El=Date.now()/1E3;if(this.i.stateHistory.length){var jl=this.i.stateHistory[this.i.stateHistory.length-1];if(jl.duration=El-jl.timestamp,Ll==jl.state)return}this.i.stateHistory.push({timestamp:El,state:Ll,duration:0})}},NM.de=function(){if(this.v){var Ll=this.v;Ll.c.forEach(Ll.o.bind(Ll,!0))}this.a&&ro(this.a)},NM.ed=function(Ll){this.$a=!0,this.b.abr.manager.disable();var El=en(Ll,this.ja,void 0,this.mb),jl=tn(Ll,this.Da,void 0,this.lb);for(var ml in Ll=uu(this,Ll,El,jl,!0),this.G)Ll[ml]=this.G[ml].stream;for(ml in this.G={},Ll)_d(this,Ll[ml],!0);return Ll},NM.Gc=function(){for(var Ll in this.$a=!1,this.b.abr.enabled&&this.b.abr.manager.enable(),this.G){var El=this.G[Ll];no(this.a,Ll,El.stream,El.Kc)}this.G={}},NM.ld=function(){this.h&&this.h.update&&this.h.update()},NM.ud=function(){this.g&&this.g.Ab()},NM.Lb=function(Ll,El){var jl=to(this.a),ml;for(ml in Ll){var Al=Ll[ml];jl[ml]==Al?delete Ll[ml]:_d(this,Al,!0)}if(!Ft(Ll)&&this.a){for(ml in Ll)no(this.a,ml,Ll[ml],El||!1);lu(this)}},NM.za=function(Ll){this.O||this.dispatchEvent(new ln("error",{detail:Ll}))},NM.xd=function(Ll){this.v?this.v.v(Ll):this.Ya.push(Ll)},NM.hb=function(Ll){this.dispatchEvent(Ll)},NM.yd=function(){if(this.f.error){var Ll=this.f.error.code;if(1!=Ll){var El=this.f.error.msExtendedCode;El&&(0>El&&(El+=Math.pow(2,32)),El=El.toString(16)),this.za(new Mt(2,3,3016,Ll,El,this.f.error.message))}}},NM.ce=function(Ll){var El=["output-restricted","internal-error"],jl=eo(this.a),ml=!1,Al=1==Object.keys(Ll).length&&"00"==Object.keys(Ll)[0];jl.variants.forEach(function(bl){var wl=[];bl.audio&&wl.push(bl.audio),bl.video&&wl.push(bl.video),wl.forEach(function(hl){var xl=bl.allowedByKeySystem;hl.keyId&&(hl=Ll[Al?"00":hl.keyId],bl.allowedByKeySystem=!!hl&&0>El.indexOf(hl)),xl!=bl.allowedByKeySystem&&(ml=!0)})});var fl=to(this.a);(fl=an(fl.audio,fl.video,jl.variants))&&!fl.allowedByKeySystem&&Mu(this,jl),ml&&cu(this)},NM.be=function(Ll,El){this.h&&this.h.onExpirationUpdated&&this.h.onExpirationUpdated(Ll,El),this.dispatchEvent(new ln("expirationupdated"))},it("shaka.offline.Storage",pu),pu.support=yu,pu.prototype.m=function(){var Ll=this.a,El=this.h?this.h.m()["catch"](function(){}).then(function(){if(Ll)return Ll.m()}):Promise.resolve();return this.i=this.f=this.h=this.a=null,El},pu.prototype.destroy=pu.prototype.m,pu.prototype.configure=function(Ll){xt(this.i,Ll,Du(this),{},"")},pu.prototype.configure=pu.prototype.configure,pu.prototype.me=function(Ll,El,jl){function ml(bl){fl=bl}if(this.v)return Promise.reject(new Mt(2,9,9006));this.v=!0;var fl=null,Al;return Tu(this).then(function(){return ju(this),Nu(this,Ll,ml,jl)}.bind(this)).then(function(bl){if(ju(this),this.c=bl.manifest,this.b=bl.Lc,this.c.presentationTimeline.$()||this.c.presentationTimeline.wa())throw new Mt(2,9,9005,Ll);this.c.periods.forEach(this.o.bind(this)),this.g=this.a.c.manifest++,this.l=0,bl=this.c.periods.map(this.B.bind(this));var wl=this.b.b,hl=Mi(this.b);if(wl){if(!hl.length)throw new Mt(2,9,9007,Ll);wl.initData=[]}return Al={key:this.g,originalManifestUri:Ll,duration:this.l,size:0,expiration:this.b.bb(),periods:bl,sessionIds:hl,drmInfo:wl,appMetadata:El},Fo(this.h,Al)}.bind(this)).then(function(){if(ju(this),fl)throw fl;return Iu(this)}.bind(this)).then(function(){return vo(Al)}.bind(this))["catch"](function(bl){return Iu(this)["catch"](jt).then(function(){throw bl})}.bind(this))},pu.prototype.store=pu.prototype.me,pu.prototype.remove=function(Ll){function El(hl){6013!=hl.code&&(Al=hl)}var jl=Ll.offlineUri,ml=/^offline:([0-9]+)$/.exec(jl);if(!ml)return Promise.reject(new Mt(2,9,9004,jl));var Al=null,wl=+ml[1],fl,bl;return Tu(this).then(function(){return ju(this),this.a.get("manifest",wl)}.bind(this)).then(function(hl){if(ju(this),!hl)throw new Mt(2,9,9003,jl);return fl=hl,hl=Ho(fl),bl=new si(this.f.o,El,function(){},function(){}),bl.configure(this.f.getConfiguration().drm),bl.init(hl,!0)}.bind(this)).then(function(){return di(bl,fl.sessionIds)}.bind(this)).then(function(){return bl.m()}.bind(this)).then(function(){if(ju(this),Al)throw Al;var hl=fl.periods.map(function(Cl){return Cl.streams.map(function(zl){var vl=zl.segments.map(function(kl){return kl=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(kl.uri),+kl[1]});return zl.initSegmentUri&&(zl=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(zl.initSegmentUri),vl.push(+zl[1])),vl}).reduce(Et,[])}).reduce(Et,[]),xl=0,Sl=hl.length,Ol=this.i.progressCallback;return xo(this.a,hl,function(){xl++,Ol(Ll,xl/Sl)})}.bind(this)).then(function(){return ju(this),this.i.progressCallback(Ll,1),this.a.remove("manifest",wl)}.bind(this))},pu.prototype.remove=pu.prototype.remove,pu.prototype.list=function(){var Ll=[];return Tu(this).then(function(){return ju(this),this.a.forEach("manifest",function(El){Ll.push(vo(El))})}.bind(this)).then(function(){return Ll})},pu.prototype.list=pu.prototype.list,pu.prototype.A=function(Ll){for(var El=[],jl=Vi(this.f.getConfiguration().preferredAudioLanguage),ml=[0,wM,hM],Al=Ll.filter(function(hl){return"variant"==hl.type}),ml=ml.map(function(hl){return Al.filter(function(xl){return xl=Vi(xl.language),Gi(hl,jl,xl)})}),bl=0,fl;bl<ml.length;bl++)if(ml[bl].length){fl=ml[bl];break}fl||(ml=Al.filter(function(hl){return hl.primary}),ml.length&&(fl=ml)),fl||(fl=Al,Al.map(function(hl){return hl.language}).filter(ft));var wl=fl.filter(function(hl){return hl.height&&480>=hl.height});return wl.length&&(wl.sort(function(hl,xl){return xl.height-hl.height}),fl=wl.filter(function(hl){return hl.height==wl[0].height})),fl.sort(function(hl,xl){return hl.bandwidth-xl.bandwidth}),fl.length&&El.push(fl[Math.floor(fl.length/2)]),El.push.apply(El,Ll.filter(function(hl){return"text"==hl.type})),El},pu.prototype.o=function(Ll){var El={};if(this.j){var jl=this.j.filter(function(Al){return"variant"==Al.type}),ml=null;jl.length&&(ml=Ji(Ll,jl[0])),ml&&(ml.video&&(El.video=ml.video),ml.audio&&(El.audio=ml.audio))}Zi(this.b,El,Ll),Wi(Ll,this.f.getConfiguration().restrictions,{width:Infinity,height:Infinity})},pu.prototype.B=function(Ll){var ml=Ki(Ll,null,null),Al=qi(Ll,null),ml=this.i.trackSelectionCallback(ml.concat(Al)),El,jl;for(this.j||(this.j=ml,this.c.periods.forEach(this.o.bind(this))),Al=ml.length-1;0<Al;--Al){var fl=!1;for(jl=Al-1;0<=jl;--jl)if(ml[Al].type==ml[jl].type&&ml[Al].kind==ml[jl].kind&&ml[Al].language==ml[jl].language){fl=!0;break}if(fl)break}for(fl=[],Al=0;Al<ml.length;Al++)(El=Ji(Ll,ml[Al]))?(El.audio&&((jl=fl.filter(function(bl){return bl.id==El.audio.id})[0])?jl.variantIds.push(El.id):(jl=El.video?El.bandwidth/2:El.bandwidth,fl.push(Eu(this,Ll,El.audio,jl,El.id)))),El.video&&((jl=fl.filter(function(bl){return bl.id==El.video.id})[0])?jl.variantIds.push(El.id):(jl=El.audio?El.bandwidth/2:El.bandwidth,fl.push(Eu(this,Ll,El.video,jl,El.id))))):fl.push(Eu(this,Ll,$i(Ll,ml[Al]),0));return{startTime:Ll.startTime,streams:fl}},Ml.offline=yu,it("shaka.polyfill.installAll",function(){for(var Ll=0;Ll<ll.length;++Ll)ll[Ll]()});var ll=[];it("shaka.polyfill.register",mu),mu(function(){if(tt.Document){var Ll=Element.prototype;Ll.requestFullscreen=Ll.requestFullscreen||Ll.mozRequestFullScreen||Ll.msRequestFullscreen||Ll.webkitRequestFullscreen,Ll=Document.prototype,Ll.exitFullscreen=Ll.exitFullscreen||Ll.mozCancelFullScreen||Ll.msExitFullscreen||Ll.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Au),document.addEventListener("webkitfullscreenerror",Au),document.addEventListener("mozfullscreenchange",Au),document.addEventListener("mozfullscreenerror",Au),document.addEventListener("MSFullscreenChange",Au),document.addEventListener("MSFullscreenError",Au)}}),mu(function(){var Ll=navigator.userAgent;Ll&&0<=Ll.indexOf("CrKey")&&delete tt.indexedDB});var cl;mu(function(){0>navigator.userAgent.indexOf("Trident/")||(cl=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=fu)}),mu(function(){}),bu.prototype.c=function(Ll){if(!(1<Ll.version)){var El=ni(Ll.s.La(16)),jl=[];if(0<Ll.version)for(var ml=Ll.s.D(),Al=0,fl;Al<ml;++Al)fl=ni(Ll.s.La(16)),jl.push(fl);ml=Ll.s.D(),Ll.s.I(ml),this.b.push.apply(this.b,jl),this.f.push(El),this.a.push({start:Ll.start,end:Ll.start+Ll.size-1})}},hu.prototype.createMediaKeys=function(){var Ll=new Su(this.keySystem);return Promise.resolve(Ll)},hu.prototype.getConfiguration=function(){return this.a},Su.prototype.createSession=function(Ll){if("temporary"!=(Ll||"temporary"))throw new TypeError("Session type "+Ll+" is unsupported on this platform.");return new Cu(this.a)},Su.prototype.setServerCertificate=function(){return Promise.resolve(!1)},at(Cu),NM=Cu.prototype,NM.generateRequest=function(Ll,El){this.a=new Ot;try{this.c=this.g.createSession("video/mp4",new Uint8Array(El),null),Rt(this.f,this.c,"mskeymessage",this.pd.bind(this)),Rt(this.f,this.c,"mskeyadded",this.nd.bind(this)),Rt(this.f,this.c,"mskeyerror",this.od.bind(this)),ku(this,"status-pending")}catch(jl){this.a.reject(jl)}return this.a},NM.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},NM.update=function(Ll){this.b=new Ot;try{this.c.update(new Uint8Array(Ll))}catch(El){this.b.reject(El)}return this.b},NM.close=function(){try{this.c.close(),this.closed.resolve(),Yt(this.f)}catch(Ll){this.closed.reject(Ll)}return this.closed},NM.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},NM.pd=function(Ll){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new ln("message",{messageType:void 0==this.keyStatuses.sb()?"licenserequest":"licenserenewal",message:Ll.message.buffer}))},NM.nd=function(){this.a?(ku(this,"usable"),this.a.resolve(),this.a=null):this.b&&(ku(this,"usable"),this.b.resolve(),this.b=null)},NM.od=function(){var Ll=Error("EME PatchedMediaKeysMs key error");if(Ll.errorCode=this.c.error,this.a)this.a.reject(Ll),this.a=null;else if(this.b)this.b.reject(Ll),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:ku(this,"output-not-allowed");default:ku(this,"internal-error");}};var pl;NM=Uu.prototype,NM.Kb=function(Ll){this.size=void 0==Ll?0:1,this.a=Ll},NM.sb=function(){return this.a},NM.forEach=function(Ll){this.a&&Ll(this.a,pl)},NM.get=function(Ll){if(this.has(Ll))return this.a},NM.has=function(Ll){var El=pl;return this.a&&ri(new Uint8Array(Ll),new Uint8Array(El))},NM.entries=function(){},NM.keys=function(){},NM.values=function(){},Ru.prototype.createSession=function(){},Ru.prototype.setServerCertificate=function(){},Bu.prototype.getConfiguration=function(){},Bu.prototype.createMediaKeys=function(){};var yl="";Vu.prototype.createMediaKeys=function(){var Ll=new Hu(this.a);return Promise.resolve(Ll)},Vu.prototype.getConfiguration=function(){return this.b},NM=Hu.prototype,NM.createSession=function(Ll){var El=Ll||"temporary";if("temporary"!=El&&"persistent-license"!=El)throw new TypeError("Session type "+Ll+" is unsupported on this platform.");return Ll=this.b||document.createElement("video"),Ll.src||(Ll.src="about:blank"),El=new Xu(Ll,this.g,El),this.c.push(El),El},NM.setServerCertificate=function(){return Promise.resolve(!1)},NM.Cd=function(Ll){var El=document.createEvent("CustomEvent");El.initCustomEvent("encrypted",!1,!1,null),El.initDataType="webm",El.initData=Ll.initData,this.b.dispatchEvent(El)},NM.Bd=function(Ll){var El=Zu(this,Ll.sessionId);El&&(Ll=new ln("message",{messageType:void 0==El.keyStatuses.sb()?"licenserequest":"licenserenewal",message:Ll.message}),El.b&&(El.b.resolve(),El.b=null),El.dispatchEvent(Ll))},NM.zd=function(Ll){(Ll=Zu(this,Ll.sessionId))&&(qu(Ll,"usable"),Ll.a&&Ll.a.resolve(),Ll.a=null)},NM.Ad=function(Ll){var El=Zu(this,Ll.sessionId);if(El){var jl=Error("EME v0.1b key error");jl.errorCode=Ll.errorCode,jl.errorCode.systemCode=Ll.systemCode,!Ll.sessionId&&El.b?(jl.method="generateRequest",45==Ll.systemCode&&(jl.message="Unsupported session type."),El.b.reject(jl),El.b=null):Ll.sessionId&&El.a?(jl.method="update",El.a.reject(jl),El.a=null):(jl=Ll.systemCode,Ll.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?qu(El,"output-restricted"):1==jl?qu(El,"expired"):qu(El,"internal-error"))}},at(Xu),NM=Xu.prototype,NM.Mb=function(Ll,El){if(this.a)this.a.then(this.Mb.bind(this,Ll,El))["catch"](this.Mb.bind(this,Ll,El));else{if(this.a=Ll,"webkit-org.w3.clearkey"==this.c){var jl=Zt(El),ml=JSON.parse(jl);"oct"!=ml.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),jl=ii(ml.keys[0].k),ml=ii(ml.keys[0].kid)}else jl=new Uint8Array(El),ml=null;var Al=Pu("addKey");try{this.f[Al](this.c,jl,ml,this.sessionId)}catch(fl){this.a.reject(fl),this.a=null}}},NM.generateRequest=function(Ll,El){return Ku(this,El,null)},NM.load=function(Ll){return"persistent-license"==this.g?Ku(this,null,Ll):Promise.reject(Error("Not a persistent session."))},NM.update=function(Ll){var El=new Ot;return this.Mb(El,Ll),El},NM.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var Ll=Pu("cancelKeyRequest");try{this.f[Ll](this.c,this.sessionId)}catch(El){}}return this.closed.resolve(),this.closed},NM.remove=function(){return"persistent-license"==this.g?this.close():Promise.reject(Error("Not a persistent session."))};var Nl;NM=Ju.prototype,NM.Kb=function(Ll){this.size=void 0==Ll?0:1,this.a=Ll},NM.sb=function(){return this.a},NM.forEach=function(Ll){this.a&&Ll(this.a,Nl)},NM.get=function(Ll){if(this.has(Ll))return this.a},NM.has=function(Ll){var El=Nl;return this.a&&ri(new Uint8Array(Ll),new Uint8Array(El))},NM.entries=function(){},NM.keys=function(){},NM.values=function(){},mu(function(){!tt.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?Yu("webkit"):HTMLMediaElement.prototype.generateKeyRequest?Yu(""):tt.MSMediaKeys?(pl=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=xu,tt.MediaKeys=Su,tt.MediaKeySystemAccess=hu,navigator.requestMediaKeySystemAccess=wu):(navigator.requestMediaKeySystemAccess=Qu,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=_u,tt.MediaKeys=Ru,tt.MediaKeySystemAccess=Bu))}),mu(function(){if(tt.MediaSource){var Ll=navigator.vendor,El=navigator.appVersion;Ll&&El&&!(0>Ll.indexOf("Apple"))&&(0<=El.indexOf("Version/8")?tt.MediaSource=null:0<=El.indexOf("Version/9")?$u():0<=El.indexOf("Version/10")&&($u(),eM()))}});var Dl=0;aM.prototype.then=function(Ll,El){var jl=new aM;switch(this.Ba){case 1:dM(this,jl,Ll);break;case 2:dM(this,jl,El);break;case Dl:this.c.push({L:jl,pb:Ll}),this.b.push({L:jl,pb:El});}return jl},aM.prototype["catch"]=function(Ll){return this.then(void 0,Ll)},aM.prototype.fa=function(Ll){if(this.Ba==Dl){for(this.jb=Ll,this.Ba=1,Ll=0;Ll<this.c.length;++Ll)dM(this,this.c[Ll].L,this.c[Ll].pb);this.c=[],this.b=[]}},aM.prototype.a=function(Ll){if(this.Ba==Dl){for(this.jb=Ll,this.Ba=2,Ll=0;Ll<this.b.length;++Ll)dM(this,this.b[Ll].L,this.b[Ll].pb);this.c=[],this.b=[]}};var Tl=null,Il=[];mu(function(Ll){tt.setImmediate?(lM=function(jl){return tt.setImmediate(jl)},cM=function(jl){return tt.clearImmediate(jl)}):(lM=function(jl){return tt.setTimeout(jl,0)},cM=function(jl){return tt.clearTimeout(jl)}),(!tt.Promise||Ll)&&(tt.Promise=aM,tt.Promise.resolve=nM,tt.Promise.reject=rM,tt.Promise.all=sM,tt.Promise.race=oM,tt.Promise.prototype.then=aM.prototype.then,tt.Promise.prototype["catch"]=aM.prototype["catch"])}),mu(function(){if(tt.HTMLMediaElement){var Ll=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var El=Ll.apply(this,arguments);return El&&El["catch"](function(){}),El}}}),mu(function(){if(tt.HTMLVideoElement){var Ll=HTMLVideoElement.prototype;!Ll.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in Ll&&(Ll.getVideoPlaybackQuality=gM)}}),mu(function(){if(!tt.VTTCue&&tt.TextTrackCue){var Ll=TextTrackCue.length;if(3==Ll)tt.VTTCue=pM;else if(6==Ll)tt.VTTCue=yM;else{try{var El=!!pM(1,2,"")}catch(jl){El=!1}El&&(tt.VTTCue=pM)}}})}).call(et,this),"undefined"!=typeof xe&&xe.exports?xe.exports=et.shaka:"undefined"!=typeof define&&define.amd?define(function(){return et.shaka}):this.shaka=et.shaka})()},{}],6:[function($,xe){"object"===("undefined"===typeof xe?"undefined":babelHelpers.typeof(xe))&&(xe.exports=function(){var it=Date.now(),at=it,nt=0,rt=Infinity,st=0,ot=0,ut=Infinity,Mt=0,lt=0,ct=0,gt=document.createElement("div");gt.id="stats",gt.addEventListener("mousedown",function(jt){jt.preventDefault(),Et(++ct%2)},!1),gt.style.cssText="width:80px;opacity:0.9;cursor:pointer";var pt=document.createElement("div");pt.id="fps",pt.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",gt.appendChild(pt);var yt=document.createElement("div");yt.id="fpsText",yt.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",yt.innerHTML="FPS",pt.appendChild(yt);var Nt=document.createElement("div");for(Nt.id="fpsGraph",Nt.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",pt.appendChild(Nt);74>Nt.children.length;){var Dt=document.createElement("span");Dt.style.cssText="width:1px;height:30px;float:left;background-color:#113",Nt.appendChild(Dt)}var Tt=document.createElement("div");Tt.id="ms",Tt.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",gt.appendChild(Tt);var It=document.createElement("div");It.id="msText",It.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",It.innerHTML="MS",Tt.appendChild(It);var Lt=document.createElement("div");for(Lt.id="msGraph",Lt.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",Tt.appendChild(Lt);74>Lt.children.length;)Dt=document.createElement("span"),Dt.style.cssText="width:1px;height:30px;float:left;background-color:#131",Lt.appendChild(Dt);var Et=function(mt){ct=mt;0===ct?(pt.style.display="block",Tt.style.display="none"):1===ct?(pt.style.display="none",Tt.style.display="block"):void 0};return{REVISION:12,domElement:gt,setMode:Et,begin:function(){it=Date.now()},end:function(){var mt=Date.now();nt=mt-it,rt=Math.min(rt,nt),st=Math.max(st,nt),It.textContent=nt+" MS ("+rt+"-"+st+")";var At=Math.min(30,30-30*(nt/200));return Lt.appendChild(Lt.firstChild).style.height=At+"px",lt++,mt>at+1E3&&(ot=Math.round(1E3*lt/(mt-at)),ut=Math.min(ut,ot),Mt=Math.max(Mt,ot),yt.textContent=ot+" FPS ("+ut+"-"+Mt+")",At=Math.min(30,30-30*(ot/100)),Nt.appendChild(Nt.firstChild).style.height=At+"px",at=mt,lt=0),mt},update:function(){it=this.end()}}})},{}],7:[function($,xe,_e){(function(et){(function(tt){if("object"===("undefined"===typeof _e?"undefined":babelHelpers.typeof(_e))&&"undefined"!==typeof xe)xe.exports=tt();else if("function"===typeof define&&define.amd)define([],tt);else{var it;it="undefined"===typeof window?"undefined"===typeof et?"undefined"===typeof self?this:self:et:window,it.WebVRManager=tt()}})(function(){return function nt(rt,st,ot){function ut(ct,gt){if(!st[ct]){if(!rt[ct]){var pt="function"==typeof $&&$;if(!gt&&pt)return pt(ct,!0);if(Mt)return Mt(ct,!0);var yt=new Error("Cannot find module '"+ct+"'");throw yt.code="MODULE_NOT_FOUND",yt}var Nt=st[ct]={exports:{}};rt[ct][0].call(Nt.exports,function(Dt){var Tt=rt[ct][1][Dt];return ut(Tt?Tt:Dt)},Nt,Nt.exports,nt,rt,st,ot)}return st[ct].exports}for(var Mt="function"==typeof $&&$,lt=0;lt<ot.length;lt++)ut(ot[lt]);return ut}({1:[function(nt,rt){function ot(ct){var gt=ct||document.body;this.loadIcons_();var pt=this.createButton();pt.src=this.ICONS.fullscreen,pt.title="Fullscreen mode";var yt=pt.style;yt.bottom=0,yt.right=0,pt.addEventListener("click",this.createClickHandler_("fs")),gt.appendChild(pt),this.fsButton=pt;var Nt=this.createButton();Nt.src=this.ICONS.cardboard,Nt.title="Virtual reality mode";var yt=Nt.style;yt.bottom=0,yt.right="48px",Nt.addEventListener("click",this.createClickHandler_("vr")),gt.appendChild(Nt),this.vrButton=Nt,this.isVisible=!0}var ut=nt("./emitter.js"),Mt=nt("./modes.js"),lt=nt("./util.js");ot.prototype=new ut,ot.prototype.createButton=function(){var ct=document.createElement("img");ct.className="webvr-button";var gt=ct.style;return gt.position="absolute",gt.width="24px",gt.height="24px",gt.backgroundSize="cover",gt.backgroundColor="transparent",gt.border=0,gt.userSelect="none",gt.webkitUserSelect="none",gt.MozUserSelect="none",gt.cursor="pointer",gt.padding="12px",gt.zIndex=1,gt.display="none",gt.boxSizing="content-box",ct.draggable=!1,ct.addEventListener("dragstart",function(pt){pt.preventDefault()}),ct.addEventListener("mouseenter",function(){gt.filter=gt.webkitFilter="drop-shadow(0 0 5px rgba(255,255,255,1))"}),ct.addEventListener("mouseleave",function(){gt.filter=gt.webkitFilter=""}),ct},ot.prototype.setMode=function(ct,gt){if(gt=gt||WebVRConfig.FORCE_ENABLE_VR,!!this.isVisible){ct===Mt.NORMAL?(this.fsButton.style.display="block",this.fsButton.src=this.ICONS.fullscreen,this.vrButton.style.display=gt?"block":"none"):ct===Mt.MAGIC_WINDOW?(this.fsButton.style.display="block",this.fsButton.src=this.ICONS.exitFullscreen,this.vrButton.style.display="none"):ct===Mt.VR?(this.fsButton.style.display="none",this.vrButton.style.display="none"):void 0;var pt=this.fsButton.style.display;this.fsButton.style.display="inline-block",this.fsButton.offsetHeight,this.fsButton.style.display=pt}},ot.prototype.setVisibility=function(ct){this.isVisible=ct,this.fsButton.style.display=ct?"block":"none",this.vrButton.style.display=ct?"block":"none"},ot.prototype.createClickHandler_=function(ct){return function(gt){gt.stopPropagation(),gt.preventDefault(),this.emit(ct)}.bind(this)},ot.prototype.loadIcons_=function(){this.ICONS={},this.ICONS.cardboard=lt.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMjAuNzQgNkgzLjIxQzIuNTUgNiAyIDYuNTcgMiA3LjI4djEwLjQ0YzAgLjcuNTUgMS4yOCAxLjIzIDEuMjhoNC43OWMuNTIgMCAuOTYtLjMzIDEuMTQtLjc5bDEuNC0zLjQ4Yy4yMy0uNTkuNzktMS4wMSAxLjQ0LTEuMDFzMS4yMS40MiAxLjQ1IDEuMDFsMS4zOSAzLjQ4Yy4xOS40Ni42My43OSAxLjExLjc5aDQuNzljLjcxIDAgMS4yNi0uNTcgMS4yNi0xLjI4VjcuMjhjMC0uNy0uNTUtMS4yOC0xLjI2LTEuMjh6TTcuNSAxNC42MmMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTMgMS4xOCAwIDIuMTIuOTYgMi4xMiAyLjEzcy0uOTUgMi4xMi0yLjEyIDIuMTJ6bTkgMGMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTNzMi4xMi45NiAyLjEyIDIuMTMtLjk1IDIuMTItMi4xMiAyLjEyeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+Cjwvc3ZnPgo="),this.ICONS.fullscreen=lt.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNyAxNEg1djVoNXYtMkg3di0zem0tMi00aDJWN2gzVjVINXY1em0xMiA3aC0zdjJoNXYtNWgtMnYzek0xNCA1djJoM3YzaDJWNWgtNXoiLz4KPC9zdmc+Cg=="),this.ICONS.exitFullscreen=lt.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNSAxNmgzdjNoMnYtNUg1djJ6bTMtOEg1djJoNVY1SDh2M3ptNiAxMWgydi0zaDN2LTJoLTV2NXptMi0xMVY1aC0ydjVoNVY4aC0zeiIvPgo8L3N2Zz4K"),this.ICONS.settings=lt.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==")},rt.exports=ot},{"./emitter.js":2,"./modes.js":3,"./util.js":4}],2:[function(nt,rt){function ot(){this.callbacks={}}ot.prototype.emit=function(ut){var Mt=this.callbacks[ut];if(Mt){var lt=[].slice.call(arguments);lt.shift();for(var ct=0;ct<Mt.length;ct++)Mt[ct].apply(this,lt)}},ot.prototype.on=function(ut,Mt){ut in this.callbacks?this.callbacks[ut].push(Mt):this.callbacks[ut]=[Mt]},rt.exports=ot},{}],3:[function(nt,rt){rt.exports={UNKNOWN:0,NORMAL:1,MAGIC_WINDOW:2,VR:3}},{}],4:[function(nt,rt){var ot={};ot.base64=function(ut,Mt){return"data:"+ut+";base64,"+Mt},ot.isMobile=function(){var ut=!1;return function(Mt){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Mt)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Mt.substr(0,4)))&&(ut=!0)}(navigator.userAgent||navigator.vendor||window.opera),ut},ot.isFirefox=function(){return /firefox/i.test(navigator.userAgent)},ot.isIOS=function(){return /(iPad|iPhone|iPod)/g.test(navigator.userAgent)},ot.isIFrame=function(){try{return window.self!==window.top}catch(ut){return!0}},ot.appendQueryParameter=function(ut,Mt,lt){var ct=0>ut.indexOf("?")?"?":"&";return ut+=ct+Mt+"="+lt,ut},ot.getQueryParameter=function(ut){var ut=ut.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),Mt=new RegExp("[\\?&]"+ut+"=([^&#]*)"),lt=Mt.exec(location.search);return null===lt?"":decodeURIComponent(lt[1].replace(/\+/g," "))},ot.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},ot.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},ot.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},rt.exports=ot},{}],5:[function(nt,rt){function ot(gt,pt,yt){this.params=yt||{},this.mode=lt.UNKNOWN,this.hideButton=this.params.hideButton||!1,this.predistorted=!!this.params.predistorted,this.renderer=gt,this.effect=pt;var Nt=document.querySelector(".webvr-polyfill-fullscreen-wrapper");this.button=new ut(Nt),this.isFullscreenDisabled=!!ct.getQueryParameter("no_fullscreen"),this.startMode=lt.NORMAL;var Dt=parseInt(ct.getQueryParameter("start_mode"));isNaN(Dt)||(this.startMode=Dt),this.hideButton&&this.button.setVisibility(!1),this.getDeviceByType_(VRDisplay).then(function(Tt){switch(this.hmd=Tt,this.isVRCompatibleOverride||(this.isVRCompatible=!Tt.isPolyfilled||ct.isMobile()),this.startMode){case lt.MAGIC_WINDOW:this.setMode_(lt.MAGIC_WINDOW);break;case lt.VR:this.enterVRMode_(),this.setMode_(lt.VR);break;default:this.setMode_(lt.NORMAL);}this.emit("initialized")}.bind(this)),this.button.on("fs",this.onFSClick_.bind(this)),this.button.on("vr",this.onVRClick_.bind(this)),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange_.bind(this)),document.addEventListener("mozfullscreenchange",this.onFullscreenChange_.bind(this)),document.addEventListener("msfullscreenchange",this.onFullscreenChange_.bind(this)),window.addEventListener("vrdisplaypresentchange",this.onVRDisplayPresentChange_.bind(this)),window.addEventListener("vrdisplaydeviceparamschange",this.onVRDisplayDeviceParamsChange_.bind(this))}var ut=nt("./button-manager.js"),Mt=nt("./emitter.js"),lt=nt("./modes.js"),ct=nt("./util.js");ot.prototype=new Mt,ot.Modes=lt,ot.prototype.render=function(gt,pt){gt instanceof Array?this.effect.render(gt[0],pt):this.effect.render(gt,pt)},ot.prototype.setVRCompatibleOverride=function(gt){this.isVRCompatible=gt,this.isVRCompatibleOverride=!0,this.button.setMode(this.mode,this.isVRCompatible)},ot.prototype.setFullscreenCallback=function(gt){this.fullscreenCallback=gt},ot.prototype.setVRCallback=function(gt){this.vrCallback=gt},ot.prototype.setExitFullscreenCallback=function(gt){this.exitFullscreenCallback=gt},ot.prototype.getDeviceByType_=function(gt){return new Promise(function(pt){navigator.getVRDisplays().then(function(Nt){for(var Dt=0;Dt<Nt.length;Dt++)if(Nt[Dt]instanceof gt){pt(Nt[Dt]);break}pt(null)},function(){pt(null)})})},ot.prototype.enterVRMode_=function(){this.hmd.requestPresent([{source:this.renderer.domElement,predistorted:this.predistorted}])},ot.prototype.setMode_=function(gt){var pt=this.mode;return gt==this.mode?void console.warn("Not changing modes, already in %s",gt):void(this.mode=gt,this.button.setMode(gt,this.isVRCompatible),this.emit("modechange",gt,pt))},ot.prototype.onFSClick_=function(){switch(this.mode){case lt.NORMAL:if(ct.isIOS()&&ct.isIFrame())if(this.fullscreenCallback)this.fullscreenCallback();else{var gt=window.location.href;return gt=ct.appendQueryParameter(gt,"no_fullscreen","true"),gt=ct.appendQueryParameter(gt,"start_mode",lt.MAGIC_WINDOW),void(top.location.href=gt)}this.setMode_(lt.MAGIC_WINDOW),this.requestFullscreen_();break;case lt.MAGIC_WINDOW:if(this.isFullscreenDisabled)return void window.history.back();this.exitFullscreenCallback&&this.exitFullscreenCallback(),this.setMode_(lt.NORMAL),this.exitFullscreen_();}},ot.prototype.onVRClick_=function(){if(this.mode==lt.NORMAL&&ct.isIOS()&&ct.isIFrame())if(this.vrCallback)this.vrCallback();else{var gt=window.location.href;return gt=ct.appendQueryParameter(gt,"no_fullscreen","true"),gt=ct.appendQueryParameter(gt,"start_mode",lt.VR),void(top.location.href=gt)}this.enterVRMode_()},ot.prototype.requestFullscreen_=function(){var gt=document.body;gt.requestFullscreen?gt.requestFullscreen():gt.mozRequestFullScreen?gt.mozRequestFullScreen():gt.webkitRequestFullscreen?gt.webkitRequestFullscreen():gt.msRequestFullscreen&&gt.msRequestFullscreen()},ot.prototype.exitFullscreen_=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},ot.prototype.onVRDisplayPresentChange_=function(gt){console.log("onVRDisplayPresentChange_",gt),this.hmd.isPresenting?this.setMode_(lt.VR):this.setMode_(lt.NORMAL)},ot.prototype.onVRDisplayDeviceParamsChange_=function(gt){console.log("onVRDisplayDeviceParamsChange_",gt)},ot.prototype.onFullscreenChange_=function(){(null===document.webkitFullscreenElement||null===document.mozFullScreenElement)&&this.setMode_(lt.NORMAL)},rt.exports=ot},{"./button-manager.js":1,"./emitter.js":2,"./modes.js":3,"./util.js":4}]},{},[5])(5)})}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{}],8:[function($,xe){xe.exports={_from:"webvr-polyfill@0.9.36",_id:"webvr-polyfill@0.9.36",_inBundle:!1,_integrity:"sha1-Sx4VVmZ+gEvrDIwuZ/38ujNx6MY=",_location:"/webvr-polyfill",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"webvr-polyfill@0.9.36",name:"webvr-polyfill",escapedName:"webvr-polyfill",rawSpec:"0.9.36",saveSpec:null,fetchSpec:"0.9.36"},_requiredBy:["#USER","/","/webvr-boilerplate"],_resolved:"https://registry.npmjs.org/webvr-polyfill/-/webvr-polyfill-0.9.36.tgz",_shasum:"4b1e1556667e804beb0c8c2e67fdfcba3371e8c6",_spec:"webvr-polyfill@0.9.36",_where:"/Users/sam/DwnetDev/dwlab/webvr/vrview",authors:["Boris Smus <boris@smus.com>","Brandon Jones <tojiro@gmail.com>","Jordan Santell <jordan@jsantell.com>"],bugs:{url:"https://github.com/googlevr/webvr-polyfill/issues"},bundleDependencies:!1,deprecated:!1,description:"Use WebVR today, on mobile or desktop, without requiring a special browser build.",devDependencies:{chai:"^3.5.0",jsdom:"^9.12.0",mocha:"^3.2.0",semver:"^5.3.0",webpack:"^2.6.1","webpack-dev-server":"^2.4.5"},homepage:"https://github.com/googlevr/webvr-polyfill",keywords:["vr","webvr"],license:"Apache-2.0",main:"src/node-entry",name:"webvr-polyfill",repository:{type:"git",url:"git+https://github.com/googlevr/webvr-polyfill.git"},scripts:{build:"webpack",start:"npm run watch",test:"mocha",watch:"webpack-dev-server"},version:"0.9.36"}},{}],9:[function($,xe){function tt(){this.isPolyfilled=!0,this.displayId=ot++,this.displayName="webvr-polyfill displayName",this.depthNear=0.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new st}function it(){this.isPolyfilled=!0,this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function at(){}function nt(){}var rt=$("./util.js"),st=$("./wakelock.js"),ot=1e3,ut=!1,Mt=[0,0,0.5,1],lt=[0.5,0,0.5,1];tt.prototype.getFrameData=function(ct){return rt.frameDataFromPose(ct,this.getPose(),this)},tt.prototype.getPose=function(){return this.getImmediatePose()},tt.prototype.requestAnimationFrame=function(ct){return window.requestAnimationFrame(ct)},tt.prototype.cancelAnimationFrame=function(ct){return window.cancelAnimationFrame(ct)},tt.prototype.wrapForFullscreen=function(ct){if(rt.isIOS())return ct;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var pt=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",pt.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==ct)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=ct;var yt=this.fullscreenElement_.parentElement;yt.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),yt.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var Nt=this;return function(){if(Nt.fullscreenElement_){var Dt=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];Nt.fullscreenElement_.setAttribute("style",Dt.join("; ")+";")}}(),this.fullscreenWrapper_},tt.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var ct=this.fullscreenElement_;this.fullscreenElementCachedStyle_?ct.setAttribute("style",this.fullscreenElementCachedStyle_):ct.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var gt=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(ct),gt.insertBefore(ct,this.fullscreenWrapper_),gt.removeChild(this.fullscreenWrapper_),ct}},tt.prototype.requestPresent=function(ct){var gt=this.isPresenting,pt=this;return ct instanceof Array||(!ut&&(console.warn("Using a deprecated form of requestPresent. Should pass in an array of VRLayers."),ut=!0),ct=[ct]),new Promise(function(yt,Nt){if(!pt.capabilities.canPresent)return void Nt(new Error("VRDisplay is not capable of presenting."));if(0==ct.length||ct.length>pt.capabilities.maxLayers)return void Nt(new Error("Invalid number of layers."));var Dt=ct[0];if(!Dt.source)return void yt();var Tt=Dt.leftBounds||Mt,It=Dt.rightBounds||lt;if(gt){var Lt=pt.layer_;Lt.source!==Dt.source&&(Lt.source=Dt.source);for(var Et=0;4>Et;Et++)Lt.leftBounds[Et]=Tt[Et],Lt.rightBounds[Et]=It[Et];return void yt()}if(pt.layer_={predistorted:Dt.predistorted,source:Dt.source,leftBounds:Tt.slice(0),rightBounds:It.slice(0)},pt.waitingForPresent_=!1,pt.layer_&&pt.layer_.source){var jt=pt.wrapForFullscreen(pt.layer_.source),mt=function(){var wt=rt.getFullscreenElement();pt.isPresenting=jt===wt,pt.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(ht){console.error("screen.orientation.lock() failed due to",ht.message)}),pt.waitingForPresent_=!1,pt.beginPresent_(),yt()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),pt.removeFullscreenWrapper(),pt.wakelock_.release(),pt.endPresent_(),pt.removeFullscreenListeners_()),pt.fireVRDisplayPresentChange_()},At=function(){pt.waitingForPresent_&&(pt.removeFullscreenWrapper(),pt.removeFullscreenListeners_(),pt.wakelock_.release(),pt.waitingForPresent_=!1,pt.isPresenting=!1,Nt(new Error("Unable to present.")))};pt.addFullscreenListeners_(jt,mt,At),rt.requestFullscreen(jt)?(pt.wakelock_.request(),pt.waitingForPresent_=!0):(rt.isIOS()||rt.isWebViewAndroid())&&(pt.wakelock_.request(),pt.isPresenting=!0,pt.beginPresent_(),pt.fireVRDisplayPresentChange_(),yt())}pt.waitingForPresent_||rt.isIOS()||(rt.exitFullscreen(),Nt(new Error("Unable to present.")))})},tt.prototype.exitPresent=function(){var ct=this.isPresenting,gt=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(pt,yt){ct?(!rt.exitFullscreen()&&rt.isIOS()&&(gt.endPresent_(),gt.fireVRDisplayPresentChange_()),rt.isWebViewAndroid()&&(gt.removeFullscreenWrapper(),gt.removeFullscreenListeners_(),gt.endPresent_(),gt.fireVRDisplayPresentChange_()),pt()):yt(new Error("Was not presenting to VRDisplay."))})},tt.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},tt.prototype.fireVRDisplayPresentChange_=function(){var ct=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(ct)},tt.prototype.fireVRDisplayConnect_=function(){var ct=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(ct)},tt.prototype.addFullscreenListeners_=function(ct,gt,pt){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=ct,this.fullscreenChangeHandler_=gt,this.fullscreenErrorHandler_=pt,gt&&(document.fullscreenEnabled?ct.addEventListener("fullscreenchange",gt,!1):document.webkitFullscreenEnabled?ct.addEventListener("webkitfullscreenchange",gt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",gt,!1):document.msFullscreenEnabled&&ct.addEventListener("msfullscreenchange",gt,!1)),pt&&(document.fullscreenEnabled?ct.addEventListener("fullscreenerror",pt,!1):document.webkitFullscreenEnabled?ct.addEventListener("webkitfullscreenerror",pt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",pt,!1):document.msFullscreenEnabled&&ct.addEventListener("msfullscreenerror",pt,!1))},tt.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var ct=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var gt=this.fullscreenChangeHandler_;ct.removeEventListener("fullscreenchange",gt,!1),ct.removeEventListener("webkitfullscreenchange",gt,!1),document.removeEventListener("mozfullscreenchange",gt,!1),ct.removeEventListener("msfullscreenchange",gt,!1)}if(this.fullscreenErrorHandler_){var pt=this.fullscreenErrorHandler_;ct.removeEventListener("fullscreenerror",pt,!1),ct.removeEventListener("webkitfullscreenerror",pt,!1),document.removeEventListener("mozfullscreenerror",pt,!1),ct.removeEventListener("msfullscreenerror",pt,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},tt.prototype.beginPresent_=function(){},tt.prototype.endPresent_=function(){},tt.prototype.submitFrame=function(){},tt.prototype.getEyeParameters=function(){return null},at.prototype=new it,nt.prototype=new it,xe.exports.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},xe.exports.VRDisplay=tt,xe.exports.VRDevice=it,xe.exports.HMDVRDevice=at,xe.exports.PositionSensorVRDevice=nt},{"./util.js":29,"./wakelock.js":31}],10:[function($,xe){function et(st){this.gl=st,this.ctxAttribs=st.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=window.WebVRConfig.BUFFER_SCALE,this.bufferWidth=st.drawingBufferWidth,this.bufferHeight=st.drawingBufferHeight,this.realBindFramebuffer=st.bindFramebuffer,this.realEnable=st.enable,this.realDisable=st.disable,this.realColorMask=st.colorMask,this.realClearColor=st.clearColor,this.realViewport=st.viewport,it.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(st.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(st.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=it.linkProgram(st,nt,rt,this.attribs),this.uniforms=it.getProgramUniforms(st,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=st.createBuffer(),this.indexBuffer=st.createBuffer(),this.indexCount=0,this.renderTarget=st.createTexture(),this.framebuffer=st.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=st.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=st.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=st.createRenderbuffer()),this.patch(),this.onResize(),window.WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new tt(st))}var tt=$("./cardboard-ui.js"),it=$("./util.js"),at=$("./deps/wglu-preserve-state.js"),nt=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),rt=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");et.prototype.destroy=function(){var st=this.gl;this.unpatch(),st.deleteProgram(this.program),st.deleteBuffer(this.vertexBuffer),st.deleteBuffer(this.indexBuffer),st.deleteTexture(this.renderTarget),st.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&st.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&st.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&st.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},et.prototype.onResize=function(){var st=this.gl,ot=this,ut=[st.RENDERBUFFER_BINDING,st.TEXTURE_BINDING_2D,st.TEXTURE0];at(st,ut,function(Mt){ot.realBindFramebuffer.call(Mt,Mt.FRAMEBUFFER,null),ot.scissorTest&&ot.realDisable.call(Mt,Mt.SCISSOR_TEST),ot.realColorMask.call(Mt,!0,!0,!0,!0),ot.realViewport.call(Mt,0,0,Mt.drawingBufferWidth,Mt.drawingBufferHeight),ot.realClearColor.call(Mt,0,0,0,1),Mt.clear(Mt.COLOR_BUFFER_BIT),ot.realBindFramebuffer.call(Mt,Mt.FRAMEBUFFER,ot.framebuffer),Mt.bindTexture(Mt.TEXTURE_2D,ot.renderTarget),Mt.texImage2D(Mt.TEXTURE_2D,0,ot.ctxAttribs.alpha?Mt.RGBA:Mt.RGB,ot.bufferWidth,ot.bufferHeight,0,ot.ctxAttribs.alpha?Mt.RGBA:Mt.RGB,Mt.UNSIGNED_BYTE,null),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MAG_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MIN_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_S,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_T,Mt.CLAMP_TO_EDGE),Mt.framebufferTexture2D(Mt.FRAMEBUFFER,Mt.COLOR_ATTACHMENT0,Mt.TEXTURE_2D,ot.renderTarget,0),ot.ctxAttribs.depth&&ot.ctxAttribs.stencil?(Mt.bindRenderbuffer(Mt.RENDERBUFFER,ot.depthStencilBuffer),Mt.renderbufferStorage(Mt.RENDERBUFFER,Mt.DEPTH_STENCIL,ot.bufferWidth,ot.bufferHeight),Mt.framebufferRenderbuffer(Mt.FRAMEBUFFER,Mt.DEPTH_STENCIL_ATTACHMENT,Mt.RENDERBUFFER,ot.depthStencilBuffer)):ot.ctxAttribs.depth?(Mt.bindRenderbuffer(Mt.RENDERBUFFER,ot.depthBuffer),Mt.renderbufferStorage(Mt.RENDERBUFFER,Mt.DEPTH_COMPONENT16,ot.bufferWidth,ot.bufferHeight),Mt.framebufferRenderbuffer(Mt.FRAMEBUFFER,Mt.DEPTH_ATTACHMENT,Mt.RENDERBUFFER,ot.depthBuffer)):ot.ctxAttribs.stencil&&(Mt.bindRenderbuffer(Mt.RENDERBUFFER,ot.stencilBuffer),Mt.renderbufferStorage(Mt.RENDERBUFFER,Mt.STENCIL_INDEX8,ot.bufferWidth,ot.bufferHeight),Mt.framebufferRenderbuffer(Mt.FRAMEBUFFER,Mt.STENCIL_ATTACHMENT,Mt.RENDERBUFFER,ot.stencilBuffer)),!Mt.checkFramebufferStatus(Mt.FRAMEBUFFER)===Mt.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),ot.realBindFramebuffer.call(Mt,Mt.FRAMEBUFFER,ot.lastBoundFramebuffer),ot.scissorTest&&ot.realEnable.call(Mt,Mt.SCISSOR_TEST),ot.realColorMask.apply(Mt,ot.colorMask),ot.realViewport.apply(Mt,ot.viewport),ot.realClearColor.apply(Mt,ot.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},et.prototype.patch=function(){if(!this.isPatched){var st=this,ot=this.gl.canvas,ut=this.gl;it.isIOS()||(ot.width=it.getScreenWidth()*this.bufferScale,ot.height=it.getScreenHeight()*this.bufferScale,Object.defineProperty(ot,"width",{configurable:!0,enumerable:!0,get:function(){return st.bufferWidth},set:function(lt){st.bufferWidth=lt,st.realCanvasWidth.set.call(ot,lt),st.onResize()}}),Object.defineProperty(ot,"height",{configurable:!0,enumerable:!0,get:function(){return st.bufferHeight},set:function(lt){st.bufferHeight=lt,st.realCanvasHeight.set.call(ot,lt),st.onResize()}})),this.lastBoundFramebuffer=ut.getParameter(ut.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(ut.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(Mt,lt){st.lastBoundFramebuffer=lt?lt:st.framebuffer,st.realBindFramebuffer.call(ut,Mt,st.lastBoundFramebuffer)},this.cullFace=ut.getParameter(ut.CULL_FACE),this.depthTest=ut.getParameter(ut.DEPTH_TEST),this.blend=ut.getParameter(ut.BLEND),this.scissorTest=ut.getParameter(ut.SCISSOR_TEST),this.stencilTest=ut.getParameter(ut.STENCIL_TEST),ut.enable=function(Mt){Mt===ut.CULL_FACE?st.cullFace=!0:Mt===ut.DEPTH_TEST?st.depthTest=!0:Mt===ut.BLEND?st.blend=!0:Mt===ut.SCISSOR_TEST?st.scissorTest=!0:Mt===ut.STENCIL_TEST?st.stencilTest=!0:void 0,st.realEnable.call(ut,Mt)},ut.disable=function(Mt){Mt===ut.CULL_FACE?st.cullFace=!1:Mt===ut.DEPTH_TEST?st.depthTest=!1:Mt===ut.BLEND?st.blend=!1:Mt===ut.SCISSOR_TEST?st.scissorTest=!1:Mt===ut.STENCIL_TEST?st.stencilTest=!1:void 0,st.realDisable.call(ut,Mt)},this.colorMask=ut.getParameter(ut.COLOR_WRITEMASK),ut.colorMask=function(Mt,lt,ct,gt){st.colorMask[0]=Mt,st.colorMask[1]=lt,st.colorMask[2]=ct,st.colorMask[3]=gt,st.realColorMask.call(ut,Mt,lt,ct,gt)},this.clearColor=ut.getParameter(ut.COLOR_CLEAR_VALUE),ut.clearColor=function(Mt,lt,ct,gt){st.clearColor[0]=Mt,st.clearColor[1]=lt,st.clearColor[2]=ct,st.clearColor[3]=gt,st.realClearColor.call(ut,Mt,lt,ct,gt)},this.viewport=ut.getParameter(ut.VIEWPORT),ut.viewport=function(Mt,lt,ct,gt){st.viewport[0]=Mt,st.viewport[1]=lt,st.viewport[2]=ct,st.viewport[3]=gt,st.realViewport.call(ut,Mt,lt,ct,gt)},this.isPatched=!0,it.safariCssSizeWorkaround(ot)}},et.prototype.unpatch=function(){if(this.isPatched){var st=this.gl,ot=this.gl.canvas;it.isIOS()||(Object.defineProperty(ot,"width",this.realCanvasWidth),Object.defineProperty(ot,"height",this.realCanvasHeight)),ot.width=this.bufferWidth,ot.height=this.bufferHeight,st.bindFramebuffer=this.realBindFramebuffer,st.enable=this.realEnable,st.disable=this.realDisable,st.colorMask=this.realColorMask,st.clearColor=this.realClearColor,st.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&st.bindFramebuffer(st.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){it.safariCssSizeWorkaround(ot)},1)}},et.prototype.setTextureBounds=function(st,ot){st||(st=[0,0,0.5,1]),ot||(ot=[0.5,0,0.5,1]),this.viewportOffsetScale[0]=st[0],this.viewportOffsetScale[1]=st[1],this.viewportOffsetScale[2]=st[2],this.viewportOffsetScale[3]=st[3],this.viewportOffsetScale[4]=ot[0],this.viewportOffsetScale[5]=ot[1],this.viewportOffsetScale[6]=ot[2],this.viewportOffsetScale[7]=ot[3]},et.prototype.submitFrame=function(){var st=this.gl,ot=this,ut=[];if(window.WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||ut.push(st.CURRENT_PROGRAM,st.ARRAY_BUFFER_BINDING,st.ELEMENT_ARRAY_BUFFER_BINDING,st.TEXTURE_BINDING_2D,st.TEXTURE0),at(st,ut,function(lt){ot.realBindFramebuffer.call(lt,lt.FRAMEBUFFER,null),ot.cullFace&&ot.realDisable.call(lt,lt.CULL_FACE),ot.depthTest&&ot.realDisable.call(lt,lt.DEPTH_TEST),ot.blend&&ot.realDisable.call(lt,lt.BLEND),ot.scissorTest&&ot.realDisable.call(lt,lt.SCISSOR_TEST),ot.stencilTest&&ot.realDisable.call(lt,lt.STENCIL_TEST),ot.realColorMask.call(lt,!0,!0,!0,!0),ot.realViewport.call(lt,0,0,lt.drawingBufferWidth,lt.drawingBufferHeight),(ot.ctxAttribs.alpha||it.isIOS())&&(ot.realClearColor.call(lt,0,0,0,1),lt.clear(lt.COLOR_BUFFER_BIT)),lt.useProgram(ot.program),lt.bindBuffer(lt.ELEMENT_ARRAY_BUFFER,ot.indexBuffer),lt.bindBuffer(lt.ARRAY_BUFFER,ot.vertexBuffer),lt.enableVertexAttribArray(ot.attribs.position),lt.enableVertexAttribArray(ot.attribs.texCoord),lt.vertexAttribPointer(ot.attribs.position,2,lt.FLOAT,!1,20,0),lt.vertexAttribPointer(ot.attribs.texCoord,3,lt.FLOAT,!1,20,8),lt.activeTexture(lt.TEXTURE0),lt.uniform1i(ot.uniforms.diffuse,0),lt.bindTexture(lt.TEXTURE_2D,ot.renderTarget),lt.uniform4fv(ot.uniforms.viewportOffsetScale,ot.viewportOffsetScale),lt.drawElements(lt.TRIANGLES,ot.indexCount,lt.UNSIGNED_SHORT,0),ot.cardboardUI&&ot.cardboardUI.renderNoState(),ot.realBindFramebuffer.call(ot.gl,lt.FRAMEBUFFER,ot.framebuffer),ot.ctxAttribs.preserveDrawingBuffer||(ot.realClearColor.call(lt,0,0,0,0),lt.clear(lt.COLOR_BUFFER_BIT)),window.WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||ot.realBindFramebuffer.call(lt,lt.FRAMEBUFFER,ot.lastBoundFramebuffer),ot.cullFace&&ot.realEnable.call(lt,lt.CULL_FACE),ot.depthTest&&ot.realEnable.call(lt,lt.DEPTH_TEST),ot.blend&&ot.realEnable.call(lt,lt.BLEND),ot.scissorTest&&ot.realEnable.call(lt,lt.SCISSOR_TEST),ot.stencilTest&&ot.realEnable.call(lt,lt.STENCIL_TEST),ot.realColorMask.apply(lt,ot.colorMask),ot.realViewport.apply(lt,ot.viewport),(ot.ctxAttribs.alpha||!ot.ctxAttribs.preserveDrawingBuffer)&&ot.realClearColor.apply(lt,ot.clearColor)}),it.isIOS()){var Mt=st.canvas;(Mt.width!=ot.bufferWidth||Mt.height!=ot.bufferHeight)&&(ot.bufferWidth=Mt.width,ot.bufferHeight=Mt.height,ot.onResize())}},et.prototype.updateDeviceInfo=function(st){var ot=this.gl,ut=this,Mt=[ot.ARRAY_BUFFER_BINDING,ot.ELEMENT_ARRAY_BUFFER_BINDING];at(ot,Mt,function(lt){var ct=ut.computeMeshVertices_(ut.meshWidth,ut.meshHeight,st);if(lt.bindBuffer(lt.ARRAY_BUFFER,ut.vertexBuffer),lt.bufferData(lt.ARRAY_BUFFER,ct,lt.STATIC_DRAW),!ut.indexCount){var gt=ut.computeMeshIndices_(ut.meshWidth,ut.meshHeight);lt.bindBuffer(lt.ELEMENT_ARRAY_BUFFER,ut.indexBuffer),lt.bufferData(lt.ELEMENT_ARRAY_BUFFER,gt,lt.STATIC_DRAW),ut.indexCount=gt.length}})},et.prototype.computeMeshVertices_=function(st,ot,ut){for(var Mt=new Float32Array(5*(2*st*ot)),lt=ut.getLeftEyeVisibleTanAngles(),ct=ut.getLeftEyeNoLensTanAngles(),gt=ut.getLeftEyeVisibleScreenRect(ct),pt=0,Nt=0;2>Nt;Nt++){for(var Dt=0;Dt<ot;Dt++)for(var Tt=0;Tt<st;Tt++,pt++){var It=Tt/(st-1),Lt=Dt/(ot-1),Et=It,jt=Lt,mt=it.lerp(lt[0],lt[2],It),At=it.lerp(lt[3],lt[1],Lt),ft=Math.sqrt(mt*mt+At*At),wt=ut.distortion.distortInverse(ft);It=(mt*wt/ft-ct[0])/(ct[2]-ct[0]),Lt=(At*wt/ft-ct[3])/(ct[1]-ct[3]);ut.device.widthMeters/ut.device.heightMeters;It=2*(gt.x+It*gt.width-0.5),Lt=2*(gt.y+Lt*gt.height-0.5),Mt[5*pt+0]=It,Mt[5*pt+1]=Lt,Mt[5*pt+2]=Et,Mt[5*pt+3]=jt,Mt[5*pt+4]=Nt}var Ot=lt[2]-lt[0];lt[0]=-(Ot+lt[0]),lt[2]=Ot-lt[2],Ot=ct[2]-ct[0],ct[0]=-(Ot+ct[0]),ct[2]=Ot-ct[2],gt.x=1-(gt.x+gt.width)}return Mt},et.prototype.computeMeshIndices_=function(st,ot){for(var ut=new Uint16Array(6*(2*(st-1)*(ot-1))),ct=0,gt=0,pt=0;2>pt;pt++)for(var yt=0;yt<ot;yt++)for(var Nt=0;Nt<st;Nt++,ct++)0!=Nt&&0!=yt&&(Nt<=st/2==yt<=ot/2?(ut[gt++]=ct,ut[gt++]=ct-st-1,ut[gt++]=ct-st,ut[gt++]=ct-st-1,ut[gt++]=ct,ut[gt++]=ct-1):(ut[gt++]=ct-1,ut[gt++]=ct-st,ut[gt++]=ct,ut[gt++]=ct-st,ut[gt++]=ct-1,ut[gt++]=ct-st-1));return ut},et.prototype.getOwnPropertyDescriptor_=function(st,ot){var ut=Object.getOwnPropertyDescriptor(st,ot);return(void 0===ut.get||void 0===ut.set)&&(ut.configurable=!0,ut.enumerable=!0,ut.get=function(){return this.getAttribute(ot)},ut.set=function(Mt){this.setAttribute(ot,Mt)}),ut},xe.exports=et},{"./cardboard-ui.js":11,"./deps/wglu-preserve-state.js":13,"./util.js":29}],11:[function($,xe){function et(Dt){this.gl=Dt,this.attribs={position:0},this.program=tt.linkProgram(Dt,at,nt,this.attribs),this.uniforms=tt.getProgramUniforms(Dt,this.program),this.vertexBuffer=Dt.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}var tt=$("./util.js"),it=$("./deps/wglu-preserve-state.js"),at=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),nt=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),rt=Math.PI/180,st=60,ot=12,ut=20,Mt=1,lt=0.75,ct=0.3125,pt=28,yt=1.5;et.prototype.destroy=function(){var Dt=this.gl;this.listener&&Dt.canvas.removeEventListener("click",this.listener,!1),Dt.deleteProgram(this.program),Dt.deleteBuffer(this.vertexBuffer)},et.prototype.listen=function(Dt,Tt){var It=this.gl.canvas;this.listener=function(Lt){var Et=It.clientWidth/2,jt=pt*yt;Lt.clientX>Et-jt&&Lt.clientX<Et+jt&&Lt.clientY>It.clientHeight-jt?Dt(Lt):Lt.clientX<jt&&Lt.clientY<jt&&Tt(Lt)},It.addEventListener("click",this.listener,!1)},et.prototype.onResize=function(){var Dt=this.gl,Tt=this,It=[Dt.ARRAY_BUFFER_BINDING];it(Dt,It,function(Lt){function Et(Ut,Qt){var _t=(90-Ut)*rt,Rt=Math.cos(_t),Bt=Math.sin(_t);mt.push(ct*Rt*Ot+At,ct*Bt*Ot+Ot),mt.push(Qt*Rt*Ot+At,Qt*Bt*Ot+Ot)}function jt(Ut,Qt){mt.push(Ct+Ut,Lt.drawingBufferHeight-Ct-Qt)}var mt=[],At=Lt.drawingBufferWidth/2,ft=Math.max(screen.width,screen.height)*window.devicePixelRatio,wt=Lt.drawingBufferWidth/ft,ht=wt*window.devicePixelRatio,xt=4*ht/2,St=pt*yt*ht,Ot=pt*ht/2,Ct=(pt*yt-pt)*ht;mt.push(At-xt,St),mt.push(At-xt,Lt.drawingBufferHeight),mt.push(At+xt,St),mt.push(At+xt,Lt.drawingBufferHeight),Tt.gearOffset=mt.length/2;for(var zt=0,vt;6>=zt;zt++)vt=zt*st,Et(vt,Mt),Et(vt+ot,Mt),Et(vt+ut,lt),Et(vt+(st-ut),lt),Et(vt+(st-ot),Mt);Tt.gearVertexCount=mt.length/2-Tt.gearOffset,Tt.arrowOffset=mt.length/2;var kt=xt/Math.sin(45*rt);jt(0,Ot),jt(Ot,0),jt(Ot+kt,kt),jt(kt,Ot+kt),jt(kt,Ot-kt),jt(0,Ot),jt(Ot,2*Ot),jt(Ot+kt,2*Ot-kt),jt(kt,Ot-kt),jt(0,Ot),jt(kt,Ot-xt),jt(pt*ht,Ot-xt),jt(kt,Ot+xt),jt(pt*ht,Ot+xt),Tt.arrowVertexCount=mt.length/2-Tt.arrowOffset,Lt.bindBuffer(Lt.ARRAY_BUFFER,Tt.vertexBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,new Float32Array(mt),Lt.STATIC_DRAW)})},et.prototype.render=function(){var Dt=this.gl,Tt=this,It=[Dt.CULL_FACE,Dt.DEPTH_TEST,Dt.BLEND,Dt.SCISSOR_TEST,Dt.STENCIL_TEST,Dt.COLOR_WRITEMASK,Dt.VIEWPORT,Dt.CURRENT_PROGRAM,Dt.ARRAY_BUFFER_BINDING];it(Dt,It,function(Lt){Lt.disable(Lt.CULL_FACE),Lt.disable(Lt.DEPTH_TEST),Lt.disable(Lt.BLEND),Lt.disable(Lt.SCISSOR_TEST),Lt.disable(Lt.STENCIL_TEST),Lt.colorMask(!0,!0,!0,!0),Lt.viewport(0,0,Lt.drawingBufferWidth,Lt.drawingBufferHeight),Tt.renderNoState()})},et.prototype.renderNoState=function(){var Dt=this.gl;Dt.useProgram(this.program),Dt.bindBuffer(Dt.ARRAY_BUFFER,this.vertexBuffer),Dt.enableVertexAttribArray(this.attribs.position),Dt.vertexAttribPointer(this.attribs.position,2,Dt.FLOAT,!1,8,0),Dt.uniform4f(this.uniforms.color,1,1,1,1),tt.orthoMatrix(this.projMat,0,Dt.drawingBufferWidth,0,Dt.drawingBufferHeight,0.1,1024),Dt.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),Dt.drawArrays(Dt.TRIANGLE_STRIP,0,4),Dt.drawArrays(Dt.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),Dt.drawArrays(Dt.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},xe.exports=et},{"./deps/wglu-preserve-state.js":13,"./util.js":29}],12:[function($,xe){function et(){this.displayName="Cardboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=window.WebVRConfig.BUFFER_SCALE,this.poseSensor_=new rt,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new nt(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new at(this.dpdb_.getDeviceParams()),this.viewerSelector_=new ot,this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),window.WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new st),Mt.isIOS()&&window.addEventListener("resize",this.onResize_.bind(this))}var tt=$("./cardboard-distorter.js"),it=$("./cardboard-ui.js"),at=$("./device-info.js"),nt=$("./dpdb/dpdb.js"),rt=$("./sensor-fusion/fusion-pose-sensor.js"),st=$("./rotate-instructions.js"),ot=$("./viewer-selector.js"),ut=$("./base.js").VRDisplay,Mt=$("./util.js"),lt={LEFT:"left",RIGHT:"right"};et.prototype=new ut,et.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},et.prototype.resetPose=function(){this.poseSensor_.resetPose()},et.prototype.getEyeParameters=function(ct){var gt=[0.5*this.deviceInfo_.viewer.interLensDistance,0,0],pt;if(ct==lt.LEFT)gt[0]*=-1,pt=this.deviceInfo_.getFieldOfViewLeftEye();else if(ct==lt.RIGHT)pt=this.deviceInfo_.getFieldOfViewRightEye();else return console.error("Invalid eye provided: %s",ct),null;return{fieldOfView:pt,offset:gt,renderWidth:0.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},et.prototype.onDeviceParamsUpdated_=function(ct){Mt.isDebug()&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(ct),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},et.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},et.prototype.beginPresent_=function(){var ct=this.layer_.source.getContext("webgl");ct||(ct=this.layer_.source.getContext("experimental-webgl")),ct||(ct=this.layer_.source.getContext("webgl2"));ct&&(this.layer_.predistorted?!window.WebVRConfig.CARDBOARD_UI_DISABLED&&(ct.canvas.width=Mt.getScreenWidth()*this.bufferScale_,ct.canvas.height=Mt.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new it(ct)):(this.distorter_=new tt(ct),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(gt){this.viewerSelector_.show(this.layer_.source.parentElement),gt.stopPropagation(),gt.preventDefault()}.bind(this),function(gt){this.exitPresent(),gt.stopPropagation(),gt.preventDefault()}.bind(this)),this.rotateInstructions_&&(Mt.isLandscapeMode()&&Mt.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},et.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},et.prototype.submitFrame=function(){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var gt=this.layer_.source.getContext("webgl").canvas;(gt.width!=this.lastWidth||gt.height!=this.lastHeight)&&this.cardboardUI_.onResize(),this.lastWidth=gt.width,this.lastHeight=gt.height,this.cardboardUI_.render()}},et.prototype.onOrientationChange_=function(){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},et.prototype.onResize_=function(){if(this.layer_){var gt=this.layer_.source.getContext("webgl"),pt=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0 10px 10px 0","box-sizing: content-box"];gt.canvas.setAttribute("style",pt.join("; ")+";"),Mt.safariCssSizeWorkaround(gt.canvas)}},et.prototype.onViewerChanged_=function(ct){this.deviceInfo_.setViewer(ct),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},et.prototype.fireVRDisplayDeviceParamsChange_=function(){var ct=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(ct)},xe.exports=et},{"./base.js":9,"./cardboard-distorter.js":10,"./cardboard-ui.js":11,"./device-info.js":14,"./dpdb/dpdb.js":18,"./rotate-instructions.js":23,"./sensor-fusion/fusion-pose-sensor.js":25,"./util.js":29,"./viewer-selector.js":30}],13:[function($,xe){xe.exports=function(tt,it,at){if(!it)return void at(tt);for(var nt=[],rt=null,st=0,ot;st<it.length;++st)switch(ot=it[st],ot){case tt.TEXTURE_BINDING_2D:case tt.TEXTURE_BINDING_CUBE_MAP:var ut=it[++st];if(ut<tt.TEXTURE0||ut>tt.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),nt.push(null,null);break}rt||(rt=tt.getParameter(tt.ACTIVE_TEXTURE)),tt.activeTexture(ut),nt.push(tt.getParameter(ot),null);break;case tt.ACTIVE_TEXTURE:rt=tt.getParameter(tt.ACTIVE_TEXTURE),nt.push(null);break;default:nt.push(tt.getParameter(ot));}at(tt);for(var st=0;st<it.length;++st){var ot=it[st],Mt=nt[st];switch(ot){case tt.ACTIVE_TEXTURE:break;case tt.ARRAY_BUFFER_BINDING:tt.bindBuffer(tt.ARRAY_BUFFER,Mt);break;case tt.COLOR_CLEAR_VALUE:tt.clearColor(Mt[0],Mt[1],Mt[2],Mt[3]);break;case tt.COLOR_WRITEMASK:tt.colorMask(Mt[0],Mt[1],Mt[2],Mt[3]);break;case tt.CURRENT_PROGRAM:tt.useProgram(Mt);break;case tt.ELEMENT_ARRAY_BUFFER_BINDING:tt.bindBuffer(tt.ELEMENT_ARRAY_BUFFER,Mt);break;case tt.FRAMEBUFFER_BINDING:tt.bindFramebuffer(tt.FRAMEBUFFER,Mt);break;case tt.RENDERBUFFER_BINDING:tt.bindRenderbuffer(tt.RENDERBUFFER,Mt);break;case tt.TEXTURE_BINDING_2D:var ut=it[++st];if(ut<tt.TEXTURE0||ut>tt.TEXTURE31)break;tt.activeTexture(ut),tt.bindTexture(tt.TEXTURE_2D,Mt);break;case tt.TEXTURE_BINDING_CUBE_MAP:var ut=it[++st];if(ut<tt.TEXTURE0||ut>tt.TEXTURE31)break;tt.activeTexture(ut),tt.bindTexture(tt.TEXTURE_CUBE_MAP,Mt);break;case tt.VIEWPORT:tt.viewport(Mt[0],Mt[1],Mt[2],Mt[3]);break;case tt.BLEND:case tt.CULL_FACE:case tt.DEPTH_TEST:case tt.SCISSOR_TEST:case tt.STENCIL_TEST:Mt?tt.enable(ot):tt.disable(ot);break;default:console.log("No GL restore behavior for 0x"+ot.toString(16));}rt&&tt.activeTexture(rt)}}},{}],14:[function($,xe){function et(ct){this.width=ct.width||rt.getScreenWidth(),this.height=ct.height||rt.getScreenHeight(),this.widthMeters=ct.widthMeters,this.heightMeters=ct.heightMeters,this.bevelMeters=ct.bevelMeters}function tt(ct){this.viewer=ut.CardboardV2,this.updateDeviceParams(ct),this.distortion=new at(this.viewer.distortionCoefficients)}function it(ct){this.id=ct.id,this.label=ct.label,this.fov=ct.fov,this.interLensDistance=ct.interLensDistance,this.baselineLensDistance=ct.baselineLensDistance,this.screenLensDistance=ct.screenLensDistance,this.distortionCoefficients=ct.distortionCoefficients,this.inverseCoefficients=ct.inverseCoefficients}var at=$("./distortion/distortion.js"),nt=$("./math-util.js"),rt=$("./util.js"),st=new et({widthMeters:0.11,heightMeters:0.062,bevelMeters:4e-3}),ot=new et({widthMeters:0.1038,heightMeters:0.0584,bevelMeters:4e-3}),ut={CardboardV1:new it({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:0.06,baselineLensDistance:0.035,screenLensDistance:0.042,distortionCoefficients:[0.441,0.156],inverseCoefficients:[-0.4410035,0.42756155,-0.4804439,0.5460139,-0.58821183,0.5733938,-0.48303202,0.33299083,-0.17573841,0.0651772,-0.01488963,0.001559834]}),CardboardV2:new it({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:0.064,baselineLensDistance:0.035,screenLensDistance:0.039,distortionCoefficients:[0.34,0.55],inverseCoefficients:[-0.33836704,-0.18162185,0.862655,-1.2462051,1.0560602,-0.58208317,0.21609078,-0.05444823,0.009177956,-0.0009904169,0.00006183535,-0.0000016981803]})};tt.prototype.updateDeviceParams=function(ct){this.device=this.determineDevice_(ct)||this.device},tt.prototype.getDevice=function(){return this.device},tt.prototype.setViewer=function(ct){this.viewer=ct,this.distortion=new at(this.viewer.distortionCoefficients)},tt.prototype.determineDevice_=function(ct){if(!ct)return rt.isIOS()?(console.warn("Using fallback iOS device measurements."),ot):(console.warn("Using fallback Android device measurements."),st);var gt=0.0254,pt=gt/ct.xdpi,yt=gt/ct.ydpi,Nt=rt.getScreenWidth(),Dt=rt.getScreenHeight();return new et({widthMeters:pt*Nt,heightMeters:yt*Dt,bevelMeters:1e-3*ct.bevelMm})},tt.prototype.getDistortedFieldOfViewLeftEye=function(){var ct=this.viewer,gt=this.device,pt=this.distortion,yt=ct.screenLensDistance,Nt=(gt.widthMeters-ct.interLensDistance)/2,Dt=ct.interLensDistance/2,Tt=ct.baselineLensDistance-gt.bevelMeters,It=gt.heightMeters-Tt,Lt=nt.radToDeg*Math.atan(pt.distort(Nt/yt)),Et=nt.radToDeg*Math.atan(pt.distort(Dt/yt)),jt=nt.radToDeg*Math.atan(pt.distort(Tt/yt)),mt=nt.radToDeg*Math.atan(pt.distort(It/yt));return{leftDegrees:Math.min(Lt,ct.fov),rightDegrees:Math.min(Et,ct.fov),downDegrees:Math.min(jt,ct.fov),upDegrees:Math.min(mt,ct.fov)}},tt.prototype.getLeftEyeVisibleTanAngles=function(){var ct=this.viewer,gt=this.device,pt=this.distortion,yt=Math.tan(-nt.degToRad*ct.fov),Nt=Math.tan(nt.degToRad*ct.fov),Dt=Math.tan(nt.degToRad*ct.fov),Tt=Math.tan(-nt.degToRad*ct.fov),It=gt.widthMeters/4,Lt=gt.heightMeters/2,Et=ct.baselineLensDistance-gt.bevelMeters-Lt,jt=ct.interLensDistance/2-It,mt=-Et,At=ct.screenLensDistance,ft=pt.distort((jt-It)/At),wt=pt.distort((mt+Lt)/At),ht=pt.distort((jt+It)/At),xt=pt.distort((mt-Lt)/At),St=new Float32Array(4);return St[0]=Math.max(yt,ft),St[1]=Math.min(Nt,wt),St[2]=Math.min(Dt,ht),St[3]=Math.max(Tt,xt),St},tt.prototype.getLeftEyeNoLensTanAngles=function(){var ct=this.viewer,gt=this.device,pt=this.distortion,yt=new Float32Array(4),Nt=pt.distortInverse(Math.tan(-nt.degToRad*ct.fov)),Dt=pt.distortInverse(Math.tan(nt.degToRad*ct.fov)),Tt=pt.distortInverse(Math.tan(nt.degToRad*ct.fov)),It=pt.distortInverse(Math.tan(-nt.degToRad*ct.fov)),Lt=gt.widthMeters/4,Et=gt.heightMeters/2,jt=ct.baselineLensDistance-gt.bevelMeters-Et,mt=ct.interLensDistance/2-Lt,At=-jt,ft=ct.screenLensDistance;return yt[0]=Math.max(Nt,(mt-Lt)/ft),yt[1]=Math.min(Dt,(At+Et)/ft),yt[2]=Math.min(Tt,(mt+Lt)/ft),yt[3]=Math.max(It,(At-Et)/ft),yt},tt.prototype.getLeftEyeVisibleScreenRect=function(ct){var gt=this.viewer,pt=this.device,yt=gt.screenLensDistance,Nt=(pt.widthMeters-gt.interLensDistance)/2,Dt=gt.baselineLensDistance-pt.bevelMeters,Tt=(ct[0]*yt+Nt)/pt.widthMeters,It=(ct[1]*yt+Dt)/pt.heightMeters,Lt=(ct[2]*yt+Nt)/pt.widthMeters,Et=(ct[3]*yt+Dt)/pt.heightMeters;return{x:Tt,y:Et,width:Lt-Tt,height:It-Et}},tt.prototype.getFieldOfViewLeftEye=function(ct){return ct?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},tt.prototype.getFieldOfViewRightEye=function(ct){var gt=this.getFieldOfViewLeftEye(ct);return{leftDegrees:gt.rightDegrees,rightDegrees:gt.leftDegrees,upDegrees:gt.upDegrees,downDegrees:gt.downDegrees}},tt.prototype.getUndistortedFieldOfViewLeftEye=function(){var ct=this.getUndistortedParams_();return{leftDegrees:nt.radToDeg*Math.atan(ct.outerDist),rightDegrees:nt.radToDeg*Math.atan(ct.innerDist),downDegrees:nt.radToDeg*Math.atan(ct.bottomDist),upDegrees:nt.radToDeg*Math.atan(ct.topDist)}},tt.prototype.getUndistortedViewportLeftEye=function(){var ct=this.getUndistortedParams_(),gt=this.viewer,pt=this.device,yt=gt.screenLensDistance,Nt=pt.widthMeters/yt,Dt=pt.heightMeters/yt,Tt=pt.width/Nt,It=pt.height/Dt,Lt=Math.round((ct.eyePosX-ct.outerDist)*Tt),Et=Math.round((ct.eyePosY-ct.bottomDist)*It);return{x:Lt,y:Et,width:Math.round((ct.eyePosX+ct.innerDist)*Tt)-Lt,height:Math.round((ct.eyePosY+ct.topDist)*It)-Et}},tt.prototype.getUndistortedParams_=function(){var ct=this.viewer,gt=this.device,pt=this.distortion,yt=ct.screenLensDistance,Nt=ct.interLensDistance/2/yt,Dt=gt.widthMeters/yt,Tt=gt.heightMeters/yt,It=Dt/2-Nt,Lt=(ct.baselineLensDistance-gt.bevelMeters)/yt,Et=ct.fov,jt=pt.distortInverse(Math.tan(nt.degToRad*Et)),mt=Math.min(It,jt),At=Math.min(Nt,jt),ft=Math.min(Lt,jt),wt=Math.min(Tt-Lt,jt);return{outerDist:mt,innerDist:At,topDist:wt,bottomDist:ft,eyePosX:It,eyePosY:Lt}},tt.Viewers=ut,xe.exports=tt},{"./distortion/distortion.js":16,"./math-util.js":20,"./util.js":29}],15:[function($,xe){function et(rt){this.display=rt,this.hardwareUnitId=rt.displayId,this.deviceId="webvr-polyfill:HMD:"+rt.displayId,this.deviceName=rt.displayName+" (HMD)"}function tt(rt){this.display=rt,this.hardwareUnitId=rt.displayId,this.deviceId="webvr-polyfill:PositionSensor: "+rt.displayId,this.deviceName=rt.displayName+" (PositionSensor)"}var it=$("./base.js").VRDisplay,at=$("./base.js").HMDVRDevice,nt=$("./base.js").PositionSensorVRDevice;et.prototype=new at,et.prototype.getEyeParameters=function(rt){var st=this.display.getEyeParameters(rt);return{currentFieldOfView:st.fieldOfView,maximumFieldOfView:st.fieldOfView,minimumFieldOfView:st.fieldOfView,recommendedFieldOfView:st.fieldOfView,eyeTranslation:{x:st.offset[0],y:st.offset[1],z:st.offset[2]},renderRect:{x:"right"==rt?st.renderWidth:0,y:0,width:st.renderWidth,height:st.renderHeight}}},et.prototype.setFieldOfView=function(){},tt.prototype=new nt,tt.prototype.getState=function(){var rt=this.display.getPose();return{position:rt.position?{x:rt.position[0],y:rt.position[1],z:rt.position[2]}:null,orientation:rt.orientation?{x:rt.orientation[0],y:rt.orientation[1],z:rt.orientation[2],w:rt.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},tt.prototype.resetState=function(){return this.positionDevice.resetPose()},xe.exports.VRDisplayHMDDevice=et,xe.exports.VRDisplayPositionSensorDevice=tt},{"./base.js":9}],16:[function($,xe){function et(tt){this.coefficients=tt}et.prototype.distortInverse=function(tt){for(var it=0,at=1,nt=tt-this.distort(it);1e-4<Math.abs(at-it);){var rt=tt-this.distort(at),st=at-rt*((at-it)/(rt-nt));it=at,at=st,nt=rt}return at},et.prototype.distort=function(tt){for(var at=0,nt=0;nt<this.coefficients.length;nt++)at=tt*tt*(at+this.coefficients[nt]);return(at+1)*tt},xe.exports=et},{}],17:[function($,xe){xe.exports={format:1,last_updated:"2017-06-01T22:33:42Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1000},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1000},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1000},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1000},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1000},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1000},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1000},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1000},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1000},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1000},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1000}]}},{}],18:[function($,xe){function et(rt,st){if(this.dpdb=it,this.recalculateDeviceParams_(),rt){this.onDeviceParamsUpdated=st;var ot=new XMLHttpRequest,ut=this;ot.open("GET",nt,!0),ot.addEventListener("load",function(){ut.loading=!1,200<=ot.status&&299>=ot.status?(ut.dpdb=JSON.parse(ot.response),ut.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),ot.send()}}function tt(rt){this.xdpi=rt.xdpi,this.ydpi=rt.ydpi,this.bevelMm=rt.bevelMm}var it=$("./dpdb.json"),at=$("../util.js"),nt="https://dpdb.webvr.rocks/dpdb.json";et.prototype.getDeviceParams=function(){return this.deviceParams},et.prototype.recalculateDeviceParams_=function(){var rt=this.calcDeviceParams_();rt?(this.deviceParams=rt,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},et.prototype.calcDeviceParams_=function(){var rt=this.dpdb;if(!rt)return console.error("DPDB not available."),null;if(1!=rt.format)return console.error("DPDB has unexpected format version."),null;if(!rt.devices||!rt.devices.length)return console.error("DPDB does not have a devices section."),null;var st=navigator.userAgent||navigator.vendor||window.opera,ot=at.getScreenWidth(),ut=at.getScreenHeight();if(!rt.devices)return console.error("DPDB has no devices section."),null;for(var Mt=0,lt;Mt<rt.devices.length;Mt++){if(lt=rt.devices[Mt],!lt.rules){console.warn("Device["+Mt+"] has no rules section.");continue}if("ios"!=lt.type&&"android"!=lt.type){console.warn("Device["+Mt+"] has invalid type.");continue}if(at.isIOS()==("ios"==lt.type)){for(var ct=!1,gt=0,pt;gt<lt.rules.length;gt++)if(pt=lt.rules[gt],this.matchRule_(pt,st,ot,ut)){ct=!0;break}if(ct){var yt=lt.dpi[0]||lt.dpi,Nt=lt.dpi[1]||lt.dpi;return new tt({xdpi:yt,ydpi:Nt,bevelMm:lt.bw})}}}return console.warn("No DPDB device match."),null},et.prototype.matchRule_=function(rt,st,ot,ut){if(!rt.ua&&!rt.res)return!1;if(rt.ua&&0>st.indexOf(rt.ua))return!1;if(rt.res){if(!rt.res[0]||!rt.res[1])return!1;var Mt=rt.res[0],lt=rt.res[1];if(Math.min(ot,ut)!=Math.min(Mt,lt)||Math.max(ot,ut)!=Math.max(Mt,lt))return!1}return!0},xe.exports=et},{"../util.js":29,"./dpdb.json":17}],19:[function($){var et=$("./util.js"),tt=$("./webvr-polyfill.js").WebVRPolyfill;window.WebVRConfig=et.extend({FORCE_ENABLE_VR:!1,K_FILTER:0.98,PREDICTION_TIME_S:0.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:0.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1,ALWAYS_APPEND_POLYFILL_DISPLAY:!1,GET_VR_DISPLAYS_TIMEOUT:1e3},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new tt}:new tt,window.WebVRPolyfill=tt},{"./util.js":29,"./webvr-polyfill.js":32}],20:[function($,xe){var et=window.MathUtil||{};et.degToRad=Math.PI/180,et.radToDeg=180/Math.PI,et.Vector2=function(tt,it){this.x=tt||0,this.y=it||0},et.Vector2.prototype={constructor:et.Vector2,set:function(it,at){return this.x=it,this.y=at,this},copy:function(it){return this.x=it.x,this.y=it.y,this},subVectors:function(it,at){return this.x=it.x-at.x,this.y=it.y-at.y,this}},et.Vector3=function(tt,it,at){this.x=tt||0,this.y=it||0,this.z=at||0},et.Vector3.prototype={constructor:et.Vector3,set:function(it,at,nt){return this.x=it,this.y=at,this.z=nt,this},copy:function(it){return this.x=it.x,this.y=it.y,this.z=it.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var it=this.length();if(0!==it){this.multiplyScalar(1/it)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(it){this.x*=it,this.y*=it,this.z*=it},applyQuaternion:function(it){var at=this.x,nt=this.y,rt=this.z,st=it.x,ot=it.y,ut=it.z,Mt=it.w,lt=Mt*at+ot*rt-ut*nt,ct=Mt*nt+ut*at-st*rt,gt=Mt*rt+st*nt-ot*at,pt=-st*at-ot*nt-ut*rt;return this.x=lt*Mt+pt*-st+ct*-ut-gt*-ot,this.y=ct*Mt+pt*-ot+gt*-st-lt*-ut,this.z=gt*Mt+pt*-ut+lt*-ot-ct*-st,this},dot:function(it){return this.x*it.x+this.y*it.y+this.z*it.z},crossVectors:function(it,at){var nt=it.x,rt=it.y,st=it.z,ot=at.x,ut=at.y,Mt=at.z;return this.x=rt*Mt-st*ut,this.y=st*ot-nt*Mt,this.z=nt*ut-rt*ot,this}},et.Quaternion=function(tt,it,at,nt){this.x=tt||0,this.y=it||0,this.z=at||0,this.w=nt===void 0?1:nt},et.Quaternion.prototype={constructor:et.Quaternion,set:function(it,at,nt,rt){return this.x=it,this.y=at,this.z=nt,this.w=rt,this},copy:function(it){return this.x=it.x,this.y=it.y,this.z=it.z,this.w=it.w,this},setFromEulerXYZ:function(it,at,nt){var rt=Math.cos(it/2),st=Math.cos(at/2),ot=Math.cos(nt/2),ut=Math.sin(it/2),Mt=Math.sin(at/2),lt=Math.sin(nt/2);return this.x=ut*st*ot+rt*Mt*lt,this.y=rt*Mt*ot-ut*st*lt,this.z=rt*st*lt+ut*Mt*ot,this.w=rt*st*ot-ut*Mt*lt,this},setFromEulerYXZ:function(it,at,nt){var rt=Math.cos(it/2),st=Math.cos(at/2),ot=Math.cos(nt/2),ut=Math.sin(it/2),Mt=Math.sin(at/2),lt=Math.sin(nt/2);return this.x=ut*st*ot+rt*Mt*lt,this.y=rt*Mt*ot-ut*st*lt,this.z=rt*st*lt-ut*Mt*ot,this.w=rt*st*ot+ut*Mt*lt,this},setFromAxisAngle:function(it,at){var nt=at/2,rt=Math.sin(nt);return this.x=it.x*rt,this.y=it.y*rt,this.z=it.z*rt,this.w=Math.cos(nt),this},multiply:function(it){return this.multiplyQuaternions(this,it)},multiplyQuaternions:function(it,at){var nt=it.x,rt=it.y,st=it.z,ot=it.w,ut=at.x,Mt=at.y,lt=at.z,ct=at.w;return this.x=nt*ct+ot*ut+rt*lt-st*Mt,this.y=rt*ct+ot*Mt+st*ut-nt*lt,this.z=st*ct+ot*lt+nt*Mt-rt*ut,this.w=ot*ct-nt*ut-rt*Mt-st*lt,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var it=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===it?(this.x=0,this.y=0,this.z=0,this.w=1):(it=1/it,this.x*=it,this.y*=it,this.z*=it,this.w*=it),this},slerp:function(it,at){if(0===at)return this;if(1===at)return this.copy(it);var nt=this.x,rt=this.y,st=this.z,ot=this.w,ut=ot*it.w+nt*it.x+rt*it.y+st*it.z;if(0>ut?(this.w=-it.w,this.x=-it.x,this.y=-it.y,this.z=-it.z,ut=-ut):this.copy(it),1<=ut)return this.w=ot,this.x=nt,this.y=rt,this.z=st,this;var Mt=Math.acos(ut),lt=Math.sqrt(1-ut*ut);if(1e-3>Math.abs(lt))return this.w=0.5*(ot+this.w),this.x=0.5*(nt+this.x),this.y=0.5*(rt+this.y),this.z=0.5*(st+this.z),this;var ct=Math.sin((1-at)*Mt)/lt,gt=Math.sin(at*Mt)/lt;return this.w=ot*ct+this.w*gt,this.x=nt*ct+this.x*gt,this.y=rt*ct+this.y*gt,this.z=st*ct+this.z*gt,this},setFromUnitVectors:function(){var tt,it;return function(nt,rt){return void 0===tt&&(tt=new et.Vector3),it=nt.dot(rt)+1,it<1e-6?(it=0,Math.abs(nt.x)>Math.abs(nt.z)?tt.set(-nt.y,nt.x,0):tt.set(0,-nt.z,nt.y)):tt.crossVectors(nt,rt),this.x=tt.x,this.y=tt.y,this.z=tt.z,this.w=it,this.normalize(),this}}()},xe.exports=et},{}],21:[function($,xe){function et(){this.displayName="Mouse and Keyboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new it.Quaternion,this.rotateStart_=new it.Vector2,this.rotateEnd_=new it.Vector2,this.rotateDelta_=new it.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var tt=$("./base.js").VRDisplay,it=$("./math-util.js"),at=$("./util.js"),nt=0.15,rt=80;et.prototype=new tt,et.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},et.prototype.onKeyDown_=function(ut){38==ut.keyCode?this.animatePhi_(this.phi_+nt):39==ut.keyCode?this.animateTheta_(this.theta_-nt):40==ut.keyCode?this.animatePhi_(this.phi_-nt):37==ut.keyCode&&this.animateTheta_(this.theta_+nt)},et.prototype.animateTheta_=function(ut){this.animateKeyTransitions_("theta_",ut)},et.prototype.animatePhi_=function(ut){ut=at.clamp(ut,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi_",ut)},et.prototype.animateKeyTransitions_=function(ut,Mt){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var lt=this[ut],ct=new Date;this.angleAnimation_=requestAnimationFrame(function gt(){var pt=new Date-ct;if(pt>=rt)return this[ut]=Mt,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(gt.bind(this));this[ut]=lt+(Mt-lt)*(pt/rt)}.bind(this))},et.prototype.onMouseDown_=function(ut){this.rotateStart_.set(ut.clientX,ut.clientY),this.isDragging_=!0},et.prototype.onMouseMove_=function(ut){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var Mt=ut.movementX||ut.mozMovementX||0,lt=ut.movementY||ut.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-Mt,this.rotateStart_.y-lt)}else this.rotateEnd_.set(ut.clientX,ut.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*0.3,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*0.5,this.phi_=at.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},et.prototype.onMouseUp_=function(){this.isDragging_=!1},et.prototype.isPointerLocked_=function(){var ut=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return ut!==void 0},et.prototype.resetPose=function(){this.phi_=0,this.theta_=0},xe.exports=et},{"./base.js":9,"./math-util.js":20,"./util.js":29}],22:[function($){(function(et){"undefined"!==typeof et&&et.window&&(et.document=et.window.document,et.navigator=et.window.navigator),$("./main")}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{"./main":19}],23:[function($,xe){function et(){this.loadIcon_();var it=document.createElement("div"),at=it.style;at.position="fixed",at.top=0,at.right=0,at.bottom=0,at.left=0,at.backgroundColor="gray",at.fontFamily="sans-serif",at.zIndex=1e6;var nt=document.createElement("img");nt.src=this.icon;var at=nt.style;at.marginLeft="25%",at.marginTop="25%",at.width="50%",it.appendChild(nt);var rt=document.createElement("div"),at=rt.style;at.textAlign="center",at.fontSize="16px",at.lineHeight="24px",at.margin="24px 25%",at.width="50%",rt.innerHTML="Place your phone into your Cardboard viewer.",it.appendChild(rt);var st=document.createElement("div"),at=st.style;at.backgroundColor="#CFD8DC",at.position="fixed",at.bottom=0,at.width="100%",at.height="48px",at.padding="14px 24px",at.boxSizing="border-box",at.color="#656A6B",it.appendChild(st);var ot=document.createElement("div");ot.style.float="left",ot.innerHTML="No Cardboard viewer?";var ut=document.createElement("a");ut.href="https://www.google.com/get/cardboard/get-cardboard/",ut.innerHTML="get one",ut.target="_blank";var at=ut.style;at.float="right",at.fontWeight=600,at.textTransform="uppercase",at.borderLeft="1px solid gray",at.paddingLeft="24px",at.textDecoration="none",at.color="#656A6B",st.appendChild(ot),st.appendChild(ut),this.overlay=it,this.text=rt,this.hide()}var tt=$("./util.js");et.prototype.show=function(it){it||this.overlay.parentElement?it&&(this.overlay.parentElement&&this.overlay.parentElement!=it&&this.overlay.parentElement.removeChild(this.overlay),it.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var at=this.overlay.querySelector("img"),nt=at.style;tt.isLandscapeMode()?(nt.width="20%",nt.marginLeft="40%",nt.marginTop="3%"):(nt.width="50%",nt.marginLeft="25%",nt.marginTop="25%")},et.prototype.hide=function(){this.overlay.style.display="none"},et.prototype.showTemporarily=function(it,at){this.show(at),this.timer=setTimeout(this.hide.bind(this),it)},et.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},et.prototype.update=function(){this.disableShowTemporarily(),!tt.isLandscapeMode()&&tt.isMobile()?this.show():this.hide()},et.prototype.loadIcon_=function(){this.icon=tt.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+")},xe.exports=et},{"./util.js":29}],24:[function($,xe){function et(nt){this.kFilter=nt,this.currentAccelMeasurement=new tt,this.currentGyroMeasurement=new tt,this.previousGyroMeasurement=new tt,this.filterQ=at.isIOS()?new it.Quaternion(-1,0,0,1):new it.Quaternion(1,0,0,1),this.previousFilterQ=new it.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new it.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new it.Vector3,this.measuredGravity=new it.Vector3,this.gyroIntegralQ=new it.Quaternion}var tt=$("./sensor-sample.js"),it=$("../math-util.js"),at=$("../util.js");et.prototype.addAccelMeasurement=function(nt,rt){this.currentAccelMeasurement.set(nt,rt)},et.prototype.addGyroMeasurement=function(nt,rt){this.currentGyroMeasurement.set(nt,rt);var st=rt-this.previousGyroMeasurement.timestampS;at.isTimestampDeltaValid(st)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},et.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var nt=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,rt=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,nt);this.gyroIntegralQ.multiply(rt),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(rt);var st=new it.Quaternion;st.copy(this.filterQ),st.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(st),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var ot=new it.Quaternion;ot.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),ot.inverse(),at.isDebug()&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",it.radToDeg*at.getQuaternionAngle(ot),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var ut=new it.Quaternion;ut.copy(this.filterQ),ut.multiply(ot),this.filterQ.slerp(ut,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},et.prototype.getOrientation=function(){return this.filterQ},et.prototype.accelToQuaternion_=function(nt){var rt=new it.Vector3;rt.copy(nt),rt.normalize();var st=new it.Quaternion;return st.setFromUnitVectors(new it.Vector3(0,0,-1),rt),st.inverse(),st},et.prototype.gyroToQuaternionDelta_=function(nt,rt){var st=new it.Quaternion,ot=new it.Vector3;return ot.copy(nt),ot.normalize(),st.setFromAxisAngle(ot,nt.length()*rt),st},xe.exports=et},{"../math-util.js":20,"../util.js":29,"./sensor-sample.js":27}],25:[function($,xe){function et(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new nt.Vector3,this.gyroscope=new nt.Vector3,this.start(),this.filter=new tt(window.WebVRConfig.K_FILTER),this.posePredictor=new it(window.WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new at,this.filterToWorldQ=new nt.Quaternion,rt.isIOS()?this.filterToWorldQ.setFromAxisAngle(new nt.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new nt.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new nt.Quaternion,this.worldToScreenQ=new nt.Quaternion,this.originalPoseAdjustQ=new nt.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new nt.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),rt.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new nt.Quaternion,this.isFirefoxAndroid=rt.isFirefoxAndroid(),this.isIOS=rt.isIOS(),this.orientationOut_=new Float32Array(4)}var tt=$("./complementary-filter.js"),it=$("./pose-predictor.js"),at=$("../touch-panner.js"),nt=$("../math-util.js"),rt=$("../util.js");et.prototype.getPosition=function(){return null},et.prototype.getOrientation=function(){var st=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(st,this.gyroscope,this.previousTimestampS);var ot=new nt.Quaternion;return ot.copy(this.filterToWorldQ),ot.multiply(this.resetQ),window.WebVRConfig.TOUCH_PANNER_DISABLED||ot.multiply(this.touchPanner.getOrientation()),ot.multiply(this.predictedQ),ot.multiply(this.worldToScreenQ),window.WebVRConfig.YAW_ONLY&&(ot.x=0,ot.z=0,ot.normalize()),this.orientationOut_[0]=ot.x,this.orientationOut_[1]=ot.y,this.orientationOut_[2]=ot.z,this.orientationOut_[3]=ot.w,this.orientationOut_},et.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),rt.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),window.WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},et.prototype.onDeviceMotion_=function(st){this.updateDeviceMotion_(st)},et.prototype.updateDeviceMotion_=function(st){var ot=st.accelerationIncludingGravity,ut=st.rotationRate,Mt=st.timeStamp/1e3,lt=Mt-this.previousTimestampS;return lt<=rt.MIN_TIMESTEP||lt>rt.MAX_TIMESTEP?(console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=Mt)):void(this.accelerometer.set(-ot.x,-ot.y,-ot.z),this.gyroscope.set(ut.alpha,ut.beta,ut.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,Mt),this.filter.addGyroMeasurement(this.gyroscope,Mt),this.previousTimestampS=Mt)},et.prototype.onOrientationChange_=function(){this.setScreenTransform_()},et.prototype.onMessage_=function(st){var ot=st.data;if(ot&&ot.type){var ut=ot.type.toLowerCase();"devicemotion"!==ut||this.updateDeviceMotion_(ot.deviceMotionEvent)}},et.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new nt.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new nt.Vector3(0,0,1),Math.PI/2);break;case 180:}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},et.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),rt.isIOS()&&rt.isInsideCrossDomainIFrame()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},et.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)},xe.exports=et},{"../math-util.js":20,"../touch-panner.js":28,"../util.js":29,"./complementary-filter.js":24,"./pose-predictor.js":26}],26:[function($,xe){function et(at){this.predictionTimeS=at,this.previousQ=new tt.Quaternion,this.previousTimestampS=null,this.deltaQ=new tt.Quaternion,this.outQ=new tt.Quaternion}var tt=$("../math-util"),it=$("../util");et.prototype.getPrediction=function(at,nt,rt){if(!this.previousTimestampS)return this.previousQ.copy(at),this.previousTimestampS=rt,at;var st=new tt.Vector3;st.copy(nt),st.normalize();var ot=nt.length();if(ot<20*tt.degToRad)return it.isDebug()&&console.log("Moving slowly, at %s deg/s: no prediction",(tt.radToDeg*ot).toFixed(1)),this.outQ.copy(at),this.previousQ.copy(at),this.outQ;var ut=rt-this.previousTimestampS,Mt=ot*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(st,Mt),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(at),this.previousTimestampS=rt,this.outQ},xe.exports=et},{"../math-util":20,"../util":29}],27:[function($,xe){function et(tt,it){this.set(tt,it)}et.prototype.set=function(tt,it){this.sample=tt,this.timestampS=it},et.prototype.copy=function(tt){this.set(tt.sample,tt.timestampS)},xe.exports=et},{}],28:[function($,xe){function et(){window.addEventListener("touchstart",this.onTouchStart_.bind(this)),window.addEventListener("touchmove",this.onTouchMove_.bind(this)),window.addEventListener("touchend",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new tt.Vector2,this.rotateEnd=new tt.Vector2,this.rotateDelta=new tt.Vector2,this.theta=0,this.orientation=new tt.Quaternion}var tt=$("./math-util.js"),it=$("./util.js");et.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},et.prototype.resetSensor=function(){this.theta=0},et.prototype.onTouchStart_=function(nt){nt.touches&&1==nt.touches.length&&(this.rotateStart.set(nt.touches[0].pageX,nt.touches[0].pageY),this.isTouching=!0)},et.prototype.onTouchMove_=function(nt){if(this.isTouching){this.rotateEnd.set(nt.touches[0].pageX,nt.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),it.isIOS()&&(this.rotateDelta.x*=-1);var rt=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/rt.clientWidth*0.5}},et.prototype.onTouchEnd_=function(){this.isTouching=!1},xe.exports=et},{"./math-util.js":20,"./util.js":29}],29:[function($,xe){var et=window.Util||{};et.MIN_TIMESTEP=1e-3,et.MAX_TIMESTEP=1,et.base64=function(tt,it){return"data:"+tt+";base64,"+it},et.clamp=function(tt,it,at){return Math.min(Math.max(it,tt),at)},et.lerp=function(tt,it,at){return tt+(it-tt)*at},et.race=function(tt){return Promise.race?Promise.race(tt):new Promise(function(it,at){for(var nt=0;nt<tt.length;nt++)tt[nt].then(it,at)})},et.isIOS=function(){var tt=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return tt}}(),et.isWebViewAndroid=function(){var tt=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return tt}}(),et.isSafari=function(){var tt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return tt}}(),et.isFirefoxAndroid=function(){var tt=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return tt}}(),et.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},et.isTimestampDeltaValid=function(tt){return!isNaN(tt)&&!(tt<=et.MIN_TIMESTEP)&&!(tt>et.MAX_TIMESTEP)},et.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},et.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},et.requestFullscreen=function(tt){if(et.isWebViewAndroid())return!1;if(tt.requestFullscreen)tt.requestFullscreen();else if(tt.webkitRequestFullscreen)tt.webkitRequestFullscreen();else if(tt.mozRequestFullScreen)tt.mozRequestFullScreen();else if(tt.msRequestFullscreen)tt.msRequestFullscreen();else return!1;return!0},et.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return!1;return!0},et.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},et.linkProgram=function(tt,it,at,nt){var rt=tt.createShader(tt.VERTEX_SHADER);tt.shaderSource(rt,it),tt.compileShader(rt);var st=tt.createShader(tt.FRAGMENT_SHADER);tt.shaderSource(st,at),tt.compileShader(st);var ot=tt.createProgram();for(var ut in tt.attachShader(ot,rt),tt.attachShader(ot,st),nt)tt.bindAttribLocation(ot,nt[ut],ut);return tt.linkProgram(ot),tt.deleteShader(rt),tt.deleteShader(st),ot},et.getProgramUniforms=function(tt,it){for(var at={},nt=tt.getProgramParameter(it,tt.ACTIVE_UNIFORMS),rt="",st=0,ot;st<nt;st++)ot=tt.getActiveUniform(it,st),rt=ot.name.replace("[0]",""),at[rt]=tt.getUniformLocation(it,rt);return at},et.orthoMatrix=function(tt,it,at,nt,rt,st,ot){var ut=1/(it-at),Mt=1/(nt-rt),lt=1/(st-ot);return tt[0]=-2*ut,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=-2*Mt,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[10]=2*lt,tt[11]=0,tt[12]=(it+at)*ut,tt[13]=(rt+nt)*Mt,tt[14]=(ot+st)*lt,tt[15]=1,tt},et.copyArray=function(tt,it){for(var at=0,nt=tt.length;at<nt;at++)it[at]=tt[at]},et.isMobile=function(){var tt=!1;return function(it){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(it)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(it.substr(0,4)))&&(tt=!0)}(navigator.userAgent||navigator.vendor||window.opera),tt},et.extend=function(tt,it){for(var at in it)it.hasOwnProperty(at)&&(tt[at]=it[at]);return tt},et.safariCssSizeWorkaround=function(tt){if(et.isIOS()){var it=tt.style.width,at=tt.style.height;tt.style.width=parseInt(it)+1+"px",tt.style.height=parseInt(at)+"px",setTimeout(function(){tt.style.width=it,tt.style.height=at},100)}window.Util=et,window.canvas=tt},et.isDebug=function(){return et.getQueryParameter("debug")},et.getQueryParameter=function(tt){var tt=tt.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),it=new RegExp("[\\?&]"+tt+"=([^&#]*)"),at=it.exec(location.search);return null===at?"":decodeURIComponent(at[1].replace(/\+/g," "))},et.frameDataFromPose=function(){function tt(lt,ct,gt,pt){var yt=Math.tan(ct?ct.upDegrees*st:ot),Nt=Math.tan(ct?ct.downDegrees*st:ot),Dt=Math.tan(ct?ct.leftDegrees*st:ot),Tt=Math.tan(ct?ct.rightDegrees*st:ot),It=2/(Dt+Tt),Lt=2/(yt+Nt);return lt[0]=It,lt[1]=0,lt[2]=0,lt[3]=0,lt[4]=0,lt[5]=Lt,lt[6]=0,lt[7]=0,lt[8]=-(0.5*((Dt-Tt)*It)),lt[9]=0.5*((yt-Nt)*Lt),lt[10]=pt/(gt-pt),lt[11]=-1,lt[12]=0,lt[13]=0,lt[14]=pt*gt/(gt-pt),lt[15]=0,lt}function it(lt,ct,gt){var pt=ct[0],yt=ct[1],Nt=ct[2],Dt=ct[3],Tt=pt+pt,It=yt+yt,Lt=Nt+Nt,Et=pt*Tt,jt=pt*It,mt=pt*Lt,At=yt*It,ft=yt*Lt,wt=Nt*Lt,ht=Dt*Tt,xt=Dt*It,St=Dt*Lt;return lt[0]=1-(At+wt),lt[1]=jt+St,lt[2]=mt-xt,lt[3]=0,lt[4]=jt-St,lt[5]=1-(Et+wt),lt[6]=ft+ht,lt[7]=0,lt[8]=mt+xt,lt[9]=ft-ht,lt[10]=1-(Et+At),lt[11]=0,lt[12]=gt[0],lt[13]=gt[1],lt[14]=gt[2],lt[15]=1,lt}function at(lt,ct,gt){var pt=gt[0],yt=gt[1],Nt=gt[2],Dt,Tt,It,Lt,Et,jt,mt,At,ft,wt,ht,xt;return ct===lt?(lt[12]=ct[0]*pt+ct[4]*yt+ct[8]*Nt+ct[12],lt[13]=ct[1]*pt+ct[5]*yt+ct[9]*Nt+ct[13],lt[14]=ct[2]*pt+ct[6]*yt+ct[10]*Nt+ct[14],lt[15]=ct[3]*pt+ct[7]*yt+ct[11]*Nt+ct[15]):(Dt=ct[0],Tt=ct[1],It=ct[2],Lt=ct[3],Et=ct[4],jt=ct[5],mt=ct[6],At=ct[7],ft=ct[8],wt=ct[9],ht=ct[10],xt=ct[11],lt[0]=Dt,lt[1]=Tt,lt[2]=It,lt[3]=Lt,lt[4]=Et,lt[5]=jt,lt[6]=mt,lt[7]=At,lt[8]=ft,lt[9]=wt,lt[10]=ht,lt[11]=xt,lt[12]=Dt*pt+Et*yt+ft*Nt+ct[12],lt[13]=Tt*pt+jt*yt+wt*Nt+ct[13],lt[14]=It*pt+mt*yt+ht*Nt+ct[14],lt[15]=Lt*pt+At*yt+xt*Nt+ct[15]),lt}function nt(lt,ct){var gt=ct[0],pt=ct[1],yt=ct[2],Nt=ct[3],Dt=ct[4],Tt=ct[5],It=ct[6],Lt=ct[7],Et=ct[8],jt=ct[9],mt=ct[10],At=ct[11],ft=ct[12],wt=ct[13],ht=ct[14],xt=ct[15],St=gt*Tt-pt*Dt,Ot=gt*It-yt*Dt,Ct=gt*Lt-Nt*Dt,zt=pt*It-yt*Tt,vt=pt*Lt-Nt*Tt,kt=yt*Lt-Nt*It,Ut=Et*wt-jt*ft,Qt=Et*ht-mt*ft,_t=Et*xt-At*ft,Rt=jt*ht-mt*wt,Bt=jt*xt-At*wt,Yt=mt*xt-At*ht,Pt=St*Yt-Ot*Bt+Ct*Rt+zt*_t-vt*Qt+kt*Ut;return Pt?(Pt=1/Pt,lt[0]=(Tt*Yt-It*Bt+Lt*Rt)*Pt,lt[1]=(yt*Bt-pt*Yt-Nt*Rt)*Pt,lt[2]=(wt*kt-ht*vt+xt*zt)*Pt,lt[3]=(mt*vt-jt*kt-At*zt)*Pt,lt[4]=(It*_t-Dt*Yt-Lt*Qt)*Pt,lt[5]=(gt*Yt-yt*_t+Nt*Qt)*Pt,lt[6]=(ht*Ct-ft*kt-xt*Ot)*Pt,lt[7]=(Et*kt-mt*Ct+At*Ot)*Pt,lt[8]=(Dt*Bt-Tt*_t+Lt*Ut)*Pt,lt[9]=(pt*_t-gt*Bt-Nt*Ut)*Pt,lt[10]=(ft*vt-wt*Ct+xt*St)*Pt,lt[11]=(jt*Ct-Et*vt-At*St)*Pt,lt[12]=(Tt*Qt-Dt*Rt-It*Ut)*Pt,lt[13]=(gt*Rt-pt*Qt+yt*Ut)*Pt,lt[14]=(wt*Ot-ft*zt-ht*St)*Pt,lt[15]=(Et*zt-jt*Ot+mt*St)*Pt,lt):null}function rt(lt,ct,gt,pt,yt){tt(lt,pt?pt.fieldOfView:null,yt.depthNear,yt.depthFar);var Nt=gt.orientation||ut,Dt=gt.position||Mt;it(ct,Nt,Dt),pt&&at(ct,ct,pt.offset),nt(ct,ct)}var st=Math.PI/180,ot=0.25*Math.PI;var ut=new Float32Array([0,0,0,1]),Mt=new Float32Array([0,0,0]);return function(lt,ct,gt){return lt&&ct&&(lt.pose=ct,lt.timestamp=ct.timestamp,rt(lt.leftProjectionMatrix,lt.leftViewMatrix,ct,gt.getEyeParameters("left"),gt),rt(lt.rightProjectionMatrix,lt.rightViewMatrix,ct,gt.getEyeParameters("right"),gt),!0)}}(),et.isInsideCrossDomainIFrame=function(){var tt=window.self!==window.top,it=et.getDomainFromUrl(document.referrer),at=et.getDomainFromUrl(window.location.href);return tt&&it!==at},et.getDomainFromUrl=function(tt){var it;return it=-1<tt.indexOf("://")?tt.split("/")[2]:tt.split("/")[0],it=it.split(":")[0],it},xe.exports=et},{}],30:[function($,xe){function et(){try{this.selectedKey=localStorage.getItem(nt)}catch(st){console.error("Failed to load viewer profile: %s",st)}this.selectedKey||(this.selectedKey=at),this.dialog=this.createDialog_(tt.Viewers),this.root=null,this.onChangeCallbacks_=[]}var tt=$("./device-info.js"),it=$("./util.js"),at="CardboardV1",nt="WEBVR_CARDBOARD_VIEWER";et.prototype.show=function(st){this.root=st,st.appendChild(this.dialog);var ot=this.dialog.querySelector("#"+this.selectedKey);ot.checked=!0,this.dialog.style.display="block"},et.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},et.prototype.getCurrentViewer=function(){return tt.Viewers[this.selectedKey]},et.prototype.getSelectedKey_=function(){var st=this.dialog.querySelector("input[name=field]:checked");return st?st.id:null},et.prototype.onChange=function(st){this.onChangeCallbacks_.push(st)},et.prototype.fireOnChange_=function(st){for(var ot=0;ot<this.onChangeCallbacks_.length;ot++)this.onChangeCallbacks_[ot](st)},et.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!tt.Viewers[this.selectedKey])return void console.error("ViewerSelector.onSave_: this should never happen!");this.fireOnChange_(tt.Viewers[this.selectedKey]);try{localStorage.setItem(nt,this.selectedKey)}catch(st){console.error("Failed to save viewer profile: %s",st)}this.hide()},et.prototype.createDialog_=function(st){var ot=document.createElement("div");ot.classList.add("webvr-polyfill-viewer-selector"),ot.style.display="none";var ut=document.createElement("div"),Mt=ut.style;Mt.position="fixed",Mt.left=0,Mt.top=0,Mt.width="100%",Mt.height="100%",Mt.background="rgba(0, 0, 0, 0.3)",ut.addEventListener("click",this.hide.bind(this));var lt=280,ct=document.createElement("div"),Mt=ct.style;for(var gt in Mt.boxSizing="border-box",Mt.position="fixed",Mt.top="24px",Mt.left="50%",Mt.marginLeft=-lt/2+"px",Mt.width=lt+"px",Mt.padding="24px",Mt.overflow="hidden",Mt.background="#fafafa",Mt.fontFamily="'Roboto', sans-serif",Mt.boxShadow="0px 5px 20px #666",ct.appendChild(this.createH1_("Select your viewer")),st)ct.appendChild(this.createChoice_(gt,st[gt].label));return ct.appendChild(this.createButton_("Save",this.onSave_.bind(this))),ot.appendChild(ut),ot.appendChild(ct),ot},et.prototype.createH1_=function(st){var ot=document.createElement("h1"),ut=ot.style;return ut.color="black",ut.fontSize="20px",ut.fontWeight="bold",ut.marginTop=0,ut.marginBottom="24px",ot.innerHTML=st,ot},et.prototype.createChoice_=function(st,ot){var ut=document.createElement("div");ut.style.marginTop="8px",ut.style.color="black";var Mt=document.createElement("input");Mt.style.fontSize="30px",Mt.setAttribute("id",st),Mt.setAttribute("type","radio"),Mt.setAttribute("value",st),Mt.setAttribute("name","field");var lt=document.createElement("label");return lt.style.marginLeft="4px",lt.setAttribute("for",st),lt.innerHTML=ot,ut.appendChild(Mt),ut.appendChild(lt),ut},et.prototype.createButton_=function(st,ot){var ut=document.createElement("button");ut.innerHTML=st;var Mt=ut.style;return Mt.float="right",Mt.textTransform="uppercase",Mt.color="#1094f7",Mt.fontSize="14px",Mt.letterSpacing=0,Mt.border=0,Mt.background="none",Mt.marginTop="16px",ut.addEventListener("click",ot),ut},xe.exports=et},{"./device-info.js":14,"./util.js":29}],31:[function($,xe){function et(){function nt(st,ot,ut){var Mt=document.createElement("source");Mt.src=ut,Mt.type="video/"+ot,st.appendChild(Mt)}var rt=document.createElement("video");rt.setAttribute("loop",""),nt(rt,"webm",at.base64("video/webm","GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=")),nt(rt,"mp4",at.base64("video/mp4","AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw==")),this.request=function(){rt.paused&&rt.play()},this.release=function(){rt.pause()}}function tt(){var nt=null;this.request=function(){nt||(nt=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){nt&&(clearInterval(nt),nt=null)}}var at=$("./util.js");xe.exports=function(){var nt=navigator.userAgent||navigator.vendor||window.opera;return nt.match(/iPhone/i)||nt.match(/iPod/i)?tt:et}()},{"./util.js":29}],32:[function($,xe){function et(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeGetVRDisplaysFunc=this.nativeWebVRAvailable?navigator.getVRDisplays:null,this.nativeLegacyWebVRAvailable||(this.enablePolyfill(),window.WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),tt()}function tt(){"VRDisplay"in window&&!("VRFrameData"in window)&&(window.VRFrameData=st,!("depthNear"in window.VRDisplay.prototype)&&(window.VRDisplay.prototype.depthNear=0.01),!("depthFar"in window.VRDisplay.prototype)&&(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(gt){return it.frameDataFromPose(gt,this.getPose(),this)})}var it=$("./util.js"),at=$("./cardboard-vr-display.js"),nt=$("./mouse-keyboard-vr-display.js"),rt=$("./base.js").VRDisplay,st=$("./base.js").VRFrameData,ot=$("./base.js").HMDVRDevice,ut=$("./base.js").PositionSensorVRDevice,Mt=$("./display-wrappers.js").VRDisplayHMDDevice,lt=$("./display-wrappers.js").VRDisplayPositionSensorDevice,ct=$("../package.json").version;et.prototype.isWebVRAvailable=function(){return"getVRDisplays"in navigator},et.prototype.isDeprecatedWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},et.prototype.connectDisplay=function(gt){gt.fireVRDisplayConnect_(),this.displays.push(gt)},et.prototype.populateDevices=function(){if(!this.devicesPopulated){var gt=null;this.isCardboardCompatible()&&(gt=new at,this.connectDisplay(gt),window.WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new Mt(gt)),this.devices.push(new lt(gt)))),this.isMobile()||window.WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(gt=new nt,this.connectDisplay(gt),window.WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new Mt(gt)),this.devices.push(new lt(gt)))),this.devicesPopulated=!0}},et.prototype.enablePolyfill=function(){if(navigator.getVRDisplays=this.getVRDisplays.bind(this),this.nativeWebVRAvailable&&window.VRFrameData){var gt=window.VRFrameData,pt=new window.VRFrameData,yt=window.VRDisplay.prototype.getFrameData;window.VRFrameData=st,window.VRDisplay.prototype.getFrameData=function(Dt){return Dt instanceof gt?void yt.call(this,Dt):void(yt.call(this,pt),Dt.pose=pt.pose,it.copyArray(pt.leftProjectionMatrix,Dt.leftProjectionMatrix),it.copyArray(pt.rightProjectionMatrix,Dt.rightProjectionMatrix),it.copyArray(pt.leftViewMatrix,Dt.leftViewMatrix),it.copyArray(pt.rightViewMatrix,Dt.rightViewMatrix))}}if(window.VRDisplay=rt,navigator&&!navigator.vrEnabled){var Nt=this;Object.defineProperty(navigator,"vrEnabled",{get:function(){return Nt.isCardboardCompatible()&&(Nt.isFullScreenAvailable()||it.isIOS())}})}"VRFrameData"in window||(window.VRFrameData=st)},et.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=ot,window.PositionSensorVRDevice=ut},et.prototype.getVRDisplays=function(){this.populateDevices();var gt=this.displays;if(!this.nativeWebVRAvailable)return Promise.resolve(gt);var pt,yt=this.nativeGetVRDisplaysFunc.call(navigator),Nt=new Promise(function(Dt){pt=setTimeout(function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),Dt([])},window.WebVRConfig.GET_VR_DISPLAYS_TIMEOUT)});return it.race([yt,Nt]).then(function(Dt){return clearTimeout(pt),window.WebVRConfig.ALWAYS_APPEND_POLYFILL_DISPLAY?Dt.concat(gt):0<Dt.length?Dt:gt})},et.prototype.getVRDevices=function(){console.warn("getVRDevices is deprecated. Please update your code to use getVRDisplays instead.");var gt=this;return new Promise(function(pt,yt){try{if(!gt.devicesPopulated){if(gt.nativeWebVRAvailable)return navigator.getVRDisplays(function(Nt){for(var Dt=0;Dt<Nt.length;++Dt)gt.devices.push(new Mt(Nt[Dt])),gt.devices.push(new lt(Nt[Dt]));gt.devicesPopulated=!0,pt(gt.devices)},yt);if(gt.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(Nt){for(var Dt=0;Dt<Nt.length;++Dt)Nt[Dt]instanceof ot&&gt.devices.push(Nt[Dt]),Nt[Dt]instanceof ut&&gt.devices.push(Nt[Dt]);gt.devicesPopulated=!0,pt(gt.devices)},yt)}gt.populateDevices(),pt(gt.devices)}catch(Nt){yt(Nt)}})},et.prototype.NativeVRFrameData=window.VRFrameData,et.prototype.isMobile=function(){return /Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},et.prototype.isCardboardCompatible=function(){return this.isMobile()||window.WebVRConfig.FORCE_ENABLE_VR},et.prototype.isFullScreenAvailable=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1};et.InstallWebVRSpecShim=tt,et.version=ct,xe.exports.WebVRPolyfill=et},{"../package.json":8,"./base.js":9,"./cardboard-vr-display.js":12,"./display-wrappers.js":15,"./mouse-keyboard-vr-display.js":21,"./util.js":29}],33:[function($,xe){function et(st){this.video=document.createElement("video"),!0===st.loop&&this.video.setAttribute("loop",!0),st.volume!==void 0&&(this.video.volume=st.volume),!0===st.muted&&(this.video.muted=st.muted),this.video.setAttribute("preload","auto"),this.video.setAttribute("playsinline",!0),this.video.setAttribute("crossorigin","anonymous")}var tt=$("eventemitter3"),it=$("shaka-player"),at=$("../video-type"),nt=$("../util");et.prototype=new tt,et.prototype.load=function(st){var ot=this,ut=nt.getExtension(st);switch(ut){case"m3u8":this.type=at.HLS,nt.isSafari()?this.loadVideo_(st).then(function(){ot.emit("load",ot.video,ot.type)}).catch(this.onError_.bind(this)):ot.onError_("HLS is only supported on Safari.");break;case"mpd":this.type=at.DASH,this.loadShakaVideo_(st).then(function(){console.log("The video has now been loaded!"),ot.emit("load",ot.video,ot.type)}).catch(this.onError_.bind(this));break;default:this.type=at.VIDEO,this.loadVideo_(st).then(function(){ot.emit("load",ot.video,ot.type)}).catch(this.onError_.bind(this));}},et.prototype.destroy=function(){this.video.pause(),this.video.src="",this.video=null},et.prototype.onError_=function(st){console.error(st),this.emit("error",st)},et.prototype.loadVideo_=function(st){var ot=this,ut=ot.video;return new Promise(function(Mt,lt){ut.src=st,ut.addEventListener("canplaythrough",Mt),ut.addEventListener("loadedmetadata",function(){ot.emit("timeupdate",{currentTime:ut.currentTime,duration:ut.duration})}),ut.addEventListener("error",lt),ut.load()})},et.prototype.initShaka_=function(){this.player=new it.Player(this.video),this.player.configure({abr:{defaultBandwidthEstimate:1e6}}),this.player.addEventListener("error",this.onError_)},et.prototype.loadShakaVideo_=function(st){return(it.polyfill.installAll(),!it.Player.isBrowserSupported())?void console.error("Shaka is not supported on this browser."):(this.initShaka_(),this.player.load(st))},xe.exports=et},{"../util":45,"../video-type":46,eventemitter3:3,"shaka-player":5}],34:[function($,xe){xe.exports={LEFT:1,RIGHT:2}},{}],35:[function($,xe){function et(yt){this.worldRenderer=yt,this.scene=yt.scene;var Nt=document.body;at.isMobile()||(Nt.addEventListener("mousedown",this.onMouseDown_.bind(this),!1),Nt.addEventListener("mousemove",this.onMouseMove_.bind(this),!1),Nt.addEventListener("mouseup",this.onMouseUp_.bind(this),!1)),Nt.addEventListener("touchstart",this.onTouchStart_.bind(this),!1),Nt.addEventListener("touchend",this.onTouchEnd_.bind(this),!1),this.hotspotRoot=new THREE.Object3D,this.hotspotRoot.rotation.y=Math.PI/2,this.scene.add(this.hotspotRoot),this.hotspots={},this.selectedHotspots={},this.downHotspots={},this.pointer=new THREE.Vector2(1,1),this.raycaster=new THREE.Raycaster}var tt=$("eventemitter3"),it=$("@tweenjs/tween.js"),at=$("../util"),nt=new THREE.Vector3(1,1,1),rt=new THREE.Vector3(1.2,1.2,1.2),st=200,ot=new THREE.Color(1,1,1),ut=new THREE.Color(0.8,0,0),Mt=100,lt=0.8,ct=0.5,gt=35,pt=60;et.prototype=new tt,et.prototype.add=function(yt,Nt,Dt,Tt,It){if(this.hotspots[It])return void console.error("Attempt to add hotspot with existing id %s.",It);var Lt=this.createHotspot_(Dt,Tt);Lt.name=It;var Et=new THREE.Quaternion;Et.setFromEuler(new THREE.Euler(THREE.Math.degToRad(yt),THREE.Math.degToRad(Nt),0)),Lt.position.applyQuaternion(Et),Lt.lookAt(new THREE.Vector3),this.hotspotRoot.add(Lt),this.hotspots[It]=Lt},et.prototype.remove=function(yt){return this.hotspots[yt]?void(this.hotspotRoot.remove(this.hotspots[yt]),delete this.selectedHotspots[yt],delete this.downHotspots[yt],delete this.hotspots[yt],this.emit("blur",yt)):void console.error("Attempt to remove non-existing hotspot with id %s.",yt)},et.prototype.clearAll=function(){for(var yt in this.hotspots)this.remove(yt)},et.prototype.getCount=function(){var yt=0;for(var Nt in this.hotspots)yt+=1;return yt},et.prototype.update=function(yt){this.worldRenderer.isVRMode()&&this.pointer.set(0,0),this.raycaster.setFromCamera(this.pointer,yt),this.fadeOffCenterHotspots_(yt);for(var Nt=this.hotspotRoot.children,Dt=0;Dt<Nt.length;Dt++){var Tt=Nt[Dt],It=Tt.name,Lt=this.raycaster.intersectObjects(Tt.children),Et=0<Lt.length;Et&&!this.selectedHotspots[It]&&(this.emit("focus",It),this.focus_(It)),!Et&&this.selectedHotspots[It]&&(this.emit("blur",It),this.blur_(It)),Et?this.selectedHotspots[It]=!0:delete this.selectedHotspots[It]}},et.prototype.setVisibility=function(yt){this.hotspotRoot.visible=yt},et.prototype.onTouchStart_=function(yt){for(var Nt in this.worldRenderer.isVRMode()||this.updateTouch_(yt),this.update(this.worldRenderer.camera),this.downHotspots={},this.selectedHotspots)this.downHotspots[Nt]=!0,this.down_(Nt);return!1},et.prototype.onTouchEnd_=function(yt){if(at.isEmptyObject(this.downHotspots))return void this.emit("click");for(var Nt in this.downHotspots)this.emit("click",Nt),this.up_(Nt),yt.preventDefault()},et.prototype.updateTouch_=function(yt){var Nt=this.getSize_(),Dt=yt.touches[0];this.pointer.x=2*(Dt.clientX/Nt.width)-1,this.pointer.y=2*-(Dt.clientY/Nt.height)+1},et.prototype.onMouseDown_=function(yt){for(var Nt in this.updateMouse_(yt),this.downHotspots={},this.selectedHotspots)this.downHotspots[Nt]=!0,this.down_(Nt)},et.prototype.onMouseMove_=function(yt){this.updateMouse_(yt)},et.prototype.onMouseUp_=function(yt){if(this.updateMouse_(yt),at.isEmptyObject(this.downHotspots))return void this.emit("click");for(var Nt in this.selectedHotspots)Nt in this.downHotspots&&(this.emit("click",Nt),this.up_(Nt))},et.prototype.updateMouse_=function(yt){var Nt=this.getSize_();this.pointer.x=2*(yt.clientX/Nt.width)-1,this.pointer.y=2*-(yt.clientY/Nt.height)+1},et.prototype.getSize_=function(){this.worldRenderer.renderer.domElement;return this.worldRenderer.renderer.getSize()},et.prototype.createHotspot_=function(yt,Nt){var Dt=new THREE.CircleGeometry(yt,32),Tt=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide,transparent:!0,opacity:lt,depthTest:!1}),It=new THREE.Mesh(Dt,Tt);It.name="inner";var Lt=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide,transparent:!0,opacity:ct,depthTest:!1}),Et=new THREE.RingGeometry(0.85*yt,yt,32),jt=new THREE.Mesh(Et,Lt);jt.name="outer";var mt=new THREE.Object3D;return mt.position.z=-Nt,mt.scale.copy(nt),mt.add(It),mt.add(jt),mt},et.prototype.fadeOffCenterHotspots_=function(yt){var Nt=new THREE.Vector3(1,0,0);for(var Dt in Nt.applyQuaternion(yt.quaternion),Nt.applyQuaternion(yt.parent.quaternion),this.hotspots){var Tt=this.hotspots[Dt],It=Tt.position.angleTo(Nt),Lt=THREE.Math.radToDeg(It),jt;if(Lt<gt)jt=1;else if(Lt>pt)jt=0;else{jt=(pt-Lt)/(pt-gt)}this.setOpacity_(Dt,jt)}},et.prototype.focus_=function(yt){var Nt=this,Dt=this.hotspots[yt];this.tween=new it.Tween(Dt.scale).to(rt,st).easing(it.Easing.Quadratic.InOut).start(),this.worldRenderer.isVRMode()&&(this.timeForHospotClick=setTimeout(function(){Nt.emit("click",yt)},1200))},et.prototype.blur_=function(yt){var Nt=this.hotspots[yt];this.tween=new it.Tween(Nt.scale).to(nt,st).easing(it.Easing.Quadratic.InOut).start(),this.timeForHospotClick&&clearTimeout(this.timeForHospotClick)},et.prototype.down_=function(yt){var Nt=this.hotspots[yt],Dt=Nt.getObjectByName("inner");this.tween=new it.Tween(Dt.material.color).to(ut,Mt).start()},et.prototype.up_=function(yt){var Nt=this.hotspots[yt],Dt=Nt.getObjectByName("inner");this.tween=new it.Tween(Dt.material.color).to(ot,Mt).start()},et.prototype.setOpacity_=function(yt,Nt){var Dt=this.hotspots[yt],Tt=Dt.getObjectByName("outer"),It=Dt.getObjectByName("inner");Tt.material.opacity=Nt*ct,It.material.opacity=Nt*lt},xe.exports=et},{"../util":45,"@tweenjs/tween.js":1,eventemitter3:3}],36:[function($,xe){function et(){window.addEventListener("message",this.onMessage_.bind(this),!1)}var tt=$("eventemitter3"),it=$("../message"),at=$("../util");et.prototype=new tt,et.prototype.onMessage_=function(nt){at.isDebug()&&console.log("onMessage_",nt);var rt=nt.data,st=rt.type.toLowerCase(),ot=rt.data;st===it.SET_CONTENT||st===it.SET_VOLUME||st===it.MUTED||st===it.ADD_HOTSPOT||st===it.PLAY||st===it.PAUSE||st===it.SET_CURRENT_TIME||st===it.GET_POSITION||st===it.SET_FULLSCREEN?this.emit(st,ot):at.isDebug()&&console.warn("Got unknown message of type %s from %s",rt.type,rt.origin)},xe.exports=et},{"../message":44,"../util":45,eventemitter3:3}],37:[function($,xe){function et(){this.el=this.build_(),document.body.appendChild(this.el),this.show()}et.prototype.build_=function(){var tt=document.createElement("div"),it=tt.style;it.position="fixed",it.top=0,it.left=0,it.width="100%",it.height="100%",it.background="#eee";var at=document.createElement("img");at.src="images/loading.gif";var it=at.style;return it.position="absolute",it.top="50%",it.left="50%",it.transform="translate(-50%, -50%)",tt.appendChild(at),tt},et.prototype.hide=function(){this.el.style.display="none"},et.prototype.show=function(){this.el.style.display="block"},xe.exports=et},{}],38:[function($){function tt(){Pt.videoProxy.play(),At(),document.body.removeEventListener("touchend",tt)}function lt(){var Vt=Pt.videoProxy.getCurrentTime();Ut.sendParentMessage({type:"timeupdate",data:Vt})}function gt(Vt){console.error(Vt),Ut.sendParentMessage({type:"error",data:{message:Vt}})}function Nt(){Ut.sendParentMessage({type:"paused",data:!1})}function Dt(){Ut.sendParentMessage({type:"paused",data:!0})}function Tt(){Ut.sendParentMessage({type:"ended",data:!0})}function Et(Vt,Ht){St.hide();var Wt=document.querySelector("#error");Wt.classList.add("visible"),Wt.querySelector(".message").innerHTML=Vt;var Zt=Ht===void 0?"Error":Ht;Wt.querySelector(".title").innerHTML=Zt}function mt(){var Vt=document.querySelector("#play-overlay");Vt.classList.add("visible")}function At(){var Vt=document.querySelector("#play-overlay");Vt.classList.remove("visible")}function ft(){Bt.setMode(0),Bt.domElement.style.position="absolute",Bt.domElement.style.left="0px",Bt.domElement.style.bottom="0px",document.body.appendChild(Bt.domElement)}function wt(Vt){Pt.vrDisplay?Pt.vrDisplay.requestAnimationFrame(wt):requestAnimationFrame(wt),Bt.begin(),Pt.videoProxy&&Pt.videoProxy.update(Vt),Pt.render(Vt),Pt.submitFrame(),Bt.end()}var xt=$("./loading-indicator"),St=new xt,Ot=$("es6-promise");Ot.polyfill();var Ct=$("./iframe-message-receiver"),zt=$("../message"),vt=$("./scene-info"),kt=$("../../node_modules/stats-js/build/stats.min"),Ut=$("../util"),Qt=$("webvr-polyfill"),_t=$("./world-renderer"),Rt=new Ct;Rt.on(zt.PLAY,function(){return Pt.videoProxy?void Pt.videoProxy.play():void gt("Attempt to pause, but no video found.")}),Rt.on(zt.PAUSE,function(){return Pt.videoProxy?void Pt.videoProxy.pause():void gt("Attempt to pause, but no video found.")}),Rt.on(zt.ADD_HOTSPOT,function(Vt){Ut.isDebug()&&console.log("onAddHotspot",Vt);var Ht=parseFloat(Vt.pitch),Wt=parseFloat(Vt.yaw),Zt=parseFloat(Vt.radius),Xt=parseFloat(Vt.distance),Kt=Vt.id;Pt.hotspotRenderer.add(Ht,Wt,Zt,Xt,Kt)}),Rt.on(zt.SET_CONTENT,function(Vt){Ut.isDebug()&&console.log("onSetContent",Vt),Pt.hotspotRenderer.clearAll(),Pt.sphereRenderer.setOpacity(0,500).then(function(){var Ht=vt.loadFromAPIParams(Vt.contentInfo);Pt.destroy();var Wt=Ht.getCurrentUrl();return window.history.pushState(null,"VR View",Wt),Pt.setScene(Ht)}).then(function(){Pt.sphereRenderer.setOpacity(1,500)})}),Rt.on(zt.SET_VOLUME,function(Vt){return Pt.videoProxy?void(Pt.videoProxy.setVolume(Vt.volumeLevel),Gt=Vt.volumeLevel,Ut.sendParentMessage({type:"volumechange",data:Vt.volumeLevel})):void gt("Attempt to set volume, but no video found.")}),Rt.on(zt.MUTED,function(Vt){return Pt.videoProxy?void(Pt.videoProxy.mute(Vt.muteState),Ut.sendParentMessage({type:"muted",data:Vt.muteState})):void gt("Attempt to mute, but no video found.")}),Rt.on(zt.SET_CURRENT_TIME,function(Vt){return Pt.videoProxy?void(Pt.videoProxy.setCurrentTime(Vt),lt()):void gt("Attempt to pause, but no video found.")}),Rt.on(zt.GET_POSITION,function(){Ut.sendParentMessage({type:"getposition",data:{Yaw:180*Pt.camera.rotation.y/Math.PI,Pitch:180*Pt.camera.rotation.x/Math.PI}})}),Rt.on(zt.SET_FULLSCREEN,function(){return Pt.videoProxy?void Pt.manager.onFSClick_():void gt("Attempt to set fullscreen, but no video found.")}),window.addEventListener("load",function(){return Ut.isWebGLEnabled()?void(Pt.setScene(Yt),Yt.isDebug&&ft(),Yt.isYawOnly&&(WebVRConfig=window.WebVRConfig||{},WebVRConfig.YAW_ONLY=!0),requestAnimationFrame(wt)):void Et("WebGL not supported.")});var Bt=new kt,Yt=vt.loadFromGetParams(),Pt=new _t(Yt);Pt.on("error",function(Vt){Et("Render: "+Vt)}),Pt.on("load",function(Vt){if(Vt.videoElement){vt.loadFromGetParams();Ut.isMobile()?(mt(),document.body.addEventListener("touchend",tt)):Vt.videoElement.play(),Vt.videoElement.addEventListener("pause",Dt),Vt.videoElement.addEventListener("play",Nt),Vt.videoElement.addEventListener("timeupdate",lt),Vt.videoElement.addEventListener("ended",Tt)}St.hide(),Ut.isMobile()||Pt.sceneInfo.video||Pt.sceneInfo.isAutopanOff||Pt.autopan(),Ft||(Vt.videoElement?Ut.sendParentMessage({type:"ready",data:{duration:Vt.videoElement.duration}}):Ut.sendParentMessage({type:"ready"}),Ft=!0)}),Pt.on("modechange",function(Vt){Ut.sendParentMessage({type:"modechange",data:{mode:Vt}})}),Pt.on("ended",Tt),Pt.on("play",Nt),Pt.hotspotRenderer.on("click",function(Vt){Ut.sendParentMessage({type:"click",data:{id:Vt}})}),window.worldRenderer=Pt;var Ft=!1,Gt=0},{"../../node_modules/stats-js/build/stats.min":6,"../message":44,"../util":45,"./iframe-message-receiver":36,"./loading-indicator":37,"./scene-info":40,"./world-renderer":43,"es6-promise":2,"webvr-polyfill":22}],39:[function($,xe){function et(tt){this.camera=tt,this.reticle=this.createReticle_(),this.reticle.position.z=-0.97,tt.add(this.reticle),this.setVisibility(!1)}et.prototype.setVisibility=function(tt){this.reticle.visible=tt},et.prototype.createReticle_=function(){var tt=new THREE.TorusGeometry(0.02,5e-3,10,20),it=new THREE.MeshBasicMaterial({color:0}),at=new THREE.Mesh(tt,it);return at},xe.exports=et},{}],40:[function($,xe){function et(at){var nt=at||{};nt.player={loop:at.loop,volume:at.volume,muted:at.muted},this.image=nt.image,this.preview=nt.preview,this.video=nt.video,this.defaultYaw=THREE.Math.degToRad(nt.defaultYaw||0),this.isStereo=tt.parseBoolean(nt.isStereo),this.isYawOnly=tt.parseBoolean(nt.isYawOnly),this.isDebug=tt.parseBoolean(nt.isDebug),this.isVROff=tt.parseBoolean(nt.isVROff),this.isAutopanOff=tt.parseBoolean(nt.isAutopanOff),this.loop=tt.parseBoolean(nt.player.loop),this.volume=parseFloat(nt.player.volume?nt.player.volume:"1"),this.muted=tt.parseBoolean(nt.player.muted),this.hideFullscreenButton=tt.parseBoolean(nt.hideFullscreenButton)}var tt=$("../util"),it={video:"video",image:"image",preview:"preview",loop:"loop",volume:"volume",muted:"muted",isStereo:"is_stereo",defaultYaw:"default_yaw",isYawOnly:"is_yaw_only",isDebug:"is_debug",isVROff:"is_vr_off",isAutopanOff:"is_autopan_off",hideFullscreenButton:"hide_fullscreen_button"};et.loadFromGetParams=function(){var at={};for(var nt in it){var rt=it[nt];at[nt]=tt.getQueryParameter(rt)||(window.WebVRConfig&&window.WebVRConfig.PLAYER?window.WebVRConfig.PLAYER[rt]:"")}var st=new et(at);return st.isValid()||console.warn("Invalid scene: %s",st.errorMessage),st},et.loadFromAPIParams=function(at){var nt={};for(var rt in it){var st=it[rt];at[st]&&(nt[rt]=at[st])}var ot=new et(nt);return ot.isValid()||console.warn("Invalid scene: %s",ot.errorMessage),ot},et.prototype.isValid=function(){return this.image||this.video?this.image&&this.video?(this.errorMessage="Both image and video URL can't be specified.",!1):this.image&&!this.isValidImage_(this.image)?(this.errorMessage="Invalid image URL: "+this.image,!1):(this.errorMessage=null,!0):(this.errorMessage="Either image or video URL must be specified.",!1)},et.prototype.getCurrentUrl=function(){var at=location.protocol+"//"+location.host+location.pathname+"?";for(var nt in it){var rt=it[nt],st=this[nt];st!==void 0&&(at+=rt+"="+st+"&")}return at.substring(0,at.length-1)},et.prototype.isValidImage_=function(){return!0},xe.exports=et},{"../util":45}],41:[function($,xe){function et(rt){this.scene=rt,this.createOpacityMask_()}var tt=$("./eyes"),it=$("@tweenjs/tween.js"),at=$("../util"),nt=$("../video-type");et.prototype.setPhotosphere=function(rt,st){return new Promise(function(ot,ut){this.resolve=ot,this.reject=ut;this.isStereo=!!(st||{}).isStereo,this.src=rt;var lt=new THREE.TextureLoader;lt.crossOrigin="anonymous",lt.load(rt,this.onTextureLoaded_.bind(this),void 0,this.onTextureError_.bind(this))}.bind(this))},et.prototype.set360Video=function(rt,st,ot){return new Promise(function(ut,Mt){this.resolve=ut,this.reject=Mt;this.isStereo=!!(ot||{}).isStereo;var ct=new THREE.VideoTexture(rt);ct.minFilter=THREE.LinearFilter,ct.magFilter=THREE.LinearFilter,ct.generateMipmaps=!1,at.isSafari()&&st===nt.HLS?(ct.format=THREE.RGBAFormat,ct.flipY=!1):ct.format=THREE.RGBFormat,ct.needsUpdate=!0,this.onTextureLoaded_(ct)}.bind(this))},et.prototype.setOpacity=function(rt,st){var ot=this.scene;return new Promise(function(Mt){var ct=ot.getObjectByName("opacityMask"),gt=new it.Tween({opacity:ct.material.opacity}).to({opacity:1-rt},st).easing(it.Easing.Quadratic.InOut);gt.onUpdate(function(){ct.material.opacity=this.opacity}),gt.onComplete(Mt).start()})},et.prototype.onTextureLoaded_=function(rt){var st,ot;this.isStereo?(st=this.createPhotosphere_(rt,{offsetY:0.5,scaleY:0.5}),ot=this.createPhotosphere_(rt,{offsetY:0,scaleY:0.5})):(st=this.createPhotosphere_(rt),ot=this.createPhotosphere_(rt)),st.layers.set(tt.LEFT),st.eye=tt.LEFT,st.name="eyeLeft",ot.layers.set(tt.RIGHT),ot.eye=tt.RIGHT,ot.name="eyeRight",this.scene.getObjectByName("photo").children=[st,ot],this.resolve()},et.prototype.onTextureError_=function(){this.reject("Unable to load texture from \""+this.src+"\"")},et.prototype.createPhotosphere_=function(rt,st){var ot=st||{};ot.scaleX=ot.scaleX||1,ot.scaleY=ot.scaleY||1,ot.offsetX=ot.offsetX||0,ot.offsetY=ot.offsetY||0,ot.phiStart=ot.phiStart||0,ot.phiLength=ot.phiLength||2*Math.PI,ot.thetaStart=ot.thetaStart||0,ot.thetaLength=ot.thetaLength||Math.PI;var ut=new THREE.SphereGeometry(1,48,48,ot.phiStart,ot.phiLength,ot.thetaStart,ot.thetaLength);ut.applyMatrix(new THREE.Matrix4().makeScale(-1,1,1));for(var Mt=ut.faceVertexUvs[0],lt=0;lt<Mt.length;lt++)for(var ct=0;3>ct;ct++)Mt[lt][ct].x*=ot.scaleX,Mt[lt][ct].x+=ot.offsetX,Mt[lt][ct].y*=ot.scaleY,Mt[lt][ct].y+=ot.offsetY;var gt=rt.format===THREE.RGBAFormat&&!1===rt.flipY?new THREE.ShaderMaterial({uniforms:{texture:{value:rt}},vertexShader:["varying vec2 vUV;","void main() {","\tvUV = vec2( uv.x, 1.0 - uv.y );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D texture;","varying vec2 vUV;","void main() {"," gl_FragColor = texture2D( texture, vUV  )"+(at.isIOS()?".bgra":"")+";","}"].join("\n")}):new THREE.MeshBasicMaterial({map:rt});var pt=new THREE.Mesh(ut,gt);return pt.renderOrder=-1,pt},et.prototype.createOpacityMask_=function(){var rt=new THREE.SphereGeometry(0.49,48,48),st=new THREE.MeshBasicMaterial({color:0,side:THREE.DoubleSide,opacity:0,transparent:!0}),ot=new THREE.Mesh(rt,st);return ot.name="opacityMask",ot.renderOrder=1,this.scene.add(ot),ot},xe.exports=et},{"../util":45,"../video-type":46,"./eyes":34,"@tweenjs/tween.js":1}],42:[function($,xe){function et(it){this.videoElement=it,this.isFakePlayback=!1,this.startTime=null}var tt=$("../util");et.prototype.play=function(){tt.isIOS9OrLess()?(this.startTime=performance.now(),this.isFakePlayback=!0,this.audioElement=new Audio,this.audioElement.src=this.videoElement.src,this.audioElement.play()):this.videoElement.play().then(function(it){console.log("Playing video.",it)})},et.prototype.pause=function(){tt.isIOS9OrLess()&&this.isFakePlayback?(this.isFakePlayback=!0,this.audioElement.pause()):this.videoElement.pause()},et.prototype.setVolume=function(it){this.videoElement&&(tt.isIOS()?this.videoElement.muted=0===it:this.videoElement.volume=it),this.audioElement&&(this.audioElement.volume=it)},et.prototype.mute=function(it){this.videoElement&&(this.videoElement.muted=it),this.audioElement&&(this.audioElement.muted=it)},et.prototype.getCurrentTime=function(){return tt.isIOS9OrLess()?this.audioElement.currentTime:this.videoElement.currentTime},et.prototype.setCurrentTime=function(it){this.videoElement&&(this.videoElement.currentTime=it.currentTime),this.audioElement&&(this.audioElement.currentTime=it.currentTime)},et.prototype.update=function(){if(this.isFakePlayback){var it=this.videoElement.duration,at=performance.now(),nt=at-this.startTime,rt=nt/1e3;this.videoElement.currentTime=rt,rt>it&&(this.startTime=at,this.videoElement.currentTime=0,this.audioElement.currentTime=0)}},xe.exports=et},{"../util":45}],43:[function($,xe){function et(pt){this.init_(pt.hideFullscreenButton),this.sphereRenderer=new st(this.scene),this.hotspotRenderer=new nt(this),this.hotspotRenderer.on("focus",this.onHotspotFocus_.bind(this)),this.hotspotRenderer.on("blur",this.onHotspotBlur_.bind(this)),this.reticleRenderer=new rt(this.camera),navigator.getVRDisplays().then(function(yt){0<yt.length&&(this.vrDisplay=yt[0])}.bind(this))}var tt=$("./adaptive-player"),it=$("eventemitter3"),at=$("./eyes"),nt=$("./hotspot-renderer"),rt=$("./reticle-renderer"),st=$("./sphere-renderer"),ot=$("@tweenjs/tween.js"),ut=$("../util"),Mt=$("./video-proxy"),lt=$("webvr-boilerplate");et.prototype=new it,et.prototype.render=function(pt){this.controls.update(),ot.update(pt),this.effect.render(this.scene,this.camera),this.hotspotRenderer.update(this.camera)},et.prototype.setScene=function(pt){var yt=this,Nt=new Promise(function(Tt,It){yt.sceneResolve=Tt,yt.sceneReject=It});if(!pt||!pt.isValid())return void this.didLoadFail_(pt.errorMessage);var Dt={isStereo:pt.isStereo,loop:pt.loop,volume:pt.volume,muted:pt.muted};return this.setDefaultYaw_(pt.defaultYaw||0),(pt.isVROff||pt.video&&ut.isIOS9OrLess())&&this.manager.setVRCompatibleOverride(!1),ut.isIOS()&&(this.manager.setFullscreenCallback(function(){ut.sendParentMessage({type:"enter-fullscreen"})}),this.manager.setExitFullscreenCallback(function(){ut.sendParentMessage({type:"exit-fullscreen"})}),this.manager.setVRCallback(function(){ut.sendParentMessage({type:"enter-vr"})})),pt.image&&!pt.video?pt.preview?this.sphereRenderer.setPhotosphere(pt.preview,Dt).then(function(){yt.didLoad_(),yt.sphereRenderer.setPhotosphere(pt.image,Dt)}).catch(yt.didLoadFail_.bind(yt)):this.sphereRenderer.setPhotosphere(pt.image,Dt).then(function(){yt.didLoad_()}).catch(yt.didLoadFail_.bind(yt)):pt.video&&(ut.isIE11()?pt.image?this.sphereRenderer.setPhotosphere(pt.image,Dt).then(function(){yt.didLoad_()}).catch(yt.didLoadFail_.bind(yt)):this.didLoadFail_("Video is not supported on IE11."):(this.player=new tt(Dt),this.player.on("load",function(Tt,It){yt.sphereRenderer.set360Video(Tt,It,Dt).then(function(){yt.didLoad_({videoElement:Tt})}).catch(yt.didLoadFail_.bind(yt))}),this.player.on("error",function(Tt){yt.didLoadFail_("Video load error: "+Tt)}),this.player.load(pt.video),this.videoProxy=new Mt(this.player.video))),this.sceneInfo=pt,ut.isDebug()&&console.log("Loaded scene",pt),Nt},et.prototype.isVRMode=function(){return!!this.vrDisplay&&this.vrDisplay.isPresenting},et.prototype.submitFrame=function(){this.isVRMode()&&this.vrDisplay.submitFrame()},et.prototype.disposeEye_=function(pt){pt&&(pt.material.map&&pt.material.map.dispose(),pt.material.dispose(),pt.geometry.dispose())},et.prototype.dispose=function(){var pt=this.scene.getObjectByName("eyeLeft");this.disposeEye_(pt);var yt=this.scene.getObjectByName("eyeRight");this.disposeEye_(yt)},et.prototype.destroy=function(){this.player&&(this.player.removeAllListeners(),this.player.destroy(),this.player=null);var pt=this.scene.getObjectByName("photo"),yt=this.scene.getObjectByName("eyeLeft"),Nt=this.scene.getObjectByName("eyeRight");yt&&(this.disposeEye_(yt),pt.remove(yt),this.scene.remove(yt)),Nt&&(this.disposeEye_(Nt),pt.remove(Nt),this.scene.remove(Nt))},et.prototype.didLoad_=function(pt){this.emit("load",pt||{}),this.sceneResolve&&this.sceneResolve()},et.prototype.didLoadFail_=function(pt){this.emit("error",pt),this.sceneReject&&this.sceneReject(pt)},et.prototype.setDefaultYaw_=function(pt){var yt=this.controls.getVRDisplay(),Nt=yt.theta_||0;yt.poseSensor_&&yt.poseSensor_.resetPose(),this.camera.parent.rotation.y=Math.PI/2+pt-Nt},et.prototype.autopan=function(){var yt=this.camera.parent.rotation.y-0.4,Nt=new ot.Tween(this.camera.parent.rotation).to({y:yt},3e3).easing(ot.Easing.Quadratic.Out).start()},et.prototype.init_=function(pt){var yt=document.querySelector("body"),Nt=window.innerWidth/window.innerHeight,Dt=new THREE.PerspectiveCamera(75,Nt,0.1,100);Dt.layers.enable(1);var Tt=new THREE.Object3D;Tt.add(Dt);var It=new THREE.WebGLRenderer({antialias:!1});It.setClearColor(0,0),It.setSize(window.innerWidth,window.innerHeight),It.setPixelRatio(window.devicePixelRatio),yt.appendChild(It.domElement);var Lt=new THREE.VRControls(Dt),Et=new THREE.VREffect(It);Et.scale=0,Et.setSize(window.innerWidth,window.innerHeight),Et.autoSubmitFrame=!1,this.camera=Dt,this.renderer=It,this.effect=Et,this.controls=Lt,this.manager=new lt(It,Et,{predistorted:!1,hideButton:pt}),this.scene=this.createScene_(),this.scene.add(this.camera.parent),window.addEventListener("resize",this.onResize_.bind(this)),window.addEventListener("contextmenu",this.onContextMenu_.bind(this)),window.addEventListener("vrdisplaypresentchange",this.onVRDisplayPresentChange_.bind(this))},et.prototype.onResize_=function(){this.effect.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()},et.prototype.onVRDisplayPresentChange_=function(){ut.isDebug()&&console.log("onVRDisplayPresentChange_");var yt=this.isVRMode(),Nt=yt&&0<this.hotspotRenderer.getCount();this.reticleRenderer.setVisibility(Nt),this.onResize_(),window.analytics&&analytics.logModeChanged(yt),!yt&&ut.isIOS()&&ut.sendParentMessage({type:"exit-fullscreen"}),this.emit("modechange",yt)},et.prototype.createScene_=function(){var yt=new THREE.Scene,Nt=new THREE.Object3D;return Nt.name="photo",yt.add(Nt),yt},et.prototype.onHotspotFocus_=function(){this.setCursor_("pointer")},et.prototype.onHotspotBlur_=function(){this.setCursor_("")},et.prototype.setCursor_=function(pt){this.renderer.domElement.style.cursor=pt},et.prototype.onContextMenu_=function(pt){return pt.preventDefault(),pt.stopPropagation(),!1},xe.exports=et},{"../util":45,"./adaptive-player":33,"./eyes":34,"./hotspot-renderer":35,"./reticle-renderer":39,"./sphere-renderer":41,"./video-proxy":42,"@tweenjs/tween.js":1,eventemitter3:3,"webvr-boilerplate":7}],44:[function($,xe){xe.exports={PLAY:"play",PAUSE:"pause",TIMEUPDATE:"timeupdate",ADD_HOTSPOT:"addhotspot",SET_CONTENT:"setimage",SET_VOLUME:"setvolume",MUTED:"muted",SET_CURRENT_TIME:"setcurrenttime",DEVICE_MOTION:"devicemotion",GET_POSITION:"getposition",SET_FULLSCREEN:"setfullscreen"}},{}],45:[function($,xe){var et=window.Util||{};et.isDataURI=function(tt){return tt&&0==tt.indexOf("data:")},et.generateUUID=function(){function tt(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return tt()+tt()+"-"+tt()+"-"+tt()+"-"+tt()+"-"+tt()+tt()+tt()},et.isMobile=function(){var tt=!1;return function(it){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(it)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(it.substr(0,4)))&&(tt=!0)}(navigator.userAgent||navigator.vendor||window.opera),tt},et.isIOS=function(){return /(iPad|iPhone|iPod)/g.test(navigator.userAgent)},et.isSafari=function(){return /^((?!chrome|android).)*safari/i.test(navigator.userAgent)},et.cloneObject=function(tt){var it={};for(key in tt)it[key]=tt[key];return it},et.hashCode=function(tt){return tt.split("").reduce(function(it,at){return it=(it<<5)-it+at.charCodeAt(0),it&it},0)},et.loadTrackSrc=function(tt,it,at,nt){var rt=new XMLHttpRequest;rt.open("GET",it,!0),rt.responseType="arraybuffer",rt.onload=function(){tt.decodeAudioData(rt.response,function(st){at(st)},function(st){console.error(st)})},nt&&(rt.onprogress=function(st){var ot=st.loaded/st.total;nt(ot)}),rt.send()},et.isPow2=function(tt){return 0==(tt&tt-1)},et.capitalize=function(tt){return tt.charAt(0).toUpperCase()+tt.slice(1)},et.isIFrame=function(){try{return window.self!==window.top}catch(tt){return!0}},et.getQueryParameter=function(tt){tt=tt.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var it=new RegExp("[\\?&]"+tt+"=([^&#]*)"),at=it.exec(location.search);return null===at?"":decodeURIComponent(at[1].replace(/\+/g," "))},et.isWebGLEnabled=function(){var tt=document.createElement("canvas");try{gl=tt.getContext("webgl")}catch(it){gl=null}if(null==gl)try{gl=tt.getContext("experimental-webgl"),experimental=!0}catch(it){gl=null}return!!gl},et.clone=function(tt){return JSON.parse(JSON.stringify(tt))},et.hypot=Math.hypot||function(tt,it){return Math.sqrt(tt*tt+it*it)},et.isIE11=function(){return navigator.userAgent.match(/Trident/)},et.getRectCenter=function(tt){return new THREE.Vector2(tt.x+tt.width/2,tt.y+tt.height/2)},et.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},et.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},et.isIOS9OrLess=function(){if(!et.isIOS())return!1;var tt=/(iPhone|iPad|iPod) OS ([\d_]+)/,it=navigator.userAgent.match(tt);if(!it)return!1;var at=it[it.length-1],nt=parseFloat(at);return 9>=nt},et.getExtension=function(tt){return tt.split(".").pop().split("?")[0]},et.createGetParams=function(tt){var it="?";for(var at in tt){var nt=at+"="+tt[at]+"&";it+=nt}return it.substring(0,tt.length-2),it},et.sendParentMessage=function(tt){window.parent&&parent.postMessage(tt,"*")},et.parseBoolean=function(tt){return"false"==tt||0==tt?!1:"true"==tt||1==tt||!!tt},et.relativeToAbsolutePath=function(tt,it){for(var at=tt.split("/"),nt=it.split("/"),rt=0;rt<nt.length;rt++)"."!=nt[rt]&&(".."==nt[rt]?at.pop():at.push(nt[rt]));return at.join("/")},et.isPathAbsolute=function(tt){return!/^(?:\/|[a-z]+:\/\/)/.test(tt)},et.isEmptyObject=function(tt){return 0==Object.getOwnPropertyNames(tt).length},et.isDebug=function(){return et.parseBoolean(et.getQueryParameter("debug"))},et.getCurrentScript=function(){return document.currentScript||console.warn("This browser does not support document.currentScript. Trying fallback."),document.currentScript||document.scripts[document.scripts.length-1]},xe.exports=et},{}],46:[function($,xe){xe.exports={HLS:1,DASH:2,VIDEO:3}},{}]},{},[38]);
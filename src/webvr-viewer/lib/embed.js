(function $(xe,_e,et){function tt(nt,rt){if(!_e[nt]){if(!xe[nt]){var st="function"==typeof require&&require;if(!rt&&st)return st(nt,!0);if(it)return it(nt,!0);var ot=new Error("Cannot find module '"+nt+"'");throw ot.code="MODULE_NOT_FOUND",ot}var ut=_e[nt]={exports:{}};xe[nt][0].call(ut.exports,function(Mt){var lt=xe[nt][1][Mt];return tt(lt?lt:Mt)},ut,ut.exports,$,xe,_e,et)}return _e[nt].exports}for(var it="function"==typeof require&&require,at=0;at<et.length;at++)tt(et[at]);return tt})({1:[function($,xe,_e){(function(et){var tt=tt||function(){var it=[];return{getAll:function(){return it},removeAll:function(){it=[]},add:function(at){it.push(at)},remove:function(at){var nt=it.indexOf(at);-1!==nt&&it.splice(nt,1)},update:function(at,nt){if(0===it.length)return!1;var rt=0;for(at=void 0===at?tt.now():at;rt<it.length;)it[rt].update(at)||nt?rt++:it.splice(rt,1);return!0}}}();tt.now="undefined"===typeof window&&"undefined"!==typeof et?function(){var it=et.hrtime();return 1e3*it[0]+it[1]/1e6}:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now.bind(window.performance):void 0===Date.now?function(){return new Date().getTime()}:Date.now,tt.Tween=function(it){var at=it,nt={},rt={},st={},ot=1e3,ut=0,Mt,lt=!1,ct=!1,gt=!1,pt=0,yt=null,Nt=tt.Easing.Linear.None,Dt=tt.Interpolation.Linear,Tt=[],It=null,Lt=!1,Et=null,jt=null,mt=null;this.to=function(At,ft){return rt=At,void 0!==ft&&(ot=ft),this},this.start=function(At){for(var ft in tt.add(this),ct=!0,Lt=!1,yt=void 0===At?tt.now():At,yt+=pt,rt){if(rt[ft]instanceof Array){if(0===rt[ft].length)continue;rt[ft]=[at[ft]].concat(rt[ft])}void 0!==at[ft]&&(nt[ft]=at[ft],!1===nt[ft]instanceof Array&&(nt[ft]*=1),st[ft]=nt[ft]||0)}return this},this.stop=function(){return ct?(tt.remove(this),ct=!1,null!==mt&&mt.call(at,at),this.stopChainedTweens(),this):this},this.end=function(){return this.update(yt+ot),this},this.stopChainedTweens=function(){for(var At=0,ft=Tt.length;At<ft;At++)Tt[At].stop()},this.delay=function(At){return pt=At,this},this.repeat=function(At){return ut=At,this},this.repeatDelay=function(At){return Mt=At,this},this.yoyo=function(At){return lt=At,this},this.easing=function(At){return Nt=At,this},this.interpolation=function(At){return Dt=At,this},this.chain=function(){return Tt=arguments,this},this.onStart=function(At){return It=At,this},this.onUpdate=function(At){return Et=At,this},this.onComplete=function(At){return jt=At,this},this.onStop=function(At){return mt=At,this},this.update=function(At){var ft,wt,ht;if(At<yt)return!0;for(ft in!1===Lt&&(null!==It&&It.call(at,at),Lt=!0),wt=(At-yt)/ot,wt=1<wt?1:wt,ht=Nt(wt),rt)if(void 0!==nt[ft]){var xt=nt[ft]||0,St=rt[ft];St instanceof Array?at[ft]=Dt(St,ht):("string"===typeof St&&("+"===St.charAt(0)||"-"===St.charAt(0)?St=xt+parseFloat(St):St=parseFloat(St)),"number"===typeof St&&(at[ft]=xt+(St-xt)*ht))}if(null!==Et&&Et.call(at,ht),1===wt){if(0<ut){for(ft in isFinite(ut)&&ut--,st){if("string"===typeof rt[ft]&&(st[ft]+=parseFloat(rt[ft])),lt){var Ot=st[ft];st[ft]=rt[ft],rt[ft]=Ot}nt[ft]=st[ft]}return lt&&(gt=!gt),yt=void 0===Mt?At+pt:At+Mt,!0}null!==jt&&jt.call(at,at);for(var Ct=0,zt=Tt.length;Ct<zt;Ct++)Tt[Ct].start(yt+ot);return!1}return!0}},tt.Easing={Linear:{None:function(it){return it}},Quadratic:{In:function(it){return it*it},Out:function(it){return it*(2-it)},InOut:function(it){return 1>(it*=2)?0.5*it*it:-0.5*(--it*(it-2)-1)}},Cubic:{In:function(it){return it*it*it},Out:function(it){return--it*it*it+1},InOut:function(it){return 1>(it*=2)?0.5*it*it*it:0.5*((it-=2)*it*it+2)}},Quartic:{In:function(it){return it*it*it*it},Out:function(it){return 1- --it*it*it*it},InOut:function(it){return 1>(it*=2)?0.5*it*it*it*it:-0.5*((it-=2)*it*it*it-2)}},Quintic:{In:function(it){return it*it*it*it*it},Out:function(it){return--it*it*it*it*it+1},InOut:function(it){return 1>(it*=2)?0.5*it*it*it*it*it:0.5*((it-=2)*it*it*it*it+2)}},Sinusoidal:{In:function(it){return 1-Math.cos(it*Math.PI/2)},Out:function(it){return Math.sin(it*Math.PI/2)},InOut:function(it){return 0.5*(1-Math.cos(Math.PI*it))}},Exponential:{In:function(it){return 0===it?0:Math.pow(1024,it-1)},Out:function(it){return 1===it?1:1-Math.pow(2,-10*it)},InOut:function(it){return 0===it?0:1===it?1:1>(it*=2)?0.5*Math.pow(1024,it-1):0.5*(-Math.pow(2,-10*(it-1))+2)}},Circular:{In:function(it){return 1-Math.sqrt(1-it*it)},Out:function(it){return Math.sqrt(1- --it*it)},InOut:function(it){return 1>(it*=2)?-0.5*(Math.sqrt(1-it*it)-1):0.5*(Math.sqrt(1-(it-=2)*it)+1)}},Elastic:{In:function(it){return 0===it?0:1===it?1:-Math.pow(2,10*(it-1))*Math.sin(5*(it-1.1)*Math.PI)},Out:function(it){return 0===it?0:1===it?1:Math.pow(2,-10*it)*Math.sin(5*(it-0.1)*Math.PI)+1},InOut:function(it){return 0===it?0:1===it?1:(it*=2,1>it?-0.5*Math.pow(2,10*(it-1))*Math.sin(5*(it-1.1)*Math.PI):0.5*Math.pow(2,-10*(it-1))*Math.sin(5*(it-1.1)*Math.PI)+1)}},Back:{In:function(it){var at=1.70158;return it*it*((at+1)*it-at)},Out:function(it){var at=1.70158;return--it*it*((at+1)*it+at)+1},InOut:function(it){var at=1.525*1.70158;return 1>(it*=2)?0.5*(it*it*((at+1)*it-at)):0.5*((it-=2)*it*((at+1)*it+at)+2)}},Bounce:{In:function(it){return 1-tt.Easing.Bounce.Out(1-it)},Out:function(it){return it<1/2.75?7.5625*it*it:it<2/2.75?7.5625*(it-=1.5/2.75)*it+0.75:it<2.5/2.75?7.5625*(it-=2.25/2.75)*it+0.9375:7.5625*(it-=2.625/2.75)*it+0.984375},InOut:function(it){return 0.5>it?0.5*tt.Easing.Bounce.In(2*it):0.5*tt.Easing.Bounce.Out(2*it-1)+0.5}}},tt.Interpolation={Linear:function(it,at){var nt=it.length-1,rt=nt*at,st=Math.floor(rt),ot=tt.Interpolation.Utils.Linear;return 0>at?ot(it[0],it[1],rt):1<at?ot(it[nt],it[nt-1],nt-rt):ot(it[st],it[st+1>nt?nt:st+1],rt-st)},Bezier:function(it,at){for(var nt=0,rt=it.length-1,st=Math.pow,ot=tt.Interpolation.Utils.Bernstein,ut=0;ut<=rt;ut++)nt+=st(1-at,rt-ut)*st(at,ut)*it[ut]*ot(rt,ut);return nt},CatmullRom:function(it,at){var nt=it.length-1,rt=nt*at,st=Math.floor(rt),ot=tt.Interpolation.Utils.CatmullRom;return it[0]===it[nt]?(0>at&&(st=Math.floor(rt=nt*(1+at))),ot(it[(st-1+nt)%nt],it[st],it[(st+1)%nt],it[(st+2)%nt],rt-st)):0>at?it[0]-(ot(it[0],it[0],it[1],it[1],-rt)-it[0]):1<at?it[nt]-(ot(it[nt],it[nt],it[nt-1],it[nt-1],rt-nt)-it[nt]):ot(it[st?st-1:0],it[st],it[nt<st+1?nt:st+1],it[nt<st+2?nt:st+2],rt-st)},Utils:{Linear:function(it,at,nt){return(at-it)*nt+it},Bernstein:function(it,at){var nt=tt.Interpolation.Utils.Factorial;return nt(it)/nt(at)/nt(it-at)},Factorial:function(){var it=[1];return function(at){var nt=1;if(it[at])return it[at];for(var rt=at;1<rt;rt--)nt*=rt;return it[at]=nt,nt}}(),CatmullRom:function(it,at,nt,rt,st){var ot=0.5*(nt-it),ut=0.5*(rt-at),Mt=st*st;return(2*at-2*nt+ot+ut)*(st*Mt)+(-3*at+3*nt-2*ot-ut)*Mt+ot*st+at}}},function(it){"function"===typeof define&&define.amd?define([],function(){return tt}):"undefined"!==typeof xe&&"object"===typeof _e?xe.exports=tt:it!==void 0&&(it.TWEEN=tt)}(this)}).call(this,$("_process"))},{_process:4}],2:[function($,xe,_e){(function(et,tt){(function(it,at){"object"===typeof _e&&"undefined"!==typeof xe?xe.exports=at():"function"===typeof define&&define.amd?define(at):it.ES6Promise=at()})(this,function(){"use strict";function it(ci){return"function"===typeof ci||"object"===typeof ci&&null!==ci}function at(ci){return"function"===typeof ci}function ot(){return function(){Xt(ct)}}function lt(){var ci=setTimeout;return function(){return ci(ct,1)}}function ct(){for(var ci=0;ci<Zt;ci+=2){var gi=ai[ci],pi=ai[ci+1];gi(pi),ai[ci]=void 0,ai[ci+1]=void 0}Zt=0}function pt(ci,gi){var pi=arguments,yi=this,Ni=new this.constructor(Nt);void 0===Ni[ri]&&Ut(Ni);var Di=yi._state;return Di?function(){var Ti=pi[Di-1];qt(function(){return zt(Di,Ni,Ti,yi._result)})}():xt(yi,Ni,ci,gi),Ni}function yt(ci){var gi=this;if(ci&&"object"===typeof ci&&ci.constructor===gi)return ci;var pi=new gi(Nt);return At(pi,ci),pi}function Nt(){}function Dt(){return new TypeError("You cannot resolve a promise with itself")}function Tt(){return new TypeError("A promises callback cannot return that same promise.")}function It(ci){try{return ci.then}catch(gi){return ui.error=gi,ui}}function Lt(ci,gi,pi,yi){try{ci.call(gi,pi,yi)}catch(Ni){return Ni}}function Et(ci,gi,pi){qt(function(yi){var Ni=!1,Di=Lt(pi,gi,function(Ti){Ni||(Ni=!0,gi===Ti?wt(yi,Ti):At(yi,Ti))},function(Ti){Ni||(Ni=!0,ht(yi,Ti))},"Settle: "+(yi._label||" unknown promise"));!Ni&&Di&&(Ni=!0,ht(yi,Di))},ci)}function jt(ci,gi){gi._state===oi?wt(ci,gi._result):gi._state===di?ht(ci,gi._result):xt(gi,void 0,function(pi){return At(ci,pi)},function(pi){return ht(ci,pi)})}function mt(ci,gi,pi){gi.constructor===ci.constructor&&pi===pt&&gi.constructor.resolve===yt?jt(ci,gi):pi===ui?ht(ci,ui.error):void 0===pi?wt(ci,gi):at(pi)?Et(ci,gi,pi):wt(ci,gi)}function At(ci,gi){ci===gi?ht(ci,Dt()):it(gi)?mt(ci,gi,It(gi)):wt(ci,gi)}function ft(ci){ci._onerror&&ci._onerror(ci._result),St(ci)}function wt(ci,gi){ci._state!==si||(ci._result=gi,ci._state=oi,0!==ci._subscribers.length&&qt(St,ci))}function ht(ci,gi){ci._state!==si||(ci._state=di,ci._result=gi,qt(ft,ci))}function xt(ci,gi,pi,yi){var Ni=ci._subscribers,Di=Ni.length;ci._onerror=null,Ni[Di]=gi,Ni[Di+oi]=pi,Ni[Di+di]=yi,0===Di&&ci._state&&qt(St,ci)}function St(ci){var gi=ci._subscribers,pi=ci._state;if(0!==gi.length){for(var yi=void 0,Ni=void 0,Di=ci._result,Ti=0;Ti<gi.length;Ti+=3)yi=gi[Ti],Ni=gi[Ti+pi],yi?zt(pi,yi,Ni,Di):Ni(Di);ci._subscribers.length=0}}function Ot(){this.error=null}function Ct(ci,gi){try{return ci(gi)}catch(pi){return Mi.error=pi,Mi}}function zt(ci,gi,pi,yi){var Ni=at(pi),Di,Ti,Ii,Li;if(!Ni)Di=yi,Ii=!0;else if(Di=Ct(pi,yi),Di===Mi?(Li=!0,Ti=Di.error,Di=null):Ii=!0,gi===Di)return void ht(gi,Tt());gi._state!==si||(Ni&&Ii?At(gi,Di):Li?ht(gi,Ti):ci===oi?wt(gi,Di):ci===di&&ht(gi,Di))}function vt(ci,gi){try{gi(function(yi){At(ci,yi)},function(yi){ht(ci,yi)})}catch(pi){ht(ci,pi)}}function kt(){return li++}function Ut(ci){ci[ri]=li++,ci._state=void 0,ci._result=void 0,ci._subscribers=[]}function Qt(ci,gi){this._instanceConstructor=ci,this.promise=new ci(Nt),this.promise[ri]||Ut(this.promise),Wt(gi)?(this._input=gi,this.length=gi.length,this._remaining=gi.length,this._result=Array(this.length),0===this.length?wt(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&wt(this.promise,this._result))):ht(this.promise,_t())}function _t(){return new Error("Array Methods must be provided an Array")}function Pt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ft(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Gt(ci){this[ri]=kt(),this._result=this._state=void 0,this._subscribers=[],Nt!==ci&&("function"!==typeof ci&&Pt(),this instanceof Gt?vt(this,ci):Ft())}function Vt(){var ci;if("undefined"!==typeof tt)ci=tt;else if("undefined"!==typeof self)ci=self;else try{ci=Function("return this")()}catch(yi){throw new Error("polyfill failed because global object is unavailable in this environment")}var gi=ci.Promise;if(gi){var pi=null;try{pi=Object.prototype.toString.call(gi.resolve())}catch(yi){}if("[object Promise]"===pi&&!gi.cast)return}ci.Promise=Gt}var Ht=Array.isArray?Array.isArray:function(ci){return"[object Array]"===Object.prototype.toString.call(ci)};var Wt=Ht,Zt=0,qt=function(gi,pi){ai[Zt]=gi,ai[Zt+1]=pi,Zt+=2,2===Zt&&(Kt?Kt(ct):ni())},Jt="undefined"===typeof window?void 0:window,$t=Jt||{},ei=$t.MutationObserver||$t.WebKitMutationObserver,ti="undefined"===typeof self&&"undefined"!==typeof et&&"[object process]"==={}.toString.call(et),ii="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,ai=Array(1e3),Xt,Kt,ni;ni=ti?function(){return function(){return et.nextTick(ct)}}():ei?function(){var ci=0,gi=new ei(ct),pi=document.createTextNode("");return gi.observe(pi,{characterData:!0}),function(){pi.data=ci=++ci%2}}():ii?function(){var ci=new MessageChannel;return ci.port1.onmessage=ct,function(){return ci.port2.postMessage(0)}}():void 0===Jt&&"function"===typeof $?function(){try{var gi=$("vertx");return Xt=gi.runOnLoop||gi.runOnContext,ot()}catch(pi){return lt()}}():lt();var ri=Math.random().toString(36).substring(16),oi=1,di=2,ui=new Ot,Mi=new Ot,li=0,si;return Qt.prototype._enumerate=function(){for(var ci=this.length,gi=this._input,pi=0;this._state===si&&pi<ci;pi++)this._eachEntry(gi[pi],pi)},Qt.prototype._eachEntry=function(ci,gi){var pi=this._instanceConstructor,yi=pi.resolve;if(yi===yt){var Ni=It(ci);if(Ni===pt&&ci._state!==si)this._settledAt(ci._state,gi,ci._result);else if("function"!==typeof Ni)this._remaining--,this._result[gi]=ci;else if(pi===Gt){var Di=new pi(Nt);mt(Di,ci,Ni),this._willSettleAt(Di,gi)}else this._willSettleAt(new pi(function(Ti){return Ti(ci)}),gi)}else this._willSettleAt(yi(ci),gi)},Qt.prototype._settledAt=function(ci,gi,pi){var yi=this.promise;yi._state===si&&(this._remaining--,ci===di?ht(yi,pi):this._result[gi]=pi),0===this._remaining&&wt(yi,this._result)},Qt.prototype._willSettleAt=function(ci,gi){var pi=this;xt(ci,void 0,function(yi){return pi._settledAt(oi,gi,yi)},function(yi){return pi._settledAt(di,gi,yi)})},Gt.all=function(ci){return new Qt(this,ci).promise},Gt.race=function(ci){var gi=this;return Wt(ci)?new gi(function(pi,yi){for(var Ni=ci.length,Di=0;Di<Ni;Di++)gi.resolve(ci[Di]).then(pi,yi)}):new gi(function(pi,yi){return yi(new TypeError("You must pass an array to race."))})},Gt.resolve=yt,Gt.reject=function(ci){var gi=this,pi=new gi(Nt);return ht(pi,ci),pi},Gt._setScheduler=function(ci){Kt=ci},Gt._setAsap=function(ci){qt=ci},Gt._asap=qt,Gt.prototype={constructor:Gt,then:pt,catch:function(gi){return this.then(null,gi)}},Vt(),Gt.polyfill=Vt,Gt.Promise=Gt,Gt})}).call(this,$("_process"),"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{_process:4}],3:[function($,xe){"use strict";function et(nt,rt,st){this.fn=nt,this.context=rt,this.once=st||!1}function tt(){}var it=Object.prototype.hasOwnProperty,at="function"!==typeof Object.create&&"~";tt.prototype._events=void 0,tt.prototype.eventNames=function(){var rt=this._events,st=[],ot;if(!rt)return st;for(ot in rt)it.call(rt,ot)&&st.push(at?ot.slice(1):ot);return Object.getOwnPropertySymbols?st.concat(Object.getOwnPropertySymbols(rt)):st},tt.prototype.listeners=function(rt,st){var ot=at?at+rt:rt,ut=this._events&&this._events[ot];if(st)return!!ut;if(!ut)return[];if(ut.fn)return[ut.fn];for(var Mt=0,lt=ut.length,ct=Array(lt);Mt<lt;Mt++)ct[Mt]=ut[Mt].fn;return ct},tt.prototype.emit=function(rt,st,ot,ut,Mt,lt){var ct=at?at+rt:rt;if(!this._events||!this._events[ct])return!1;var gt=this._events[ct],pt=arguments.length,yt,Nt;if("function"===typeof gt.fn){switch(gt.once&&this.removeListener(rt,gt.fn,void 0,!0),pt){case 1:return gt.fn.call(gt.context),!0;case 2:return gt.fn.call(gt.context,st),!0;case 3:return gt.fn.call(gt.context,st,ot),!0;case 4:return gt.fn.call(gt.context,st,ot,ut),!0;case 5:return gt.fn.call(gt.context,st,ot,ut,Mt),!0;case 6:return gt.fn.call(gt.context,st,ot,ut,Mt,lt),!0;}for(Nt=1,yt=Array(pt-1);Nt<pt;Nt++)yt[Nt-1]=arguments[Nt];gt.fn.apply(gt.context,yt)}else{var Dt=gt.length,Tt;for(Nt=0;Nt<Dt;Nt++)switch(gt[Nt].once&&this.removeListener(rt,gt[Nt].fn,void 0,!0),pt){case 1:gt[Nt].fn.call(gt[Nt].context);break;case 2:gt[Nt].fn.call(gt[Nt].context,st);break;case 3:gt[Nt].fn.call(gt[Nt].context,st,ot);break;default:if(!yt)for(Tt=1,yt=Array(pt-1);Tt<pt;Tt++)yt[Tt-1]=arguments[Tt];gt[Nt].fn.apply(gt[Nt].context,yt);}}return!0},tt.prototype.on=function(rt,st,ot){var ut=new et(st,ot||this),Mt=at?at+rt:rt;return this._events||(this._events=at?{}:Object.create(null)),this._events[Mt]?this._events[Mt].fn?this._events[Mt]=[this._events[Mt],ut]:this._events[Mt].push(ut):this._events[Mt]=ut,this},tt.prototype.once=function(rt,st,ot){var ut=new et(st,ot||this,!0),Mt=at?at+rt:rt;return this._events||(this._events=at?{}:Object.create(null)),this._events[Mt]?this._events[Mt].fn?this._events[Mt]=[this._events[Mt],ut]:this._events[Mt].push(ut):this._events[Mt]=ut,this},tt.prototype.removeListener=function(rt,st,ot,ut){var Mt=at?at+rt:rt;if(!this._events||!this._events[Mt])return this;var lt=this._events[Mt],ct=[];if(st)if(lt.fn)(lt.fn!==st||ut&&!lt.once||ot&&lt.context!==ot)&&ct.push(lt);else for(var gt=0,pt=lt.length;gt<pt;gt++)(lt[gt].fn!==st||ut&&!lt[gt].once||ot&&lt[gt].context!==ot)&&ct.push(lt[gt]);return ct.length?this._events[Mt]=1===ct.length?ct[0]:ct:delete this._events[Mt],this},tt.prototype.removeAllListeners=function(rt){return this._events?(rt?delete this._events[at?at+rt:rt]:this._events=at?{}:Object.create(null),this):this},tt.prototype.off=tt.prototype.removeListener,tt.prototype.addListener=tt.prototype.on,tt.prototype.setMaxListeners=function(){return this},tt.prefixed=at,"undefined"!==typeof xe&&(xe.exports=tt)},{}],4:[function($,xe){function et(){throw new Error("setTimeout has not been defined")}function tt(){throw new Error("clearTimeout has not been defined")}function it(Nt){if(Mt===setTimeout)return setTimeout(Nt,0);if((Mt===et||!Mt)&&setTimeout)return Mt=setTimeout,setTimeout(Nt,0);try{return Mt(Nt,0)}catch(Dt){try{return Mt.call(null,Nt,0)}catch(Tt){return Mt.call(this,Nt,0)}}}function at(Nt){if(lt===clearTimeout)return clearTimeout(Nt);if((lt===tt||!lt)&&clearTimeout)return lt=clearTimeout,clearTimeout(Nt);try{return lt(Nt)}catch(Dt){try{return lt.call(null,Nt)}catch(Tt){return lt.call(this,Nt)}}}function nt(){gt&&pt&&(gt=!1,pt.length?ct=pt.concat(ct):yt=-1,ct.length&&rt())}function rt(){if(!gt){var Nt=it(nt);gt=!0;for(var Dt=ct.length;Dt;){for(pt=ct,ct=[];++yt<Dt;)pt&&pt[yt].run();yt=-1,Dt=ct.length}pt=null,gt=!1,at(Nt)}}function st(Nt,Dt){this.fun=Nt,this.array=Dt}function ot(){}var ut=xe.exports={},Mt,lt;(function(){try{Mt="function"===typeof setTimeout?setTimeout:et}catch(Nt){Mt=et}try{lt="function"===typeof clearTimeout?clearTimeout:tt}catch(Nt){lt=tt}})();var ct=[],gt=!1,pt,yt=-1;ut.nextTick=function(Nt){var Dt=Array(arguments.length-1);if(1<arguments.length)for(var Tt=1;Tt<arguments.length;Tt++)Dt[Tt-1]=arguments[Tt];ct.push(new st(Nt,Dt)),1!==ct.length||gt||it(rt)},st.prototype.run=function(){this.fun.apply(null,this.array)},ut.title="browser",ut.browser=!0,ut.env={},ut.argv=[],ut.version="",ut.versions={},ut.on=ot,ut.addListener=ot,ut.once=ot,ut.off=ot,ut.removeListener=ot,ut.removeAllListeners=ot,ut.emit=ot,ut.prependListener=ot,ut.prependOnceListener=ot,ut.listeners=function(){return[]},ut.binding=function(){throw new Error("process.binding is not supported")},ut.cwd=function(){return"/"},ut.chdir=function(){throw new Error("process.chdir is not supported")},ut.umask=function(){return 0}},{}],5:[function($,xe){(function(){var et={};(function(tt){function it(Il,Ll){var El=Il.split("."),jl=NM;El[0]in jl||!jl.execScript||jl.execScript("var "+El[0]);for(var ml;El.length&&(ml=El.shift());)El.length||void 0===Ll?jl[ml]?jl=jl[ml]:jl=jl[ml]={}:jl[ml]=Ll}function at(Il){function Ll(){}var El=Tn;Ll.prototype=El.prototype,Il.Ce=El.prototype,Il.prototype=new Ll,Il.prototype.constructor=Il,Il.ze=function(jl,ml){return El.prototype[ml].apply(jl,Array.prototype.slice.call(arguments,2))}}function nt(Il){this.c=Math.exp(Math.log(.5)/Il),this.b=this.a=0}function rt(Il,Ll,El){var jl=Math.pow(Il.c,Ll);El=El*(1-jl)+jl*Il.a,isNaN(El)||(Il.a=El,Il.b+=Ll)}function st(Il){return Il.a/(1-Math.pow(Il.c,Il.b))}function ot(){this.c=new nt(2),this.f=new nt(5),this.a=0,this.b=5E5}function ut(){}function Mt(Il,Ll,El){this.severity=Il,this.category=Ll,this.code=El,this.data=Array.prototype.slice.call(arguments,3)}function lt(Il){var Ll;Il instanceof lt?(ct(this,Il.aa),this.Ca=Il.Ca,this.ca=Il.ca,gt(this,Il.Ka),this.W=Il.W,pt(this,It(Il.a)),this.ua=Il.ua):Il&&(Ll=(Il+"").match(DM))?(ct(this,Ll[1]||"",!0),this.Ca=yt(Ll[2]||""),this.ca=yt(Ll[3]||"",!0),gt(this,Ll[4]),this.W=yt(Ll[5]||"",!0),pt(this,Ll[6]||"",!0),this.ua=yt(Ll[7]||"")):this.a=new Tt(null)}function ct(Il,Ll,El){Il.aa=El?yt(Ll,!0):Ll,Il.aa&&(Il.aa=Il.aa.replace(/:$/,""))}function gt(Il,Ll){if(Ll){if(Ll=+Ll,isNaN(Ll)||0>Ll)throw Error("Bad port number "+Ll);Il.Ka=Ll}else Il.Ka=null}function pt(Il,Ll,El){Ll instanceof Tt?Il.a=Ll:(El||(Ll=Nt(Ll,EM)),Il.a=new Tt(Ll))}function yt(Il,Ll){return Il?Ll?decodeURI(Il):decodeURIComponent(Il):""}function Nt(Il,Ll,El){return"string"==typeof Il?(Il=encodeURI(Il).replace(Ll,Dt),El&&(Il=Il.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Il):null}function Dt(Il){return Il=Il.charCodeAt(0),"%"+(15&Il>>4).toString(16)+(15&Il).toString(16)}function Tt(Il){this.b=Il||null}function It(Il){var Ll=new Tt;if(Ll.b=Il.b,Il.a){var El={},jl;for(jl in Il.a)El[jl]=Il.a[jl].concat();Ll.a=El,Ll.c=Il.c}return Ll}function Lt(Il,Ll){return Il.reduce(function(El,jl,ml){return jl["catch"](El.bind(null,ml))}.bind(null,Ll),Promise.reject())}function Et(Il,Ll){return Il.concat(Ll)}function jt(){}function mt(Il){return null!=Il}function At(Il){return function(Ll){return Ll!=Il}}function ft(Il,Ll,El){return El.indexOf(Il)==Ll}function wt(Il,Ll){if(!Ll.length)return Il;var El=Ll.map(function(jl){return new lt(jl)});return Il.map(function(jl){return new lt(jl)}).map(function(jl){return El.map(jl.resolve.bind(jl))}).reduce(Et,[]).map(function(jl){return jl.toString()})}function ht(Il,Ll){return{keySystem:Il,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:Ll||[],keyIds:[]}}function xt(Il,Ll,El,jl,ml){var Al=ml in jl,fl;for(fl in Ll){var bl=ml+"."+fl,wl=Al?jl[ml]:El[fl],hl=!!{".abr.manager":!0}[bl]||!!{serverCertificate:!0}[fl];(Al||fl in Il)&&(void 0===Ll[fl]?void 0===wl||Al?delete Il[fl]:Il[fl]=wl:hl?Il[fl]=Ll[fl]:"object"==typeof Il[fl]&&"object"==typeof Ll[fl]?xt(Il[fl],Ll[fl],wl,jl,bl):typeof Ll[fl]==typeof wl&&(Il[fl]=Ll[fl]))}}function St(Il){return JSON.parse(JSON.stringify(Il))}function Ot(){var El=new Promise(function(jl,ml){Il=jl,Ll=ml}),Il,Ll;return El.resolve=Il,El.reject=Ll,El}function Ct(Il){this.f=!1,this.a=[],this.b=[],this.c=[],this.h=Il||null}function zt(){return{maxAttempts:2,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0}}function vt(Il,Ll){return{uris:Il,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:Ll}}function kt(Il,Ll){for(var El=[],jl=0;jl<Il.length;++jl){for(var ml=!1,Al=0;Al<El.length&&!(ml=Ll?Ll(Il[jl],El[Al]):Il[jl]===El[Al]);++Al);ml||El.push(Il[jl])}return El}function Ut(Il,Ll,El){for(var jl=0;jl<Il.length;++jl)if(El(Il[jl],Ll))return jl;return-1}function Qt(){this.a={}}function _t(){this.a=new Qt}function Rt(Il,Ll,El,jl){Il.a&&(Ll=new Pt(Ll,El,jl),Il.a.push(El,Ll))}function Bt(Il,Ll,El,jl){Rt(Il,Ll,El,function(ml){this.ha(Ll,El),jl(ml)}.bind(Il))}function Yt(Il){if(Il.a){var Ll=Il.a,El=[],jl;for(jl in Ll.a)El.push.apply(El,Ll.a[jl]);for(Ll=0;Ll<El.length;++Ll)El[Ll].ha();Il.a.a={}}}function Pt(Il,Ll,El){this.target=Il,this.type=Ll,this.a=El,this.target.addEventListener(Ll,El,!1)}function Ft(Il){return!Il||!Object.keys(Il).length}function Gt(Il){return Object.keys(Il).map(function(Ll){return Il[Ll]})}function Vt(Il,Ll){return Object.keys(Il).reduce(function(El,jl){return El[jl]=Ll(Il[jl],jl),El},{})}function Ht(Il,Ll){return Object.keys(Il).every(function(El){return Ll(El,Il[El])})}function Wt(Il,Ll){Object.keys(Il).forEach(function(El){Ll(El,Il[El])})}function Zt(Il){if(!Il)return"";Il=new Uint8Array(Il),239==Il[0]&&187==Il[1]&&191==Il[2]&&(Il=Il.subarray(3)),Il=escape(Jt(Il));try{return decodeURIComponent(Il)}catch(Ll){throw new Mt(2,2,2004)}}function Xt(Il,Ll,El){if(!Il)return"";if(!El&&Il.byteLength%2)throw new Mt(2,2,2004);if(Il instanceof ArrayBuffer)var jl=Il;else El=new Uint8Array(Il.byteLength),El.set(new Uint8Array(Il)),jl=El.buffer;Il=Math.floor(Il.byteLength/2),El=new Uint16Array(Il),jl=new DataView(jl);for(var ml=0;ml<Il;ml++)El[ml]=jl.getUint16(2*ml,Ll);return Jt(El)}function Kt(Il){var Ll=new Uint8Array(Il);if(239==Ll[0]&&187==Ll[1]&&191==Ll[2])return Zt(Ll);if(254==Ll[0]&&255==Ll[1])return Xt(Ll.subarray(2),!1);if(255==Ll[0]&&254==Ll[1])return Xt(Ll.subarray(2),!0);var El=function(jl,ml){return jl.byteLength<=ml||32<=jl[ml]&&126>=jl[ml]}.bind(null,Ll);if(Ll[0]||Ll[2]){if(!Ll[1]&&!Ll[3])return Xt(Il,!0);if(El(0)&&El(1)&&El(2)&&El(3))return Zt(Il)}else return Xt(Il,!1);throw new Mt(2,2,2003)}function qt(Il){Il=unescape(encodeURIComponent(Il));for(var Ll=new Uint8Array(Il.length),El=0;El<Il.length;++El)Ll[El]=Il.charCodeAt(El);return Ll.buffer}function Jt(Il){for(var Ll="",El=0;El<Il.length;El+=16E3)Ll+=String.fromCharCode.apply(null,Il.subarray(El,El+16E3));return Ll}function $t(Il){this.a=null,this.b=function(){this.a=null,Il()}.bind(this)}function ei(Il){Il.cancel(),Il.a=setTimeout(Il.b,500)}function ti(Il,Ll){var jl=tt.btoa(String.fromCharCode.apply(null,Il)).replace(/\+/g,"-").replace(/\//g,"_");return!(void 0!=Ll)||Ll?jl:jl.replace(/=*$/,"")}function ii(Il){Il=tt.atob(Il.replace(/-/g,"+").replace(/_/g,"/"));for(var Ll=new Uint8Array(Il.length),El=0;El<Il.length;++El)Ll[El]=Il.charCodeAt(El);return Ll}function ai(Il){for(var Ll=new Uint8Array(Il.length/2),El=0;El<Il.length;El+=2)Ll[El/2]=tt.parseInt(Il.substr(El,2),16);return Ll}function ni(Il){for(var Ll="",El=0,jl;El<Il.length;++El)jl=Il[El].toString(16),1==jl.length&&(jl="0"+jl),Ll+=jl;return Ll}function ri(Il,Ll){if(!Il&&!Ll)return!0;if(!Il||!Ll||Il.length!=Ll.length)return!1;for(var El=0;El<Il.length;++El)if(Il[El]!=Ll[El])return!1;return!0}function si(Il,Ll,El,jl){this.l=this.j=this.v=null,this.J=!1,this.b=null,this.f=new _t,this.a=[],this.o=[],this.i=new Ot,this.la=Il,this.h=null,this.g=function(ml){this.i.reject(ml),Ll(ml)}.bind(this),this.A={},this.Da=El,this.ma=jl,this.B=new $t(this.Kd.bind(this)),this.ka=this.c=!1,this.G=[],this.ja=!1,this.O=setInterval(this.Jd.bind(this),1E3),this.i["catch"](function(){})}function oi(Il,Ll){if(!Il.j)return Bt(Il.f,Ll,"encrypted",function(){this.g(new Mt(2,6,6010))}.bind(Il)),Promise.resolve();Il.l=Ll,Bt(Il.f,Il.l,"play",Il.qd.bind(Il));var El=Il.l.setMediaKeys(Il.j),El=El["catch"](function(ml){return Promise.reject(new Mt(2,6,6003,ml.message))}),jl=null;return Il.b.serverCertificate&&(jl=Il.j.setServerCertificate(Il.b.serverCertificate).then(function(){})["catch"](function(ml){return Promise.reject(new Mt(2,6,6004,ml.message))})),Promise.all([El,jl]).then(function(){return this.c?Promise.reject():void(ui(this),this.b.initData.length||this.o.length||Rt(this.f,this.l,"encrypted",this.fd.bind(this)))}.bind(Il))["catch"](function(ml){return this.c?Promise.resolve():Promise.reject(ml)}.bind(Il))}function di(Il,Ll){return Promise.all(Ll.map(function(El){return Di(this,El).then(function(jl){if(jl){for(var ml=new Ot,Al=0;Al<this.a.length;Al++)if(this.a[Al].ba==jl){this.a[Al].ia=ml;break}return Promise.all([jl.remove(),ml])}}.bind(this))}.bind(Il)))}function ui(Il){var Ll=Il.b?Il.b.initData:[];return Ll.forEach(function(El){Ti(this,El.initDataType,El.initData)}.bind(Il)),Il.o.forEach(function(El){Di(this,El)}.bind(Il)),Ll.length||Il.o.length||Il.i.resolve(),Il.i}function Mi(Il){return Il.a.map(function(Ll){return Ll.ba.sessionId})}function li(Il,Ll,El,jl,ml){var Al=pi(Il);Ll.periods.forEach(function(fl){fl.variants.forEach(function(bl){Al&&(bl.drmInfos=[Al]),bl.drmInfos.forEach(function(wl){gi(this,wl),tt.cast&&tt.cast.__platform__&&"com.microsoft.playready"==wl.keySystem&&(wl.keySystem="com.chromecast.playready");var hl=jl[wl.keySystem];hl||(hl={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:El?"required":"optional",sessionTypes:[El?"persistent-license":"temporary"],label:wl.keySystem,drmInfos:[]},jl[wl.keySystem]=hl,ml.push(wl.keySystem)),hl.drmInfos.push(wl),wl.distinctiveIdentifierRequired&&(hl.distinctiveIdentifier="required"),wl.persistentStateRequired&&(hl.persistentState="required");var xl=[];bl.video&&xl.push(bl.video),bl.audio&&xl.push(bl.audio),xl.forEach(function(Sl){var Ol="video"==Sl.type?hl.videoCapabilities:hl.audioCapabilities,Cl=("video"==Sl.type?wl.videoRobustness:wl.audioRobustness)||"",zl=Sl.mimeType;Sl.codecs&&(zl+="; codecs=\""+Sl.codecs+"\""),Ol.push({robustness:Cl,contentType:zl})}.bind(this))}.bind(this))}.bind(this))}.bind(Il))}function ci(Il,Ll,El){if(1==El.length&&""==El[0])return Promise.reject(new Mt(2,6,6E3));var jl=new Ot,ml=jl;return[!0,!1].forEach(function(Al){El.forEach(function(fl){var bl=Ll[fl];bl.drmInfos.some(function(wl){return!!wl.licenseServerUri})==Al&&(bl.audioCapabilities.length||delete bl.audioCapabilities,bl.videoCapabilities.length||delete bl.videoCapabilities,ml=ml["catch"](function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(fl,[bl])}.bind(this)))}.bind(this))}.bind(Il)),ml=ml["catch"](function(){return Promise.reject(new Mt(2,6,6001))}),ml=ml.then(function(Al){if(this.c)return Promise.reject();var fl=0<=navigator.userAgent.indexOf("Edge/"),bl=Al.getConfiguration();return this.v=(bl.audioCapabilities||[]).concat(bl.videoCapabilities||[]).map(function(wl){return wl.contentType}),fl&&(this.v=null),fl=Ll[Al.keySystem],yi(this,Al.keySystem,fl,fl.drmInfos),this.b.licenseServerUri?Al.createMediaKeys():Promise.reject(new Mt(2,6,6012))}.bind(Il)).then(function(Al){return this.c?Promise.reject():void(this.j=Al,this.J=!0)}.bind(Il))["catch"](function(Al){return this.c?Promise.resolve():(this.v=this.b=null,Al instanceof Mt?Promise.reject(Al):Promise.reject(new Mt(2,6,6002,Al.message)))}.bind(Il)),jl.reject(),ml}function gi(Il,Ll){var El=Ll.keySystem;if(El){if(!Ll.licenseServerUri){var jl=Il.h.servers[El];jl&&(Ll.licenseServerUri=jl)}Ll.keyIds||(Ll.keyIds=[]),(El=Il.h.advanced[El])&&(Ll.distinctiveIdentifierRequired||(Ll.distinctiveIdentifierRequired=El.distinctiveIdentifierRequired),Ll.persistentStateRequired||(Ll.persistentStateRequired=El.persistentStateRequired),Ll.videoRobustness||(Ll.videoRobustness=El.videoRobustness),Ll.audioRobustness||(Ll.audioRobustness=El.audioRobustness),Ll.serverCertificate||(Ll.serverCertificate=El.serverCertificate))}}function pi(Il){if(Ft(Il.h.clearKeys))return null;var Ll=[],El=[],jl;for(jl in Il.h.clearKeys){var ml=Il.h.clearKeys[jl],Al=ai(jl),ml=ai(ml),Al={kty:"oct",kid:ti(Al,!1),k:ti(ml,!1)};Ll.push(Al),El.push(Al.kid)}return Il=JSON.stringify({keys:Ll}),El=JSON.stringify({kids:El}),El=[{initData:new Uint8Array(qt(El)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+tt.btoa(Il),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:El,keyIds:[]}}function yi(Il,Ll,El,jl){var ml=[],Al=[],fl=[],bl=[];Ni(jl,ml,Al,fl,bl),Il.b={keySystem:Ll,licenseServerUri:ml[0],distinctiveIdentifierRequired:"required"==El.distinctiveIdentifier,persistentStateRequired:"required"==El.persistentState,audioRobustness:El.audioCapabilities?El.audioCapabilities[0].robustness:"",videoRobustness:El.videoCapabilities?El.videoCapabilities[0].robustness:"",serverCertificate:Al[0],initData:fl,keyIds:bl}}function Ni(Il,Ll,El,jl,ml){function Al(fl,bl){return fl.keyId&&fl.keyId==bl.keyId||fl.initDataType==bl.initDataType&&ri(fl.initData,bl.initData)}Il.forEach(function(fl){if(-1==Ll.indexOf(fl.licenseServerUri)&&Ll.push(fl.licenseServerUri),fl.serverCertificate&&-1==Ut(El,fl.serverCertificate,ri)&&El.push(fl.serverCertificate),fl.initData&&fl.initData.forEach(function(wl){-1==Ut(jl,wl,Al)&&jl.push(wl)}),fl.keyIds)for(var bl=0;bl<fl.keyIds.length;++bl)-1==ml.indexOf(fl.keyIds[bl])&&ml.push(fl.keyIds[bl])})}function Di(Il,Ll){try{var El=Il.j.createSession("persistent-license")}catch(Al){var jl=new Mt(2,6,6005,Al.message);return Il.g(jl),Promise.reject(jl)}Rt(Il.f,El,"message",Il.kc.bind(Il)),Rt(Il.f,El,"keystatuseschange",Il.ec.bind(Il));var ml={initData:null,ba:El,loaded:!1,zb:Infinity,ia:null};return Il.a.push(ml),El.load(Ll).then(function(Al){if(!this.c){if(Al)return ml.loaded=!0,this.a.every(function(fl){return fl.loaded})&&this.i.resolve(),El;this.a.splice(this.a.indexOf(ml),1),this.g(new Mt(2,6,6013))}}.bind(Il),function(Al){this.c||(this.a.splice(this.a.indexOf(ml),1),this.g(new Mt(2,6,6005,Al.message)))}.bind(Il))}function Ti(Il,Ll,El){try{var jl=Il.ka?Il.j.createSession("persistent-license"):Il.j.createSession()}catch(ml){return void Il.g(new Mt(2,6,6005,ml.message))}Rt(Il.f,jl,"message",Il.kc.bind(Il)),Rt(Il.f,jl,"keystatuseschange",Il.ec.bind(Il)),Il.a.push({initData:El,ba:jl,loaded:!1,zb:Infinity,ia:null}),jl.generateRequest(Ll,El.buffer)["catch"](function(ml){if(!this.c){for(var Al=0;Al<this.a.length;++Al)if(this.a[Al].ba==jl){this.a.splice(Al,1);break}this.g(new Mt(2,6,6006,ml.message))}}.bind(Il))}function Ii(Il,Ll){for(var El=Ll.target,ml=0,jl;ml<Il.a.length;ml++)if(Il.a[ml].ba==El){jl=Il.a[ml];break}ml=vt([Il.b.licenseServerUri],Il.h.retryParameters),ml.body=Ll.message,ml.method="POST","com.microsoft.playready"!=Il.b.keySystem&&"com.chromecast.playready"!=Il.b.keySystem||Li(ml),Il.la.request(2,ml).then(function(Al){return this.c?Promise.reject():El.update(Al.data).then(function(){jl&&(jl.ia&&jl.ia.resolve(),setTimeout(function(){jl.loaded=!0,this.a.every(function(fl){return fl.loaded})&&this.i.resolve()}.bind(this),5E3))}.bind(this))}.bind(Il),function(Al){return this.c?Promise.resolve():void(Al=new Mt(2,6,6007,Al),this.g(Al),jl&&jl.ia&&jl.ia.reject(Al))}.bind(Il))["catch"](function(Al){return this.c?Promise.resolve():void(Al=new Mt(2,6,6008,Al.message),this.g(Al),jl&&jl.ia&&jl.ia.reject(Al))}.bind(Il))}function Li(Il){var Ll=Xt(Il.body,!0,!0);if(-1==Ll.indexOf("PlayReadyKeyMessage"))Il.headers["Content-Type"]="text/xml; charset=utf-8";else{for(var Ll=new DOMParser().parseFromString(Ll,"application/xml"),El=Ll.getElementsByTagName("HttpHeader"),jl=0;jl<El.length;++jl)Il.headers[El[jl].querySelector("name").textContent]=El[jl].querySelector("value").textContent;Il.body=ii(Ll.querySelector("Challenge").textContent).buffer}}function Ei(){var Il=[],Ll=[{contentType:"video/mp4; codecs=\"avc1.42E01E\""},{contentType:"video/webm; codecs=\"vp8\""}],El=[{videoCapabilities:Ll,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:Ll}],jl={};return"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(ml){var Al=navigator.requestMediaKeySystemAccess(ml,El).then(function(fl){var bl=fl.getConfiguration().sessionTypes,bl=!!bl&&0<=bl.indexOf("persistent-license");return 0<=navigator.userAgent.indexOf("Tizen 3")&&(bl=!1),jl[ml]={persistentState:bl},fl.createMediaKeys()})["catch"](function(){jl[ml]=null});Il.push(Al)}),Promise.all(Il).then(function(){return jl})}function ji(Il,Ll){var El=Il.keySystem();return!Ll.drmInfos.length||Ll.drmInfos.some(function(jl){return jl.keySystem==El})}function mi(Il,Ll){if(!Il.length)return Ll;if(!Ll.length)return Il;for(var El=[],jl=0;jl<Il.length;jl++)for(var ml=0;ml<Ll.length;ml++)if(Il[jl].keySystem==Ll[ml].keySystem){var Al=Il[jl],ml=Ll[ml],fl=[],fl=fl.concat(Al.initData||[]),fl=fl.concat(ml.initData||[]),bl=[],bl=bl.concat(Al.keyIds),bl=bl.concat(ml.keyIds);El.push({keySystem:Al.keySystem,licenseServerUri:Al.licenseServerUri||ml.licenseServerUri,distinctiveIdentifierRequired:Al.distinctiveIdentifierRequired||ml.distinctiveIdentifierRequired,persistentStateRequired:Al.persistentStateRequired||ml.persistentStateRequired,videoRobustness:Al.videoRobustness||ml.videoRobustness,audioRobustness:Al.audioRobustness||ml.audioRobustness,serverCertificate:Al.serverCertificate||ml.serverCertificate,initData:fl,keyIds:bl});break}return El}function Ai(Il){this.f=null,this.c=Il,this.h=0,this.g=Infinity,this.a=this.b=null}function fi(Il,Ll){fM[Il]=Ll.length?xi.bind(null,Ll):Ll}function bi(Il,Ll,El){return Il>=Ll?null:new VTTCue(Il,Ll,El)}function wi(Il,Ll,El,jl){return Promise.resolve().then(function(){if(this.c)if(null==El||null==jl)this.f.parseInit(Ll);else{for(var ml=this.f.parseMedia(Ll,{periodStart:this.h,segmentStart:El,segmentEnd:jl}),Al=0;Al<ml.length&&!(ml[Al].startTime>=this.g);++Al)this.c.addCue(ml[Al]);null==this.b&&(this.b=El),this.a=Math.min(jl,this.g)}}.bind(Il))}function hi(Il,Ll){for(var El=Il.c.cues,jl=[],ml=0;ml<El.length;++ml)Ll(El[ml])&&jl.push(El[ml]);for(ml=0;ml<jl.length;++ml)Il.c.removeCue(jl[ml])}function xi(Il){this.Oa=Il}function Si(Il){return!Il||1==Il.length&&1E-6>Il.end(0)-Il.start(0)?null:Il.length?Il.end(Il.length-1):null}function Oi(Il,Ll){return Il&&Il.length&&(1!=Il.length||!(1E-6>Il.end(0)-Il.start(0)))&&Ll>=Il.start(0)&&Ll<=Il.end(Il.length-1)}function Ci(Il,Ll){if(!Il||!Il.length||1==Il.length&&1E-6>Il.end(0)-Il.start(0))return 0;for(var El=0,jl=Il.length-1;0<=jl&&Il.end(jl)>Ll;--jl)El+=Il.end(jl)-Math.max(Il.start(jl),Ll);return El}function zi(Il,Ll,El){this.f=Il,this.N=Ll,this.i=El,this.c={},this.a=null,this.b={},this.g=new _t,this.h=!1}function vi(){var Il={};return"video/mp4; codecs=\"avc1.42E01E\",video/mp4; codecs=\"avc3.42E01E\",video/mp4; codecs=\"hvc1.1.6.L93.90\",audio/mp4; codecs=\"mp4a.40.2\",audio/mp4; codecs=\"ac-3\",audio/mp4; codecs=\"ec-3\",video/webm; codecs=\"vp8\",video/webm; codecs=\"vp9\",video/webm; codecs=\"av1\",audio/webm; codecs=\"vorbis\",audio/webm; codecs=\"opus\",video/mp2t; codecs=\"avc1.42E01E\",video/mp2t; codecs=\"avc3.42E01E\",video/mp2t; codecs=\"hvc1.1.6.L93.90\",video/mp2t; codecs=\"mp4a.40.2\",video/mp2t; codecs=\"ac-3\",video/mp2t; codecs=\"ec-3\",video/mp2t; codecs=\"mp4a.40.2\",text/vtt,application/mp4; codecs=\"wvtt\",application/ttml+xml,application/mp4; codecs=\"stpp\"".split(",").forEach(function(Ll){Il[Ll]=!!fM[Ll]||MediaSource.isTypeSupported(Ll);var El=Ll.split(";")[0];Il[El]=Il[El]||Il[Ll]}),Il}function ki(Il,Ll){Il.a||(Il.a=new Ai(Il.i)),Il.a.f=new fM[Ll]}function Ui(Il,Ll){if("text"==Ll)var El=Il.a.b;else El=Qi(Il,Ll),El=!El||1==El.length&&1E-6>El.end(0)-El.start(0)?null:1==El.length&&0>El.start(0)?0:El.length?El.start(0):null;return El}function Qi(Il,Ll){try{return Il.c[Ll].buffered}catch(El){return null}}function _i(Il,Ll,El,jl,ml){return"text"==Ll?wi(Il.a,El,jl,ml):Yi(Il,Ll,Il.je.bind(Il,Ll,El))}function Ri(Il,Ll){return"text"==Ll?Il.a.remove(0,Infinity):Yi(Il,Ll,Il.qc.bind(Il,Ll,0,Il.N.duration))}function Bi(Il,Ll,El,jl){return"text"==Ll?(Il.a.h=El,null!=jl&&(Il.a.g=jl),Promise.resolve()):(null==jl&&(jl=Infinity),Promise.all([Yi(Il,Ll,Il.Ec.bind(Il,Ll)),Yi(Il,Ll,Il.$d.bind(Il,Ll,El)),Yi(Il,Ll,Il.Yd.bind(Il,Ll,jl))]))}function Yi(Il,Ll,El){if(Il.h)return Promise.reject();if(El={start:El,p:new Ot},Il.b[Ll].push(El),1==Il.b[Ll].length)try{El.start()}catch(jl){"QuotaExceededError"==jl.name?El.p.reject(new Mt(2,3,3017,Ll)):El.p.reject(new Mt(2,3,3015,jl)),Fi(Il,Ll)}return El.p}function Pi(Il,Ll){if(Il.h)return Promise.reject();var El=[],jl;for(jl in Il.c){var ml=new Ot,Al={start:function(fl){fl.resolve()}.bind(null,ml),p:ml};Il.b[jl].push(Al),El.push(ml),1==Il.b[jl].length&&Al.start()}return Promise.all(El).then(function(){try{Ll()}catch(wl){var bl=Promise.reject(new Mt(2,3,3015,wl))}for(var fl in this.c)Fi(this,fl);return bl}.bind(Il),function(){return Promise.reject()}.bind(Il))}function Fi(Il,Ll){Il.b[Ll].shift();var El=Il.b[Ll][0];if(El)try{El.start()}catch(jl){El.p.reject(new Mt(2,3,3015,jl)),Fi(Il,Ll)}}function Gi(Il,Ll,El){return El==Ll||Il>=bM&&El==Ll.split("-")[0]||Il>=wM&&El.split("-")[0]==Ll.split("-")[0]}function Vi(Il){Il=Il.toLowerCase().split("-");var Ll=hM[Il[0]];return Ll&&(Il[0]=Ll),Il.join("-")}function Hi(Il,Ll,El){var jl=Il.video;return jl&&(jl.width<Ll.minWidth||jl.width>Ll.maxWidth||jl.width>El.width||jl.height<Ll.minHeight||jl.height>Ll.maxHeight||jl.height>El.height||jl.width*jl.height<Ll.minPixels||jl.width*jl.height>Ll.maxPixels)||Il.bandwidth<Ll.minBandwidth||Il.bandwidth>Ll.maxBandwidth?!1:!0}function Wi(Il,Ll,El){var jl=!1;return Il.variants.forEach(function(ml){var Al=ml.allowedByApplication;ml.allowedByApplication=Hi(ml,Ll,El),Al!=ml.allowedByApplication&&(jl=!0)}),jl}function Zi(Il,Ll,El){var jl=Ll.video,ml=Ll.audio;for(Ll=0;Ll<El.variants.length;++Ll){var Al=El.variants[Ll],fl=Il;(fl&&fl.J&&!ji(fl,Al)?0:Xi(Al.audio,fl,ml)&&Xi(Al.video,fl,jl))||(El.variants.splice(Ll,1),--Ll)}for(Ll=0;Ll<El.textStreams.length;++Ll)Il=El.textStreams[Ll],fM[rn(Il.mimeType,Il.codecs)]||(El.textStreams.splice(Ll,1),--Ll)}function Xi(Il,Ll,El){if(!Il)return!0;var jl=null;return Ll&&Ll.J&&(jl=Ll.v),Ll=rn(Il.mimeType,Il.codecs),!fM[Ll]&&!MediaSource.isTypeSupported(Ll)||jl&&Il.encrypted&&0>jl.indexOf(Ll)||El&&(Il.mimeType!=El.mimeType||Il.codecs.split(".")[0]!=El.codecs.split(".")[0])?!1:!0}function Ki(Il,Ll,El){var jl=null;return _a(Il.variants).map(function(ml){var Al=ml.video&&ml.audio?El==ml.video.id&&Ll==ml.audio.id:ml.video&&El==ml.video.id||ml.audio&&Ll==ml.audio.id;var fl="";ml.video&&(fl+=ml.video.codecs),ml.audio&&(""!=fl&&(fl+=", "),fl+=ml.audio.codecs,jl=ml.audio.label);var bl=ml.audio?ml.audio.codecs:null,wl=ml.video?ml.video.codecs:null,hl=null;ml.video?hl=ml.video.mimeType:ml.audio&&(hl=ml.audio.mimeType);var xl=null;ml.audio?xl=ml.audio.kind:ml.video&&(xl=ml.video.kind);var Sl=kt((ml.audio?ml.audio.roles:[]).concat(ml.video?ml.video.roles:[]));return{id:ml.id,active:Al,type:"variant",bandwidth:ml.bandwidth,language:ml.language,label:jl,kind:xl||null,width:ml.video?ml.video.width:null,height:ml.video?ml.video.height:null,frameRate:ml.video?ml.video.frameRate:void 0,mimeType:hl,codecs:fl,audioCodec:bl,videoCodec:wl,primary:ml.primary,roles:Sl,videoId:ml.video?ml.video.id:null,audioId:ml.audio?ml.audio.id:null}})}function qi(Il,Ll){return Il.textStreams.map(function(El){return{id:El.id,active:Ll==El.id,type:"text",language:El.language,label:El.label,kind:El.kind,mimeType:El.mimeType,codecs:El.codecs||null,audioCodec:null,videoCodec:null,primary:El.primary,roles:El.roles}})}function Ji(Il,Ll){for(var El=0;El<Il.variants.length;El++)if(Il.variants[El].id==Ll.id)return Il.variants[El];return null}function $i(Il,Ll){for(var El=0;El<Il.textStreams.length;El++)if(Il.textStreams[El].id==Ll.id)return Il.textStreams[El];return null}function _a(Il){return Il.filter(function(Ll){return Ll.allowedByApplication&&Ll.allowedByKeySystem})}function en(Il,Ll,El,jl){var ml=_a(Il.variants),Al=ml.filter(function(wl){return wl.language==ml[0].language});if(Il=ml.filter(function(wl){return wl.primary}),Il.length&&(Al=Il),Ll){var fl=Vi(Ll);[wM,bM,0].forEach(function(wl){var hl=!1;ml.forEach(function(xl){fl=Vi(fl);var Sl=Vi(xl.language);Gi(wl,fl,Sl)&&(hl?Al.push(xl):(Al=[xl],hl=!0),El&&(El.audio=!0))})})}var bl=jl||"";return bl&&(Ll=Al.filter(function(wl){return wl.audio&&-1<wl.audio.roles.indexOf(bl)||wl.video&&-1<wl.video.roles.indexOf(bl)}),Ll.length)?Ll:Al}function tn(Il,Ll,El,jl){var ml=Il.textStreams,Al=ml;if(Il=ml.filter(function(wl){return wl.primary}),Il.length&&(Al=Il),Ll){var fl=Vi(Ll);[wM,bM,0].forEach(function(wl){var hl=!1;ml.forEach(function(xl){var Sl=Vi(xl.language);Gi(wl,fl,Sl)&&(hl?Al.push(xl):(Al=[xl],hl=!0),El&&(El.text=!0))})})}var bl=jl||"";return bl&&(Ll=Al.filter(function(wl){return wl&&-1<wl.roles.indexOf(bl)}),Ll.length)?Ll:Al}function an(Il,Ll,El){for(var jl=0;jl<El.length;jl++)if(El[jl].audio==Il&&El[jl].video==Ll)return El[jl];return null}function nn(Il,Ll,El){function jl(Al,fl){return null==Al?null==fl:fl.id==Al}for(var ml=0;ml<El.length;ml++)if(jl(Il,El[ml].audio)&&jl(Ll,El[ml].video))return El[ml];return null}function rn(Il,Ll){var El=Il;return Ll&&(El+="; codecs=\""+Ll+"\""),El}function sn(Il,Ll){for(var El=Il.periods.length-1;0<El;--El)if(Ll+mM>=Il.periods[El].startTime)return El;return 0}function dn(Il,Ll){for(var El=0,jl;El<Il.periods.length;++El)if(jl=Il.periods[El],"text"==Ll.type){for(var ml=0;ml<jl.textStreams.length;++ml)if(jl.textStreams[ml]==Ll)return El;}else for(ml=0;ml<jl.variants.length;++ml){var Al=jl.variants[ml];if(Al.audio==Ll||Al.video==Ll||Al.video&&Al.video.trickModeVideo==Ll)return El}return-1}function un(){this.f=null,this.b=!1,this.a=new ot,this.h=[],this.g=[],this.j=!1,this.c=null,this.i={minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}}function Mn(Il,Ll){return Ll.filter(function(El){return Hi(El,Il,{width:Infinity,height:Infinity})}).sort(function(El,jl){return El.bandwidth-jl.bandwidth})}function ln(Il,Ll){var El=Ll||{},jl;for(jl in El)this[jl]=El[jl];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=tt.performance&&tt.performance.now?tt.performance.now():Date.now(),this.type=Il,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function cn(Il){return JSON.stringify(Il,function(Ll,El){if("manager"!=Ll&&"function"!=typeof El){if(El instanceof Event||El instanceof ln){var jl={},ml;for(ml in El){var Al=El[ml];Al&&"object"==typeof Al||ml in Event||(jl[ml]=Al)}return jl}if(El instanceof TimeRanges)for(jl={__type__:"TimeRanges",length:El.length,start:[],end:[]},ml=0;ml<El.length;++ml)jl.start.push(El.start(ml)),jl.end.push(El.end(ml));else jl="number"==typeof El?isNaN(El)?"NaN":isFinite(El)?El:0>El?"-Infinity":"Infinity":El;return jl}})}function gn(Il){return JSON.parse(Il,function(Ll,El){return"NaN"==El?NaN:"-Infinity"==El?-Infinity:"Infinity"==El?Infinity:El&&"object"==typeof El&&"TimeRanges"==El.__type__?pn(El):El})}function pn(Il){return{length:Il.length,start:function(Ll){return Il.start[Ll]},end:function(Ll){return Il.end[Ll]}}}function yn(Il,Ll,El,jl,ml){this.J=Il,this.l=Ll,this.B=El,this.G=jl,this.v=ml,this.c=this.j=this.h=!1,this.A="",this.a=this.i=null,this.b={video:{},player:{}},this.o=0,this.f={},this.g=null}function Nn(Il){for(var Ll in Il.f){var El=Il.f[Ll];delete Il.f[Ll],El.reject(new Mt(1,7,7E3))}}function Dn(Il,Ll){var El=cn(Ll);Il.a.sendMessage("urn:x-cast:com.google.shaka.v2",El,function(){},ut)}function Tn(){this.nb=new Qt,this.Ua=this}function In(Il,Ll,El){Tn.call(this),this.c=Il,this.b=Ll,this.h=this.f=this.g=this.i=this.j=null,this.a=new yn(El,this.fe.bind(this),this.ge.bind(this),this.he.bind(this),this.Vb.bind(this)),Ln(this)}function Ln(Il){for(var Ll in Il.a.init(),Il.h=new _t,xM.forEach(function(El){Rt(this.h,this.c,El,this.ue.bind(this))}.bind(Il)),zM.forEach(function(El){Rt(this.h,this.b,El,this.Id.bind(this))}.bind(Il)),Il.j={},Il.c)Object.defineProperty(Il.j,Ll,{configurable:!1,enumerable:!0,get:Il.te.bind(Il,Ll),set:Il.ve.bind(Il,Ll)});for(Ll in Il.i={},Il.b)Object.defineProperty(Il.i,Ll,{configurable:!1,enumerable:!0,get:Il.Hd.bind(Il,Ll)});Il.g=new Tn,Il.g.Ua=Il.j,Il.f=new Tn,Il.f.Ua=Il.i}function En(Il,Ll,El,jl){Tn.call(this),this.a=Il,this.b=Ll,this.j={video:Il,player:Ll},this.l=El||function(){},this.o=jl||function(ml){return ml},this.i=!1,this.f=!0,this.h=this.g=this.c=null,jn(this)}function jn(Il){var Ll=cast.receiver.CastReceiverManager.getInstance();Ll.onSenderConnected=Il.jc.bind(Il),Ll.onSenderDisconnected=Il.jc.bind(Il),Ll.onSystemVolumeChanged=Il.Mc.bind(Il),Il.g=Ll.getCastMessageBus("urn:x-cast:com.google.cast.media"),Il.g.onMessage=Il.hd.bind(Il),Il.c=Ll.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),Il.c.onMessage=Il.vd.bind(Il),Ll.start(),xM.forEach(function(El){this.a.addEventListener(El,this.mc.bind(this,"video"))}.bind(Il)),zM.forEach(function(El){this.b.addEventListener(El,this.mc.bind(this,"player"))}.bind(Il)),cast.__platform__&&cast.__platform__.canDisplayType("video/mp4; codecs=\"avc1.640028\"; width=3840; height=2160")?Il.b.Jb(3840,2160):Il.b.Jb(1920,1080),Il.b.addEventListener("loading",function(){this.f=!1,mn(this)}.bind(Il)),Il.a.addEventListener("playing",function(){this.f=!1,mn(this)}.bind(Il)),Il.a.addEventListener("pause",function(){mn(this)}.bind(Il)),Il.b.addEventListener("unloading",function(){this.f=!0,mn(this)}.bind(Il)),Il.a.addEventListener("ended",function(){tt.setTimeout(function(){this.a&&this.a.ended&&(this.f=!0,mn(this))}.bind(this),5E3)}.bind(Il))}function mn(Il){Promise.resolve().then(function(){this.dispatchEvent(new ln("caststatuschanged")),hn(this,0)}.bind(Il))}function An(Il,Ll,El){for(var jl in Ll.player)Il.b[jl](Ll.player[jl]);Il.l(El),El=Promise.resolve();var ml=Il.a.autoplay;Ll.manifest&&(Il.a.autoplay=!1,El=Il.b.load(Ll.manifest,Ll.startTime),El["catch"](function(Al){this.b.dispatchEvent(new ln("error",{detail:Al}))}.bind(Il))),El.then(function(){for(var Al in Ll.video){var fl=Ll.video[Al];this.a[Al]=fl}for(Al in Ll.playerAfterLoad)fl=Ll.playerAfterLoad[Al],this.b[Al](fl);this.a.autoplay=ml,Ll.manifest&&(this.a.play(),hn(this,0))}.bind(Il))}function wn(Il,Ll,El,jl){Il.i&&(Il=cn(Ll),jl?El.getCastChannel(jl).send(Il):El.broadcast(Il))}function hn(Il,Ll,El){var jl=RM,jl={mediaSessionId:0,playbackRate:Il.a.playbackRate,playerState:Il.f?jl.IDLE:Il.b.la?jl.Ac:Il.a.paused?jl.Bc:jl.Cc,currentTime:Il.a.currentTime,supportedMediaCommands:15,volume:{level:Il.a.volume,muted:Il.a.muted}};El&&(jl.media=El),wn(Il,{requestId:Ll,type:"MEDIA_STATUS",status:[jl]},Il.g)}function xn(Il,Ll){var El=Sn(Il,Ll);return 1==El.length?El[0]:null}function Sn(Il,Ll){return Array.prototype.filter.call(Il.childNodes,function(El){return El.tagName==Ll})}function On(Il){var Ll=Il.firstChild;return Ll&&Ll.nodeType==Node.TEXT_NODE?Il.textContent.trim():null}function Cn(Il,Ll,El,jl){var ml=null;return Il=Il.getAttribute(Ll),null!=Il&&(ml=El(Il)),null==ml?void 0==jl?null:jl:ml}function zn(Il){return Il?(/^\d+\-\d+\-\d+T\d+:\d+:\d+(\.\d+)?$/.test(Il)&&(Il+="Z"),Il=Date.parse(Il),isNaN(Il)?null:Math.floor(Il/1E3)):null}function vn(Il){return Il?(Il=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(Il),!Il)?null:(Il=31536E3*+(Il[1]||null)+2592E3*+(Il[2]||null)+86400*+(Il[3]||null)+3600*+(Il[4]||null)+60*+(Il[5]||null)+ +(Il[6]||null),isFinite(Il)?Il:null):null}function kn(Il){var Ll=/([0-9]+)-([0-9]+)/.exec(Il);return Ll?(Il=+Ll[1],!isFinite(Il))?null:(Ll=+Ll[2],isFinite(Ll)?{start:Il,end:Ll}:null):null}function Un(Il){return Il=+Il,Il%1?null:Il}function Qn(Il){return Il=+Il,!(Il%1)&&0<Il?Il:null}function _n(Il){return Il=+Il,!(Il%1)&&0<=Il?Il:null}function Rn(Il){var Ll;return Il=(Ll=Il.match(/^(\d+)\/(\d+)$/))?+(Ll[1]/Ll[2]):+Il,isNaN(Il)?null:Il}function Bn(Il,Ll,El){Il=Fn(Il);var jl=null,ml=null,Al=[],fl=[],bl=Il.map(function(wl){return wl.keyId}).filter(mt);if(0<bl.length&&(ml=bl[0],bl.some(At(ml))))throw new Mt(2,4,4010);return El||(fl=Il.filter(function(wl){return"urn:mpeg:dash:mp4protection:2011"!=wl.sc||(jl=wl.init||jl,!1)}),0<fl.length&&(Al=Pn(jl,Ll,fl),Al.length||(Al=[ht("",jl)]))),0<Il.length&&(El||!fl.length)&&(Al=Gt(BM).map(function(wl){return ht(wl,jl)})),ml&&Al.forEach(function(wl){wl.initData.forEach(function(hl){hl.keyId=ml})}),{Sb:ml,Ae:jl,drmInfos:Al,Ub:!0}}function Yn(Il,Ll,El,jl){var ml=Bn(Il,Ll,jl);if(El.Ub)Il=1==El.drmInfos.length&&!El.drmInfos[0].keySystem,Ll=!ml.drmInfos.length,El.drmInfos.length&&(!Il||Ll)||(El.drmInfos=ml.drmInfos),El.Ub=!1;else if(0<ml.drmInfos.length&&(El.drmInfos=El.drmInfos.filter(function(Al){return ml.drmInfos.some(function(fl){return fl.keySystem==Al.keySystem})}),!El.drmInfos.length))throw new Mt(2,4,4008);return ml.Sb||El.Sb}function Pn(Il,Ll,El){return El.map(function(jl){var ml=BM[jl.sc];return ml?[ht(ml,jl.init||Il)]:Ll(jl.node)||[]}).reduce(Et,[])}function Fn(Il){return Il.map(function(Ll){var El=Ll.getAttribute("schemeIdUri"),jl=Ll.getAttribute("cenc:default_KID"),ml=Sn(Ll,"cenc:pssh").map(On);if(!El)return null;if(El=El.toLowerCase(),jl&&(jl=jl.replace(/-/g,"").toLowerCase(),0<=jl.indexOf(" ")))throw new Mt(2,4,4009);var Al=[];try{Al=ml.map(function(fl){return{initDataType:"cenc",initData:ii(fl),keyId:null}})}catch(fl){throw new Mt(2,4,4007)}return{node:Ll,sc:El,keyId:jl,init:0<Al.length?Al:null}}).filter(mt)}function Gn(Il,Ll,El,jl,ml){null!=ml&&(ml=Math.round(ml));var Al={RepresentationID:Ll,Number:El,Bandwidth:jl,Time:ml};return Il.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\$/g,function(fl,bl,wl){if("$$"==fl)return"$";var hl=Al[bl];return null==hl?fl:("RepresentationID"==bl&&wl&&(wl=void 0),fl=hl.toString(),wl=tt.parseInt(wl,10)||1,Array(Math.max(0,wl-fl.length)+1).join("0")+fl)})}function Vn(Il,Ll){var El=Hn(Il,Ll,"timescale"),jl=1;El&&(jl=Qn(El)||1),El=Hn(Il,Ll,"duration"),(El=Qn(El||""))&&(El/=jl);var ml=Hn(Il,Ll,"startNumber"),Al=Hn(Il,Ll,"presentationTimeOffset"),fl=_n(ml||"");(null==ml||null==fl)&&(fl=1);var bl=Wn(Il,Ll,"SegmentTimeline"),ml=null;if(bl){for(var ml=jl,hl=Il.R.duration||Infinity,bl=Sn(bl,"S"),xl=[],Sl=0,Ol=0;Ol<bl.length;++Ol){var Cl=bl[Ol],zl=Cn(Cl,"t",_n),vl=Cn(Cl,"d",_n),Cl=Cn(Cl,"r",Un);if(null!=zl&&(zl-=+Al),!vl)break;if(zl=null==zl?Sl:zl,Cl=Cl||0,0>Cl)if(Ol+1<bl.length){if(Cl=Cn(bl[Ol+1],"t",_n),null==Cl)break;else if(zl>=Cl)break;Cl=Math.ceil((Cl-zl)/vl)-1}else{if(Infinity==hl)break;else if(zl/ml>=hl)break;Cl=Math.ceil((hl*ml-zl)/vl)-1}0<xl.length&&zl!=Sl&&(xl[xl.length-1].end=zl/ml);for(var kl=0;kl<=Cl;++kl)Sl=zl+vl,xl.push({start:zl/ml,end:Sl/ml,re:zl}),zl=Sl}ml=xl}return{timescale:jl,P:El,Aa:fl,presentationTimeOffset:+Al/jl||0,Pb:+Al,F:ml}}function Hn(Il,Ll,El){return[Ll(Il.w),Ll(Il.S),Ll(Il.T)].filter(mt).map(function(jl){return jl.getAttribute(El)}).reduce(function(jl,ml){return jl||ml})}function Wn(Il,Ll,El){return[Ll(Il.w),Ll(Il.S),Ll(Il.T)].filter(mt).map(function(jl){return xn(jl,El)}).reduce(function(jl,ml){return jl||ml})}function Zn(Il,Ll,El){this.a=Il,this.X=Ll,this.M=El}function Xn(Il,Ll,El,jl,ml,Al){this.position=Il,this.startTime=Ll,this.endTime=El,this.a=jl,this.X=ml,this.M=Al}function Kn(Il,Ll){this.H=Il,this.a=Ll==YM,this.u=0}function qn(){throw new Mt(2,3,3E3)}function Jn(){this.b=[],this.a=[]}function $n(Il){for(;Il.s.Z();)Il.Oa.fb(Il.start,Il.s)}function er(Il){for(var Ll=Il.s.D();0<Ll;--Ll)Il.Oa.fb(Il.start,Il.s)}function tr(Il){return function(Ll){Il(Ll.s.La(Ll.s.H.byteLength-Ll.s.u))}}function ir(Il){for(var Ll=0,El=0;El<Il.length;El++)Ll=Ll<<8|Il.charCodeAt(El);return Ll}function ar(Il,Ll,El,jl){var Al=new Jn().da("sidx",function(fl){ml=nr(Ll,jl,El,fl)}),ml;if(Il&&Al.parse(Il),ml)return ml;throw new Mt(2,3,3004)}function nr(Il,Ll,El,jl){var ml=[];jl.s.I(4);var Al=jl.s.D();if(!Al)throw new Mt(2,3,3005);if(jl.version)var fl=jl.s.Qa(),bl=jl.s.Qa();else fl=jl.s.D(),bl=jl.s.D();jl.s.I(2);var wl=jl.s.oc();for(Ll=fl-Ll,Il=Il+jl.size+bl,bl=0;bl<wl;bl++){var hl=jl.s.D();fl=(2147483648&hl)>>>31;var hl=2147483647&hl,xl=jl.s.D();if(jl.s.I(4),1==fl)throw new Mt(2,3,3006);ml.push(new Xn(ml.length,Ll/Al,(Ll+xl)/Al,function(){return El},Il,Il+hl-1)),Ll+=xl,Il+=hl}return ml}function rr(Il){this.a=Il}function sr(Il,Ll){if(Il.a.length){var El=Il.a[Il.a.length-1];El.startTime>Ll||(Il.a[Il.a.length-1]=new Xn(El.position,El.startTime,Ll,El.a,El.X,El.M))}}function or(Il){this.b=Il,this.a=new Kn(Il,0),PM||(PM=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function dr(Il){var Ll=ur(Il);if(7<Ll.length)throw new Mt(2,3,3002);for(var El=0,jl=0;jl<Ll.length;jl++)El=256*El+Ll[jl];Ll=El,El=ur(Il);a:{for(jl=0;jl<PM.length;jl++)if(ri(El,PM[jl])){jl=!0;break a}jl=!1}if(jl)El=Il.b.byteLength-Il.a.u;else{if(8==El.length&&224&El[1])throw new Mt(2,3,3001);for(var jl=El[0]&(1<<8-El.length)-1,ml=1;ml<El.length;ml++)jl=256*jl+El[ml];El=jl}return El=Il.a.u+El<=Il.b.byteLength?El:Il.b.byteLength-Il.a.u,jl=new DataView(Il.b.buffer,Il.b.byteOffset+Il.a.u,El),Il.a.I(El),new Mr(Ll,jl)}function ur(Il){var Ll=Il.a.Eb(),El;for(El=1;8>=El&&!(Ll&1<<8-El);El++);if(8<El)throw new Mt(2,3,3002);var jl=new Uint8Array(El);for(jl[0]=Ll,Ll=1;Ll<El;Ll++)jl[Ll]=Il.a.Eb();return jl}function Mr(Il,Ll){this.id=Il,this.a=Ll}function cr(Il){if(8<Il.a.byteLength)throw new Mt(2,3,3002);if(8==Il.a.byteLength&&224&Il.a.getUint8(0))throw new Mt(2,3,3001);for(var Ll=0,El=0;El<Il.a.byteLength;El++)var jl=Il.a.getUint8(El),Ll=256*Ll+jl;return Ll}function gr(){}function pr(Il,Ll,El,jl,ml,Al){function fl(){return ml}var bl=[];Il=new or(Il.a);for(var wl=-1,hl=-1,xl;Il.Z();)if(xl=dr(Il),187==xl.id){var Sl=yr(xl);Sl&&(xl=El*(Sl.se-Al),Sl=Ll+Sl.Nd,0<=wl&&bl.push(new Xn(bl.length,wl,xl,fl,hl,Sl-1)),wl=xl,hl=Sl)}return 0<=wl&&bl.push(new Xn(bl.length,wl,jl,fl,hl,null)),bl}function yr(Il){var Ll=new or(Il.a);if(Il=dr(Ll),179!=Il.id)throw new Mt(2,3,3013);if(Il=cr(Il),Ll=dr(Ll),183!=Ll.id)throw new Mt(2,3,3012);for(var Ll=new or(Ll.a),El=0,jl;Ll.Z();)if(jl=dr(Ll),241==jl.id){El=cr(jl);break}return{se:Il,Nd:El}}function Nr(Il,Ll){var El=Wn(Il,Ll,"Initialization");if(!El)return null;var jl=Il.w.U,ml=El.getAttribute("sourceURL");ml&&(jl=wt(Il.w.U,[ml]));var ml=0,Al=null;return(El=Cn(El,"range",kn))&&(ml=El.start,Al=El.end),new Zn(function(){return jl},ml,Al)}function Dr(Il,Ll){var El=Hn(Il,Ir,"presentationTimeOffset"),jl=Nr(Il,Ir),ml=+El,Al=Il.w.contentType,fl=Il.w.mimeType.split("/")[1];if("text"!=Al&&"mp4"!=fl&&"webm"!=fl)throw new Mt(2,4,4006);if("webm"==fl&&!jl)throw new Mt(2,4,4005);var Al=Wn(Il,Ir,"RepresentationIndex"),bl=Hn(Il,Ir,"indexRange"),wl=Il.w.U,bl=kn(bl||"");if(Al){var hl=Al.getAttribute("sourceURL");hl&&(wl=wt(Il.w.U,[hl])),bl=Cn(Al,"range",kn,bl)}if(!bl)throw new Mt(2,4,4002);return ml=Tr(Il,Ll,jl,wl,bl.start,bl.end,fl,ml),{createSegmentIndex:ml.createSegmentIndex,findSegmentPosition:ml.findSegmentPosition,getSegmentReference:ml.getSegmentReference,initSegmentReference:jl,presentationTimeOffset:+El||0}}function Tr(Il,Ll,El,jl,ml,Al,fl,bl){var wl=Il.presentationTimeline,hl=!Il.Ea||!Il.R.ub,xl=Il.R.duration,Sl=Ll,Ol=null;return{createSegmentIndex:function(){var Cl=[Sl(jl,ml,Al),"webm"==fl?Sl(El.a(),El.X,El.M):null];return Sl=null,Promise.all(Cl).then(function(zl){var vl=zl[0];zl=zl[1]||null,vl="mp4"==fl?ar(vl,ml,jl,bl):new gr().parse(vl,zl,jl,bl),wl.Ia(0,vl),Ol=new rr(vl),hl&&sr(Ol,xl)})},findSegmentPosition:function(Cl){return Ol.find(Cl)},getSegmentReference:function(Cl){return Ol.get(Cl)}}}function Ir(Il){return Il.Ra}function Lr(Il,Ll){var El=Nr(Il,Er),jl=mr(Il),ml=Vn(Il,Er),Al=ml.Aa;Al||(Al=1);var fl=0;if(ml.P?fl=ml.P*(Al-1):ml.F&&0<ml.F.length&&(fl=ml.F[0].start),jl={P:ml.P,startTime:fl,Aa:Al,presentationTimeOffset:ml.presentationTimeOffset,F:ml.F,Ha:jl},!jl.P&&!jl.F&&1<jl.Ha.length)throw new Mt(2,4,4002);if(!jl.P&&!Il.R.duration&&!jl.F&&1==jl.Ha.length)throw new Mt(2,4,4002);if(jl.F&&!jl.F.length)throw new Mt(2,4,4002);return Al=ml=null,Il.T.id&&Il.w.id&&(Al=Il.T.id+","+Il.w.id,ml=Ll[Al]),fl=jr(Il.R.duration,jl.Aa,Il.w.U,jl),ml?(ml.xb(fl),ml.qb(Il.presentationTimeline.na()-Il.R.start)):(Il.presentationTimeline.Ia(0,fl),ml=new rr(fl),Al&&Il.Ea&&(Ll[Al]=ml)),Il.Ea&&Il.R.ub||sr(ml,Il.R.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:ml.find.bind(ml),getSegmentReference:ml.get.bind(ml),initSegmentReference:El,presentationTimeOffset:jl.presentationTimeOffset}}function Er(Il){return Il.pa}function jr(Il,Ll,El,jl){var ml=jl.Ha.length;jl.F&&jl.F.length!=jl.Ha.length&&(ml=Math.min(jl.F.length,jl.Ha.length));for(var Al=[],fl=jl.startTime,bl=0;bl<ml;bl++){var wl=jl.Ha[bl],hl=wt(El,[wl.cd]),xl=null==jl.P?jl.F?jl.F[bl].end:fl+Il:fl+jl.P;Al.push(new Xn(bl+Ll,fl,xl,function(Sl){return Sl}.bind(null,hl),wl.start,wl.end)),fl=xl}return Al}function mr(Il){return[Il.w.pa,Il.S.pa,Il.T.pa].filter(mt).map(function(Ll){return Sn(Ll,"SegmentURL")}).reduce(function(Ll,El){return 0<Ll.length?Ll:El}).map(function(Ll){Ll.getAttribute("indexRange")&&!Il.$b&&(Il.$b=!0);var El=Ll.getAttribute("media");return Ll=Cn(Ll,"mediaRange",kn,{start:0,end:null}),{cd:El,start:Ll.start,end:Ll.end}})}function Ar(Il,Ll,El,jl){var ml=hr(Il),Al=Vn(Il,fr),fl=Hn(Il,fr,"media"),bl=Hn(Il,fr,"index");if(Al={P:Al.P,timescale:Al.timescale,Aa:Al.Aa,presentationTimeOffset:Al.presentationTimeOffset,Pb:Al.Pb,F:Al.F,wb:fl,Na:bl},fl=0+(Al.Na?1:0),fl+=Al.F?1:0,fl+=Al.P?1:0,!fl)throw new Mt(2,4,4002);if(1!=fl&&(Al.Na&&(Al.F=null),Al.P=null),!Al.Na&&!Al.wb)throw new Mt(2,4,4002);if(Al.Na){if(El=Il.w.mimeType.split("/")[1],"mp4"!=El&&"webm"!=El)throw new Mt(2,4,4006);if("webm"==El&&!ml)throw new Mt(2,4,4005);jl=Gn(Al.Na,Il.w.id,null,Il.bandwidth||null,null),jl=wt(Il.w.U,[jl]),Il=Tr(Il,Ll,ml,jl,0,null,El,Al.presentationTimeOffset)}else Al.P?(jl||Il.presentationTimeline.yb(Al.P),Il=br(Il,Al)):(jl=Ll=null,Il.T.id&&Il.w.id&&(jl=Il.T.id+","+Il.w.id,Ll=El[jl]),fl=wr(Il,Al),Ll?(Ll.xb(fl),Ll.qb(Il.presentationTimeline.na()-Il.R.start)):(Il.presentationTimeline.Ia(0,fl),Ll=new rr(fl),jl&&Il.Ea&&(El[jl]=Ll)),Il.Ea&&Il.R.ub||sr(Ll,Il.R.duration),Il={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:Ll.find.bind(Ll),getSegmentReference:Ll.get.bind(Ll)});return{createSegmentIndex:Il.createSegmentIndex,findSegmentPosition:Il.findSegmentPosition,getSegmentReference:Il.getSegmentReference,initSegmentReference:ml,presentationTimeOffset:Al.presentationTimeOffset}}function fr(Il){return Il.Sa}function br(Il,Ll){var El=Il.R.duration,jl=Ll.P,ml=Ll.Aa,Al=Ll.timescale,fl=Ll.wb,bl=Il.bandwidth||null,wl=Il.w.id,hl=Il.w.U;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(xl){return 0>xl||El&&xl>=El?null:Math.floor(xl/jl)},getSegmentReference:function(xl){var Sl=xl*jl;return 0>Sl||El&&Sl>=El?null:new Xn(xl,Sl,Sl+jl,function(){var Ol=Gn(fl,wl,xl+ml,bl,Sl*Al);return wt(hl,[Ol])},0,null)}}}function wr(Il,Ll){for(var El=[],jl=0,ml;jl<Ll.F.length;jl++)ml=jl+Ll.Aa,El.push(new Xn(ml,Ll.F[jl].start,Ll.F[jl].end,function(Al,fl,bl,wl,hl,xl){return Al=Gn(Al,fl,hl,bl,xl),wt(wl,[Al]).map(function(Sl){return Sl.toString()})}.bind(null,Ll.wb,Il.w.id,Il.bandwidth||null,Il.w.U,ml,Ll.F[jl].re+Ll.Pb),0,null));return El}function hr(Il){var Ll=Hn(Il,fr,"initialization");if(!Ll)return null;var El=Il.w.id,jl=Il.bandwidth||null,ml=Il.w.U;return new Zn(function(){var Al=Gn(Ll,El,null,jl,null);return wt(ml,[Al])},0,null)}function xr(){var Il={},Ll;for(Ll in FM)Il[Ll]=!0;for(Ll in GM)Il[Ll]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(El){Il[El]=!!FM[El]}),["mpd","m3u8","ism"].forEach(function(El){Il[El]=!!GM[El]}),Il}function Sr(Il,Ll,El,jl){var ml=jl;return(ml||(jl=new lt(Il).W.split("/").pop().split("."),1<jl.length&&(jl=jl.pop().toLowerCase(),ml=GM[jl])),ml)?Promise.resolve(ml):(El=vt([Il],El),El.method="HEAD",Ll.request(0,El).then(function(Al){return(Al=Al.headers["content-type"])&&(Al=Al.toLowerCase()),(ml=FM[Al])?ml:Promise.reject(new Mt(2,4,4E3,Il))},function(Al){return Al.severity=2,Promise.reject(Al)}))}function Or(Il,Ll){this.f=Il,this.i=Ll,this.c=this.a=Infinity,this.b=1,this.h=0,this.g=!0}function Cr(){this.a=this.b=null,this.g=[],this.c=null,this.i=[],this.h=1,this.j={},this.l=0,this.f=null}function zr(Il){return Il.a.networkingEngine.request(0,vt(Il.g,Il.b.retryParameters)).then(function(Ll){if(this.a)return vr(this,Ll.data,Ll.uri)}.bind(Il))}function vr(Il,Ll,El){var jl=Zt(Ll),ml=new DOMParser,Al=null;Ll=null;try{Al=ml.parseFromString(jl,"text/xml")}catch(Ol){}if(Al&&"MPD"==Al.documentElement.tagName&&(Ll=Al.documentElement),Ll&&0<Ll.getElementsByTagName("parsererror").length&&(Ll=null),!Ll)throw new Mt(2,4,4001);El=[El],jl=Sn(Ll,"Location").map(On).filter(mt),0<jl.length&&(El=Il.g=jl),jl=Sn(Ll,"BaseURL").map(On),El=wt(El,jl);var fl=Cn(Ll,"minBufferTime",vn);Il.l=Cn(Ll,"minimumUpdatePeriod",vn,-1);var bl=Cn(Ll,"availabilityStartTime",zn),jl=Cn(Ll,"timeShiftBufferDepth",vn),wl=Cn(Ll,"suggestedPresentationDelay",vn),ml=Cn(Ll,"maxSegmentDuration",vn),Al=Ll.getAttribute("type")||"static";if(Il.c)var hl=Il.c.presentationTimeline;else{var xl=Math.max(10,1.5*fl);hl=new Or(bl,null==wl?xl:wl)}var bl=kr(Il,{Ea:"static"!=Al,presentationTimeline:hl,T:null,R:null,S:null,w:null,bandwidth:void 0,$b:!1},El,Ll),wl=bl.duration,Sl=bl.periods;return(hl.yc("static"==Al),hl.qa(wl||Infinity),hl.xc(null==jl?Infinity:jl),hl.yb(ml||1),Il.c)?Promise.resolve():(Ll=Sn(Ll,"UTCTiming"),Fr(Il,El,Ll,hl.$()).then(function(Ol){this.a&&(hl.wc(Ol),this.c={presentationTimeline:hl,periods:Sl,offlineSessionIds:[],minBufferTime:fl||0})}.bind(Il)))}function kr(Il,Ll,El,jl){var ml=Cn(jl,"mediaPresentationDuration",vn),Al=[],fl=0;jl=Sn(jl,"Period");for(var bl=0;bl<jl.length;bl++){var wl=jl[bl],fl=Cn(wl,"start",vn,fl),hl=Cn(wl,"duration",vn),xl=null;if(bl!=jl.length-1){var Sl=Cn(jl[bl+1],"start",vn);null!=Sl&&(xl=Sl-fl)}else null!=ml&&(xl=ml-fl);if(null==xl&&(xl=hl),wl=Ur(Il,Ll,El,{start:fl,duration:xl,node:wl,ub:null==xl||bl==jl.length-1}),Al.push(wl),hl=Ll.T.id,Il.i.every(At(hl))&&(Il.a.filterPeriod(wl),Il.i.push(hl),Il.c&&Il.c.periods.push(wl)),null==xl){fl=null;break}fl+=xl}return null==ml?{periods:Al,duration:fl}:{periods:Al,duration:ml}}function Ur(Il,Ll,El,jl){Ll.T=Br(jl.node,null,El),Ll.R=jl,Ll.T.id||(Ll.T.id="__shaka_period_"+jl.start),Sn(jl.node,"EventStream").forEach(Il.Fd.bind(Il,jl.start,jl.duration)),El=Sn(jl.node,"AdaptationSet").map(Il.Dd.bind(Il,Ll)).filter(mt);var ml=El.map(function(wl){return wl.Qd}).reduce(Et,[]),Al=ml.filter(ft);if(Ll.Ea&&ml.length!=Al.length)throw new Mt(2,4,4018);var fl=El.filter(function(wl){return!wl.Ob});if(El.filter(function(wl){return wl.Ob}).forEach(function(wl){var hl=wl.streams[0],xl=wl.Ob;fl.forEach(function(Sl){Sl.id==xl&&Sl.streams.forEach(function(Ol){Ol.trickModeVideo=hl})})}),ml=Qr(fl,"video"),Al=Qr(fl,"audio"),!ml.length&&!Al.length)throw new Mt(2,4,4004);for(Al.length||(Al=[null]),ml.length||(ml=[null]),Ll=[],El=0;El<Al.length;El++)for(var bl=0;bl<ml.length;bl++)_r(Il,Al[El],ml[bl],Ll);for(Il=Qr(fl,"text"),ml=[],El=0;El<Il.length;El++)ml.push.apply(ml,Il[El].streams);return{startTime:jl.start,textStreams:ml,variants:Ll}}function Qr(Il,Ll){return Il.filter(function(El){return El.contentType==Ll})}function _r(Il,Ll,El,jl){if(Ll||El)if(Ll&&El){var ml=Ll.drmInfos,Al=El.drmInfos;if(ml.length&&Al.length?0<mi(ml,Al).length:1)for(var fl=mi(Ll.drmInfos,El.drmInfos),ml=0;ml<Ll.streams.length;ml++)for(var bl=0;bl<El.streams.length;bl++)Al=El.streams[bl].bandwidth+Ll.streams[ml].bandwidth,Al={id:Il.h++,language:Ll.language,primary:Ll.vb||El.vb,audio:Ll.streams[ml],video:El.streams[bl],bandwidth:Al,drmInfos:fl,allowedByApplication:!0,allowedByKeySystem:!0},jl.push(Al)}else for(fl=Ll||El,ml=0;ml<fl.streams.length;ml++)Al=fl.streams[ml].bandwidth,Al={id:Il.h++,language:fl.language||"und",primary:fl.vb,audio:Ll?fl.streams[ml]:null,video:El?fl.streams[ml]:null,bandwidth:Al,drmInfos:fl.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},jl.push(Al)}function Rr(Il,Ll){0>Il.l||(Il.f=tt.setTimeout(Il.ie.bind(Il),1E3*Math.max(Math.max(3,Il.l)-Ll,0)))}function Br(Il,Ll,El){Ll=Ll||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0},El=El||Ll.U;var jl=Sn(Il,"BaseURL").map(On),ml=Il.getAttribute("contentType")||Ll.contentType,Al=Il.getAttribute("mimeType")||Ll.mimeType,fl=Il.getAttribute("codecs")||Ll.codecs,bl=Cn(Il,"frameRate",Rn)||Ll.frameRate,wl=!!Sn(Il,"InbandEventStream").length;return ml||(ml=Gr(Al,fl)),{U:wt(El,jl),Ra:xn(Il,"SegmentBase")||Ll.Ra,pa:xn(Il,"SegmentList")||Ll.pa,Sa:xn(Il,"SegmentTemplate")||Ll.Sa,width:Cn(Il,"width",_n)||Ll.width,height:Cn(Il,"height",_n)||Ll.height,contentType:ml,mimeType:Al,codecs:fl,frameRate:bl,containsEmsgBoxes:wl||Ll.containsEmsgBoxes,id:Il.getAttribute("id")}}function Yr(Il){var Ll=0+(Il.Ra?1:0);return(Ll+=Il.pa?1:0,Ll+=Il.Sa?1:0,!Ll)?"text"==Il.contentType||"application"==Il.contentType:(1!=Ll&&(Il.Ra&&(Il.pa=null),Il.Sa=null),!0)}function Pr(Il,Ll,El,jl){return Ll=wt(Ll,[El]),Ll=vt(Ll,Il.b.retryParameters),Ll.method=jl,Il.a.networkingEngine.request(0,Ll).then(function(ml){if("HEAD"==jl){if(!ml.headers||!ml.headers.date)return 0;ml=ml.headers.date}else ml=Zt(ml.data);return ml=Date.parse(ml),isNaN(ml)?0:ml-Date.now()})}function Fr(Il,Ll,El,jl){El=El.map(function(Al){return{scheme:Al.getAttribute("schemeIdUri"),value:Al.getAttribute("value")}});var ml=Il.b.dash.clockSyncUri;return jl&&!El.length&&ml&&El.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:ml}),Lt(El,function(Al){var fl=Al.value;switch(Al.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Pr(this,Ll,fl,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Pr(this,Ll,fl,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return Al=Date.parse(fl),isNaN(Al)?0:Al-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return Promise.reject();default:return Promise.reject();}}.bind(Il))["catch"](function(){return 0})}function Gr(Il,Ll){return fM[rn(Il,Ll)]?"text":Il.split("/")[0]}function Vr(Il,Ll,El,jl){this.uri=Il,this.type=Ll,this.ga=El,this.segments=jl||null}function Hr(Il,Ll,El,jl){this.id=Il,this.name=Ll,this.a=El,this.value=jl||null}function Wr(Il,Ll){this.name=Il,this.value=Ll}function Zr(Il,Ll,El){return El=El||null,(Il=Il.getAttribute(Ll))?Il.value:El}function Xr(Il,Ll){this.ga=Ll,this.uri=Il}function Kr(Il,Ll){return Il.filter(function(El){return El.name==Ll})}function qr(Il,Ll){var El=Kr(Il,Ll);return El.length?El[0]:null}function Jr(Il,Ll,El){return Il.filter(function(jl){var ml=jl.getAttribute("TYPE");return jl=jl.getAttribute("GROUP-ID"),ml.value==Ll&&jl.value==El})}function $r(Il){this.b=Il,this.a=0}function es(Il,Ll){Ll.lastIndex=Il.a;var El=(El=Ll.exec(Il.b))?{position:El.index,length:El[0].length,Td:El}:null;return Il.a!=Il.b.length&&El&&El.position==Il.a?(Il.a+=El.length,El.Td):null}function ts(Il){return Il.a==Il.b.length?null:(Il=es(Il,/[^ \t\n]*/gm))?Il[0]:null}function is(){this.a=0}function as(Il,Ll,El){Ll=Zt(Ll),Ll=Ll.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var jl=Ll.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(jl[0]))throw new Mt(2,4,4015);Ll=0;for(var ml=[],Al=1;Al<jl.length;)if(/^#(?!EXT)/m.test(jl[Al]))Al+=1;else{var fl=jl[Al];if(fl=rs(Il.a++,fl),0<=VM.indexOf(fl.name))Ll=1;else if(0<=HM.indexOf(fl.name)){if(1!=Ll)throw new Mt(2,4,4017);return jl=jl.splice(Al,jl.length-Al),Il=ns(Il,jl),new Vr(El,Ll,ml,Il)}ml.push(fl),Al+=1,"EXT-X-STREAM-INF"==fl.name&&(fl.a.push(new Wr("URI",jl[Al])),Al+=1)}return new Vr(El,Ll,ml)}function ns(Il,Ll){var El=[],jl=[];return Ll.forEach(function(ml){/^(#EXT)/.test(ml)?(ml=rs(this.a++,ml),jl.push(ml)):/^#(?!EXT)/m.test(ml)||(El.push(new Xr(ml.trim(),jl)),jl=[])}.bind(Il)),El}function rs(Il,Ll){var El=Ll.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!El)throw new Mt(2,4,4016);var jl=El[1],ml=El[2],El=[];if(ml&&0<=ml.indexOf("="))for(var ml=new $r(ml),fl=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g,Al;Al=es(ml,fl);)El.push(new Wr(Al[1],Al[2]||Al[3]));else if(ml)return new Hr(Il,jl,El,ml);return new Hr(Il,jl,El)}function ss(Il){return new Promise(function(Ll){var El=ss.parse(Il);Ll({uri:Il,data:El.data,headers:{"content-type":El.contentType}})})}function os(){this.b=this.c=null,this.i=1,this.g={},this.f={},this.a=null,this.j="",this.h=new is}function ds(Il,Ll,El){if(Ll=as(Il.h,Ll,El),0!=Ll.type)throw new Mt(2,4,4022);return Il.a=new Or(null,0),us(Il,Ll).then(function(jl){return this.c.filterPeriod(jl),{presentationTimeline:this.a,periods:[jl],offlineSessionIds:[],minBufferTime:0}}.bind(Il))}function us(Il,Ll){var El=Kr(Ll.ga,"EXT-X-STREAM-INF").map(function(ml){return Ms(this,ml,Ll)}.bind(Il)),jl=Kr(Ll.ga,"EXT-X-MEDIA").filter(function(ml){return"SUBTITLES"==js(ml,"TYPE")}.bind(Il)).map(function(ml){return gs(this,ml,Ll)}.bind(Il));return Promise.all(El).then(function(ml){return Promise.all(jl).then(function(Al){var fl=ml.reduce(Et,[]);return Ts(this,fl),{startTime:0,variants:fl,textStreams:Al}}.bind(this))}.bind(Il))}function Ms(Il,Ll,El){var jl=+js(Ll,"BANDWIDTH"),ml=Zr(Ll,"CODECS","avc1.42E01E,mp4a.40.2").split(","),Al=Ll.getAttribute("RESOLUTION"),fl=null,bl=null,wl=Zr(Ll,"FRAME-RATE");if(Al)var hl=Al.value.split("x"),fl=hl[0],bl=hl[1];var xl=Es(Il,El);El=Kr(El.ga,"EXT-X-MEDIA");var Sl=Zr(Ll,"AUDIO"),Ol=Zr(Ll,"VIDEO");Sl?El=Jr(El,"AUDIO",Sl):Ol&&(El=Jr(El,"VIDEO",Ol)),El=El.map(function(vl){return ps(this,vl,ml,xl)}.bind(Il));var Cl=[],zl=[];return Promise.all(El).then(function(vl){if(Sl?Cl=vl:Ol&&(zl=vl),!(Cl.length||zl.length))kl=!1,1==ml.length?vl=Al||wl?"video":"audio":(vl="video",ml=[ml.join(",")]);else if(!Cl.length)vl="audio";else if(js(Ll,"URI")==Cl[0].Od){vl="audio";var kl=!0}else vl="video";if(kl)kl=Promise.resolve();else{kl=ml;var Ul=js(Ll,"URI");kl=ys(this,Ul,kl,vl,xl,"und",!1,null)}return kl}.bind(Il)).then(function(vl){return vl&&("audio"==vl.stream.type?Cl=[vl]:zl=[vl]),ls(this,Cl,zl,jl,fl,bl,wl)}.bind(Il))}function ls(Il,Ll,El,jl,ml,Al,fl){El.forEach(function(vl){(vl=vl.stream)&&(vl.width=+ml||void 0,vl.height=+Al||void 0,vl.frameRate=+fl||void 0)}.bind(Il)),Ll.length||(Ll=[null]),El.length||(El=[null]);for(var bl=[],wl=0;wl<Ll.length;wl++)for(var hl=0;hl<El.length;hl++){var xl=Ll[wl]?Ll[wl].stream:null,Sl=El[hl]?El[hl].stream:null,Ol=Ll[wl]?Ll[wl].drmInfos:null,Cl=El[hl]?El[hl].drmInfos:null;if(!(xl&&Sl))xl?zl=Ol:Sl&&(zl=Cl);else if(Ol.length&&Cl.length?0<mi(Ol,Cl).length:1)var zl=mi(Ol,Cl);else continue;bl.push(cs(Il,xl,Sl,jl,zl))}return bl}function cs(Il,Ll,El,jl,ml){return{id:Il.i++,language:Ll?Ll.language:"und",primary:!!Ll&&Ll.primary||!!El&&El.primary,audio:Ll,video:El,bandwidth:jl,drmInfos:ml,allowedByApplication:!0,allowedByKeySystem:!0}}function gs(Il,Ll,El){return js(Ll,"TYPE"),El=Es(Il,El),ps(Il,Ll,[],El).then(function(jl){return jl.stream})}function ps(Il,Ll,El,jl){if(Il.g[Ll.id])return Promise.resolve().then(function(){return this.g[Ll.id]}.bind(Il));var ml=js(Ll,"TYPE").toLowerCase();"subtitles"==ml&&(ml="text");var Al=Vi(Zr(Ll,"LANGUAGE","und")),fl=Zr(Ll,"NAME"),bl=Ll.getAttribute("DEFAULT"),wl=Ll.getAttribute("AUTOSELECT"),hl=js(Ll,"URI");return ys(Il,hl,El,ml,jl,Al,!!bl||!!wl,fl).then(function(xl){return this.g[Ll.id]=xl}.bind(Il))}function ys(Il,Ll,El,jl,ml,Al,fl,bl){var wl=Ll;return Ll=wt([Il.j],[Ll])[0],Il.c.networkingEngine.request(0,vt([Ll],Il.b.retryParameters)).then(function(hl){if(hl=as(this.h,hl.data,hl.uri),1!=hl.type)throw new Mt(2,4,4017);ml=Es(this,hl)||ml;var xl=null;"text"!=jl&&(xl=Ns(hl));var Sl=qr(hl.ga,"EXT-X-MEDIA-SEQUENCE"),Sl=Ds(this,hl,Sl?+Sl.value:0);this.a.Ia(0,Sl);var Ol=Sl[Sl.length-1].endTime-Sl[0].startTime,Cl=this.a.Y();(Infinity==Cl||Cl<Ol)&&this.a.qa(Ol);var zl=Is(jl,El),vl;"text"==jl&&(vl="subtitle");var kl=new rr(Sl),Ul=[];hl.segments.forEach(function(Bl){Bl=Kr(Bl.ga,"EXT-X-KEY"),Ul.push.apply(Ul,Bl)});var Ql=!1,_l=[],Rl=null;if(Ul.forEach(function(Bl){if("NONE"!=js(Bl,"METHOD")){Ql=!0;var Yl=js(Bl,"KEYFORMAT");(Bl=(Yl=qM[Yl])?Yl(Bl):null)&&(Bl.keyIds.length&&(Rl=Bl.keyIds[0]),_l.push(Bl))}}),Ql&&!_l.length)throw new Mt(2,4,4026);return Ls(this,jl,Sl[0].a()[0]).then(function(Bl){return Bl={id:this.i++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:kl.find.bind(kl),getSegmentReference:kl.get.bind(kl),initSegmentReference:xl,presentationTimeOffset:ml||0,mimeType:Bl,codecs:zl,kind:vl,encrypted:Ql,keyId:Rl,language:Al,label:bl||null,type:jl,primary:fl,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[]},this.f[Bl.id]=kl,{stream:Bl,Be:kl,drmInfos:_l,Od:wl}}.bind(this))}.bind(Il))}function Ns(Il){var Ll=Kr(Il.ga,"EXT-X-MAP");if(!Ll.length)return null;if(1<Ll.length)throw new Mt(2,4,4020);var Ll=Ll[0],El=js(Ll,"URI"),jl=wt([Il.uri],[El])[0];return Il=0,El=null,(Ll=Zr(Ll,"BYTERANGE"))&&(Il=Ll.split("@"),Ll=+Il[0],Il=+Il[1],El=Il+Ll-1),new Zn(function(){return[jl]},Il,El)}function Ds(Il,Ll,El){var jl=Ll.segments,ml=[];return jl.forEach(function(Al){var fl=Al.ga,bl=wt([Ll.uri],[Al.uri])[0],wl=As(fl).value.split(","),wl=+wl[0],hl;hl=(Al=jl.indexOf(Al))?ml[Al-1].endTime:0;var wl=hl+wl,xl=0,Sl=null;(fl=qr(fl,"EXT-X-BYTERANGE"))&&(fl=fl.value.split("@"),Sl=+fl[0],xl=fl[1]?+fl[1]:ml[Al-1].M,Sl=xl+Sl-1,Al==jl.length-1&&(Sl=null)),ml.push(new Xn(El+Al,hl,wl,function(){return[bl]},xl,Sl))}.bind(Il)),ml}function Ts(Il,Ll){Ll.forEach(function(El){var jl=this.a.Y(),ml=El.video;El=El.audio,ml&&this.f[ml.id]&&sr(this.f[ml.id],jl),El&&this.f[El.id]&&sr(this.f[El.id],jl)}.bind(Il))}function Is(Il,Ll){if(1==Ll.length)return Ll[0];if("text"==Il)return"";var El=WM;"audio"==Il&&(El=ZM);for(var jl=0;jl<El.length;jl++)for(var ml=0;ml<Ll.length;ml++)if(El[jl].test(Ll[ml].trim()))return Ll[ml].trim();throw new Mt(2,4,4025,Ll)}function Ls(Il,Ll,El){var jl=El.split("."),ml=jl[jl.length-1];return"text"==Ll?Promise.resolve("text/vtt"):(jl=XM,"video"==Ll&&(jl=KM),Ll=jl[ml])?Promise.resolve(Ll):(El=vt([El],Il.b.retryParameters),El.method="HEAD",Il.c.networkingEngine.request(1,El).then(function(Al){if(Al=Al.headers["content-type"],!Al)throw new Mt(2,4,4021,ml);return Al}))}function Es(Il,Ll){var El=qr(Ll.ga,"EXT-X-START");return El?+js(El,"TIME-OFFSET"):Il.b.hls.defaultTimeOffset}function js(Il,Ll){var El=Il.getAttribute(Ll);if(!El)throw new Mt(2,4,4023,Ll);return El.value}function As(Il){if(Il=qr(Il,"EXTINF"),!Il)throw new Mt(2,4,4024,"EXTINF");return Il}function fs(){}function bs(Il){var Ll=[];if(!Il)return Ll;for(var El=Il.childNodes,jl=0,ml;jl<El.length;jl++)ml="span"==El[jl].nodeName&&"p"==Il.nodeName,El[jl].nodeType!=Node.ELEMENT_NODE||"br"==El[jl].nodeName||ml||(ml=bs(El[jl]),Ll=Ll.concat(ml));return Ll.length||Ll.push(Il),Ll}function ws(Il,Ll){for(var El=Il.childNodes,jl=0;jl<El.length;jl++)if("br"==El[jl].nodeName&&0<jl)El[jl-1].textContent+="\n";else if(0<El[jl].childNodes.length)ws(El[jl],Ll);else if(Ll){var ml=El[jl].textContent.trim(),ml=ml.replace(/\s+/g," ");El[jl].textContent=ml}}function hs(Il,Ll,El,jl){for(var ml=bs(Ll),Al=0,fl;Al<ml.length;Al++)if(fl=ml[Al].getAttribute(jl),fl)return fl;return ml=xs,(Il=ml(Ll,"style",El)||ml(Il,"style",El))?Il.getAttribute(jl):null}function xs(Il,Ll,El){if(!Il||1>El.length)return null;var jl=null,ml=Il;for(Il=null;ml&&!(Il=ml.getAttribute(Ll))&&(ml=ml.parentNode,ml instanceof Element););if(Ll=Il)for(Il=0;Il<El.length;Il++)if(El[Il].getAttribute("xml:id")==Ll){jl=El[Il];break}return jl}function Ss(Il,Ll){var El=null;if(JM.test(Il))var El=JM.exec(Il),jl=+El[1],ml=+El[2],Al=+El[3],fl=+El[4],fl=fl+(+El[5]||0)/Ll.b,Al=Al+fl/Ll.frameRate,El=Al+60*ml+3600*jl;else $M.test(Il)?El=Os($M,Il):tl.test(Il)?El=Os(tl,Il):il.test(Il)?(El=il.exec(Il),El=+El[1]/Ll.frameRate):al.test(Il)?(El=al.exec(Il),El=+El[1]/Ll.a):nl.test(Il)&&(El=Os(nl,Il));return El}function Os(Il,Ll){var El=Il.exec(Ll);return El&&""!=El[0]?(+El[4]||0)/1E3+(+El[3]||0)+60*(+El[2]||0)+3600*(+El[1]||0):null}function Cs(Il,Ll,El,jl){this.frameRate=+Il||30,this.b=+Ll||1,this.a=+jl,this.a||(this.a=Il?this.frameRate*this.b:1),El&&(Il=/^(\d+) (\d+)$/g.exec(El))&&(this.frameRate*=Il[1]/Il[2])}function zs(){this.a=new fs}function vs(){}function ks(Il,Ll){var El;(El=/^align:(start|middle|center|end|left|right)$/.exec(Ll))?(Il.align=El[1],"center"==El[1]&&"center"!=Il.align&&(Il.position="auto",Il.align="middle")):(El=/^vertical:(lr|rl)$/.exec(Ll))?Il.vertical=El[1]:(El=/^size:(\d{1,2}|100)%$/.exec(Ll))?Il.size=+El[1]:(El=/^position:(\d{1,2}|100)%(?:,(line-left|line-right|center|start|end))?$/.exec(Ll))?(Il.position=+El[1],El[2]&&(Il.positionAlign=El[2])):(El=/^line:(\d{1,2}|100)%(?:,(start|end|center))?$/.exec(Ll))?(Il.snapToLines=!1,Il.line=+El[1],El[2]&&(Il.lineAlign=El[2])):(El=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(Ll))&&(Il.snapToLines=!0,Il.line=+El[1],El[2]&&(Il.lineAlign=El[2]))}function Us(Il){if(Il=es(Il,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g),!Il)return null;var Ll=+Il[2],El=+Il[3];return 59<Ll||59<El?null:+Il[4]/1E3+El+60*Ll+3600*(+Il[1]||0)}function Qs(){this.a=null}function _s(Il,Ll,El){var jl,ml,Al;return new Jn().C("payl",tr(function(fl){jl=Zt(fl)})).C("iden",tr(function(fl){ml=Zt(fl)})).C("sttg",tr(function(fl){Al=Zt(fl)})).parse(Il),jl?Rs(jl,ml,Al,Ll,El):null}function Rs(Il,Ll,El,jl,ml){if((Il=bi(jl,ml,Il))&&Ll&&(Il.id=Ll),Il&&El)for(Ll=new $r(El),El=ts(Ll);El;)ks(Il,El),es(Ll,/[ \t]+/gm),El=ts(Ll);return Il}function Bs(Il,Ll,El,jl,ml,Al){this.a=Il,this.c=Ll,this.l=El,this.B=jl,this.O=ml,this.J=Al,this.b=new _t,this.h=!1,this.g=1,this.j=this.f=null,this.G=Il.readyState,this.i=!1,this.v=this.A=-1,this.o=!1,0<Il.readyState?this.fc():Bt(this.b,Il,"loadedmetadata",this.fc.bind(this)),Ll=this.hc.bind(this),Rt(this.b,Il,"ratechange",this.rd.bind(this)),Rt(this.b,Il,"waiting",Ll),this.j=setInterval(Ll,250)}function Ys(Il,Ll){0<Il.a.readyState?Il.a.currentTime=Ws(Il,Ll):Il.B=Ll}function Ps(Il){return 0<Il.a.readyState?Ws(Il,Il.a.currentTime):Fs(Il)}function Fs(Il){return Il.B?Ws(Il,Il.B):(Il=Il.c.presentationTimeline,Infinity>Il.Y()?Il.na():Il.cb())}function Gs(Il,Ll){null!=Il.f&&(tt.clearInterval(Il.f),Il.f=null),Il.g=Ll,Il.a.playbackRate=Il.h||0>Ll?0:Ll,!Il.h&&0>Ll&&(Il.f=tt.setInterval(function(){this.a.currentTime+=Ll/4}.bind(Il),250))}function Vs(Il,Ll){var El=Oi.bind(null,Il.a.buffered),jl=1*Math.max(Il.c.minBufferTime||0,Il.l.rebufferingGoal),ml=Il.c.presentationTimeline,Al=ml.va(),fl=ml.Fa(jl),bl=ml.Fa(5),jl=ml.Fa(jl+5);return Ll>Al?Al:Ll<ml.Fa(0)?El(bl)?bl:jl:Ll>=fl||El(Ll)?Ll:jl}function Hs(Il,Ll,El){Il.a.currentTime=El;var jl=0,ml=function(){!this.a||10<=jl++||this.a.currentTime!=Ll||(this.a.currentTime=El,setTimeout(ml,100))}.bind(Il);setTimeout(ml,100)}function Ws(Il,Ll){var El=Il.c.presentationTimeline.na();return Ll<El?El:(El=Il.c.presentationTimeline.va(),Ll>El?El:Ll)}function Zs(Il,Ll,El,jl,ml,Al){this.a=Il,this.g=Ll,this.A=El,this.l=jl,this.h=ml,this.B=Al,this.c=[],this.j=new _t,this.b=!1,this.i=-1,this.f=null,Ks(this)}function Xs(Il){var Ll=St(Il);return Ll.eventElement=Il.eventElement,Ll}function Ks(Il){qs(Il),Il.f=tt.setTimeout(Il.G.bind(Il),250)}function qs(Il){Il.f&&(tt.clearTimeout(Il.f),Il.f=null)}function Js(Il,Ll){this.a=Ll,this.b=Il,this.g=null,this.i=1,this.o=Promise.resolve(),this.h=[],this.j={},this.c={},this.f=this.l=this.v=!1}function $s(Il){return Il.b.periods[sn(Il.b,Ps(Il.a.Pa))]}function eo(Il){return Vt(Il.c,function(Ll){return Ll.oa||Ll.stream})}function to(Il,Ll){return so(Il,{text:Ll})}function io(Il,Ll){var El=Il.c.video;if(El){var jl=El.stream;if(jl)if(Ll){var ml=jl.trickModeVideo;if(ml){var Al=El.oa;Al||(ao(Il,"video",ml,!1),El.oa=jl)}}else(Al=El.oa)&&(El.oa=null,ao(Il,"video",Al,!0))}}function ao(Il,Ll,El,jl){var ml=Il.c[Ll];if(!ml&&"text"==Ll&&Il.g.ignoreTextStreamFailures)to(Il,El);else if(ml){var Al=dn(Il.b,El);jl&&Al!=ml.xa?ro(Il):(ml.oa&&(El.trickModeVideo?(ml.oa=El,El=El.trickModeVideo):ml.oa=null),(Al=Il.h[Al])&&Al.Ma&&(Al=Il.j[El.id])&&Al.Ma&&ml.stream!=El&&("text"==Ll&&ki(Il.a.K,rn(El.mimeType,El.codecs)),ml.stream=El,ml.eb=!0,jl&&(ml.ta?ml.kb=!0:ml.ya?(ml.sa=!0,ml.kb=!0):(Ao(ml),jo(Il,ml,!0)))))}}function no(Il){var Ll=Ps(Il.a.Pa);Object.keys(Il.c).every(function(El){var jl=this.a.K;return"text"==El?(El=jl.a,El=Ll>=El.b&&Ll<El.a):(El=Qi(jl,El),El=Oi(El,Ll)),El}.bind(Il))||ro(Il)}function ro(Il){for(var Ll in Il.c){var El=Il.c[Ll];El.ta||El.sa||(El.ya?El.sa=!0:null==Ui(Il.a.K,Ll)?null==El.ra&&mo(Il,El,0):(Ao(El),jo(Il,El,!1)))}}function so(Il,Ll,El){var jl=sn(Il.b,Ps(Il.a.Pa)),ml=Vt(Ll,function(Al){return rn(Al.mimeType,Al.codecs)});return Il.a.K.init(ml),Mo(Il),ml=Gt(Ll),uo(Il,ml).then(function(){if(!this.f)for(var Al in Ll){var fl=Ll[Al];this.c[Al]||(this.c[Al]={stream:fl,type:Al,Ga:null,ea:null,oa:null,eb:!0,xa:jl,endOfStream:!1,ya:!1,ra:null,sa:!1,kb:!1,ta:!1,Gb:!1,tb:!1,rc:El||0},mo(this,this.c[Al],0))}}.bind(Il))}function oo(Il,Ll){var El=Il.h[Ll];if(El)return El.L;El={L:new Ot,Ma:!1},Il.h[Ll]=El;var jl=Il.b.periods[Ll].variants.map(function(ml){var Al=[];return ml.audio&&Al.push(ml.audio),ml.video&&Al.push(ml.video),ml.video&&ml.video.trickModeVideo&&Al.push(ml.video.trickModeVideo),Al}).reduce(Et,[]).filter(ft);return jl.push.apply(jl,Il.b.periods[Ll].textStreams),Il.o=Il.o.then(function(){if(!this.f)return uo(this,jl)}.bind(Il)).then(function(){this.f||(this.h[Ll].L.resolve(),this.h[Ll].Ma=!0)}.bind(Il))["catch"](function(ml){this.f||(this.h[Ll].L.reject(),delete this.h[Ll],this.a.onError(ml))}.bind(Il)),El.L}function uo(Il,Ll){Ll.map(function(fl){return fl.id}).filter(ft);for(var El=[],jl=0;jl<Ll.length;++jl){var ml=Ll[jl],Al=Il.j[ml.id];Al?El.push(Al.L):(Il.j[ml.id]={L:new Ot,Ma:!1},El.push(ml.createSegmentIndex()))}return Promise.all(El).then(function(){if(!this.f)for(var fl=0,bl;fl<Ll.length;++fl)bl=this.j[Ll[fl].id],bl.Ma||(bl.L.resolve(),bl.Ma=!0)}.bind(Il))["catch"](function(fl){if(!this.f)return this.j[ml.id].L.reject(),delete this.j[ml.id],Promise.reject(fl)}.bind(Il))}function Mo(Il){var Ll=Il.b.presentationTimeline.Y();Infinity>Ll?Il.a.K.qa(Ll):Il.a.K.qa(Math.pow(2,32))}function lo(Il,Ll){var El=Ps(Il.a.Pa),jl=Ll.Ga&&Ll.ea?Il.b.periods[dn(Il.b,Ll.Ga)].startTime+Ll.ea.endTime:Math.max(El,Ll.rc),ml=dn(Il.b,Ll.stream),Al=sn(Il.b,jl),fl=Il.a.K,bl=Ll.type;return("text"==bl?(fl=fl.a,fl=null==fl.a||fl.a<El?0:fl.a-Math.max(El,fl.b)):(fl=Qi(fl,bl),fl=Ci(fl,El)),bl=Math.max(Il.i*Math.max(Il.b.minBufferTime||0,Il.g.rebufferingGoal),Il.i*Il.g.bufferingGoal),jl>=Il.b.presentationTimeline.Y())?(Ll.endOfStream=!0,null):(Ll.endOfStream=!1,Ll.xa=Al,Al!=ml)?null:fl>=bl?.5:(jl=Il.a.K,Al=Ll.type,jl="text"==Al?jl.a.a:Si(Qi(jl,Al)),Ll.ea&&Ll.stream==Ll.Ga?(Al=Ll.ea.position+1,jl=co(Il,Ll,ml,Al)):(Al=Ll.ea?Ll.stream.findSegmentPosition(Math.max(0,Il.b.periods[dn(Il.b,Ll.Ga)].startTime+Ll.ea.endTime-Il.b.periods[ml].startTime)):Ll.stream.findSegmentPosition(Math.max(0,(jl||El)-Il.b.periods[ml].startTime)),null==Al?jl=null:(fl=null,null==jl&&(fl=co(Il,Ll,ml,Math.max(0,Al-1))),jl=fl||co(Il,Ll,ml,Al))),!jl)?1:(Ll.rc=0,go(Il,Ll,El,ml,jl),null)}function co(Il,Ll,El,jl){return(El=Il.b.periods[El],Ll=Ll.stream.getSegmentReference(jl),!Ll)?null:(Il=Il.b.presentationTimeline,jl=Il.va(),El.startTime+Ll.endTime<Il.na()||El.startTime+Ll.startTime>jl?null:Ll)}function go(Il,Ll,El,jl,ml){var Al=Il.b.periods[jl],fl=Ll.stream,bl=Il.b.periods[jl+1],wl=null,wl=bl?bl.startTime:Il.b.presentationTimeline.Y();jl=yo(Il,Ll,jl,wl),Ll.ya=!0,Ll.eb=!1,bl=Eo(Il,ml),Promise.all([jl,bl]).then(function(hl){if(!this.f&&!this.l)return No(this,Ll,El,Al,fl,ml,hl[1])}.bind(Il)).then(function(){this.f||this.l||(Ll.ya=!1,Ll.Gb=!1,Ll.sa||this.a.Ab(),mo(this,Ll,0),To(this,fl))}.bind(Il))["catch"](function(hl){this.f||this.l||(Ll.ya=!1,this.b.presentationTimeline.$()&&this.g.infiniteRetriesForLiveStreams&&(1001==hl.code||1002==hl.code||1003==hl.code)?"text"==Ll.type&&this.g.ignoreTextStreamFailures&&1001==hl.code?delete this.c.text:(hl.severity=1,this.a.onError(hl),mo(this,Ll,4)):3017==hl.code?po(this,Ll,hl):"text"==Ll.type&&this.g.ignoreTextStreamFailures?delete this.c.text:(Ll.tb=!0,hl.severity=2,this.a.onError(hl)))}.bind(Il))}function po(Il,Ll,El){if(!Gt(Il.c).some(function(ml){return ml!=Ll&&ml.Gb})){var jl=Math.round(100*Il.i);if(20<jl)Il.i-=.2;else if(4<jl)Il.i-=.04;else return Ll.tb=!0,Il.l=!0,void Il.a.onError(El);Ll.Gb=!0}mo(Il,Ll,4)}function yo(Il,Ll,El,jl){return Ll.eb?(El=Bi(Il.a.K,Ll.type,Il.b.periods[El].startTime-Ll.stream.presentationTimeOffset,jl),!Ll.stream.initSegmentReference)?El:(Il=Eo(Il,Ll.stream.initSegmentReference).then(function(ml){if(!this.f)return _i(this.a.K,Ll.type,ml,null,null)}.bind(Il))["catch"](function(ml){return Ll.eb=!0,Promise.reject(ml)}),Promise.all([El,Il])):Promise.resolve()}function No(Il,Ll,El,jl,ml,Al,fl){return ml.containsEmsgBoxes&&new Jn().da("emsg",Il.Ed.bind(Il,jl,Al)).parse(fl),Do(Il,Ll,El).then(function(){if(!this.f)return _i(this.a.K,Ll.type,fl,Al.startTime+jl.startTime,Al.endTime+jl.startTime)}.bind(Il)).then(function(){if(!this.f)return Ll.Ga=ml,Ll.ea=Al,Promise.resolve()}.bind(Il))}function Do(Il,Ll,El){var jl=Ui(Il.a.K,Ll.type);return null==jl?Promise.resolve():(El=El-jl-Il.g.bufferBehind,0>=El?Promise.resolve():Il.a.K.remove(Ll.type,jl,jl+El).then(function(){}.bind(Il)))}function To(Il,Ll){if(!Il.v&&(Il.v=Gt(Il.c).every(function(jl){return!("text"!=jl.type)||!jl.sa&&!jl.ta&&jl.ea}),Il.v)){var El=dn(Il.b,Ll);for(Il.h[El]||oo(Il,El).then(function(){this.a.ac()}.bind(Il))["catch"](jt),El=0;El<Il.b.periods.length;++El)oo(Il,El)["catch"](jt);Il.a.wd&&Il.a.wd()}}function Io(Il,Ll){if(Ll.xa!=dn(Il.b,Ll.stream)){var El=Ll.xa,jl=Gt(Il.c);jl.every(function(ml){return ml.xa==El})&&jl.every(Lo)&&oo(Il,El).then(function(){if(!this.f&&jl.every(function(bl){var wl=dn(this.b,bl.stream);return Lo(bl)&&bl.xa==El&&wl!=El}.bind(this))){var ml=this.b.periods[El],Al=this.a.bc(ml),fl;for(fl in this.c)if(!Al[fl]&&"text"!=fl)return void this.a.onError(new Mt(2,5,5005));for(fl in Al)if(!this.c[fl])if("text"==fl)so(this,{text:Al.text},ml.startTime),delete Al[fl];else return void this.a.onError(new Mt(2,5,5005));for(fl in this.c)(ml=Al[fl])?(ao(this,fl,ml,!1),mo(this,this.c[fl],0)):delete this.c[fl];this.a.ac()}}.bind(Il))["catch"](jt)}}function Lo(Il){return!Il.ya&&null==Il.ra&&!Il.sa&&!Il.ta}function Eo(Il,Ll){var El=vt(Ll.a(),Il.g.retryParameters);if(Ll.X||null!=Ll.M){var jl="bytes="+Ll.X+"-";null!=Ll.M&&(jl+=Ll.M),El.headers.Range=jl}return Il.a.dd.request(1,El).then(function(ml){return ml.data})}function jo(Il,Ll,El){Ll.sa=!1,Ll.kb=!1,Ll.ta=!0,Ri(Il.a.K,Ll.type).then(function(){if(!this.f&&El){var jl=this.a.K,ml=Ll.type;return"text"==ml?Promise.resolve():Yi(jl,ml,jl.Oc.bind(jl,ml))}}.bind(Il)).then(function(){this.f||(Ll.Ga=null,Ll.ea=null,Ll.ta=!1,Ll.endOfStream=!1,mo(this,Ll,0))}.bind(Il))}function mo(Il,Ll,El){Ll.ra=tt.setTimeout(Il.le.bind(Il,Ll),1E3*El)}function Ao(Il){null!=Il.ra&&(tt.clearTimeout(Il.ra),Il.ra=null)}function fo(Il,Ll){return new Promise(function(El,jl){var ml=new XMLHttpRequest;for(var Al in ml.open(Ll.method,Il,!0),ml.responseType="arraybuffer",ml.timeout=Ll.retryParameters.timeout,ml.withCredentials=Ll.allowCrossSiteCredentials,ml.onload=function(fl){fl=fl.target;var bl=fl.getAllResponseHeaders().split("\r\n").reduce(function(hl,xl){var Sl=xl.split(": ");return hl[Sl[0].toLowerCase()]=Sl.slice(1).join(": "),hl},{});if(200<=fl.status&&299>=fl.status&&202!=fl.status)fl.responseURL&&(Il=fl.responseURL),El({uri:Il,data:fl.response,headers:bl,fromCache:!!bl["x-shaka-from-cache"]});else{var wl=null;try{wl=Kt(fl.response)}catch(hl){}jl(new Mt(401==fl.status||403==fl.status?2:1,1,1001,Il,fl.status,wl,bl))}},ml.onerror=function(){jl(new Mt(1,1,1002,Il))},ml.ontimeout=function(){jl(new Mt(1,1,1003,Il))},Ll.headers)ml.setRequestHeader(Al,Ll.headers[Al]);ml.send(Ll.body)})}function bo(){this.a=null,this.b=[],this.c={}}function wo(Il,Ll,El){return So(Il,Ll,"readwrite",function(jl){jl.put(El)})}function ho(Il,Ll,El){return So(Il,"segment","readwrite",function(jl){for(var ml=0;ml<Ll.length;ml++)jl["delete"](Ll[ml]).onsuccess=El||function(){}})}function xo(Il,Ll){var El=0;return So(Il,Ll,"readonly",function(jl){jl.openCursor(null,"prev").onsuccess=function(ml){(ml=ml.target.result)&&(El=ml.key+1)}}).then(function(){return El})}function So(Il,Ll,El,jl){var ml={transaction:Il.a.transaction([Ll],El),L:new Ot};return ml.transaction.oncomplete=function(){this.b.splice(this.b.indexOf(ml),1),ml.L.resolve()}.bind(Il),ml.transaction.onabort=function(Al){this.b.splice(this.b.indexOf(ml),1),Co(ml.transaction,ml.L,Al)}.bind(Il),ml.transaction.onerror=function(Al){Al.preventDefault()}.bind(Il),Ll=ml.transaction.objectStore(Ll),jl(Ll),Il.b.push(ml),ml.L}function Oo(Il,Ll,El){var jl=tt.indexedDB.open("shaka_offline_db",1),ml=!1,Al=new Ot;return jl.onupgradeneeded=function(fl){for(var bl in ml=!0,fl=fl.target.result,Ll)fl.createObjectStore(bl,{keyPath:Ll[bl]})},jl.onsuccess=function(fl){El&&!ml?(fl.target.result.close(),setTimeout(function(){Oo(this,Ll,El-1).then(Al.resolve,Al.reject)}.bind(this),1E3)):(this.a=fl.target.result,Al.resolve())}.bind(Il),jl.onerror=Co.bind(null,jl,Al),Al}function Co(Il,Ll,El){Il.error?Ll.reject(new Mt(2,9,9001,Il.error)):Ll.reject(new Mt(2,9,9002)),El.preventDefault()}function zo(Il){var Ll=vo(Il.periods[0],[],new Or(null,0)),El=Ki(Ll,null,null),Ll=qi(Ll,null);return El.push.apply(El,Ll),{offlineUri:"offline:"+Il.key,originalManifestUri:Il.originalManifestUri,duration:Il.duration,size:Il.size,expiration:void 0==Il.expiration?Infinity:Il.expiration,tracks:El,appMetadata:Il.appMetadata}}function vo(Il,Ll,El){var jl=Il.streams.filter(function(fl){return"text"==fl.contentType}),ml=Il.streams.filter(function(fl){return"audio"==fl.contentType}),Al=Il.streams.filter(function(fl){return"video"==fl.contentType});return Ll=Uo(ml,Al,Ll),jl=jl.map(_o),Il.streams.forEach(function(fl){fl=ko(fl),El.Ia(0,fl)}),{startTime:Il.startTime,variants:Ll,textStreams:jl}}function ko(Il){return Il.segments.map(function(Ll,El){return new Xn(El,Ll.startTime,Ll.endTime,function(){return[Ll.uri]},0,null)})}function Uo(Il,Ll,El){var jl=[];if(!Il.length&&!Ll.length)return jl;Il.length?Ll.length||(Ll=[null]):Il=[null];for(var ml=0,Al=0;Al<Il.length;Al++)for(var fl=0;fl<Ll.length;fl++)if(Qo(Il[Al],Ll[fl])){var bl=Il[Al],wl=Ll[fl];bl={id:ml++,language:bl?bl.language:"",primary:!!bl&&bl.primary||!!wl&&wl.primary,audio:_o(bl),video:_o(wl),bandwidth:0,drmInfos:El,allowedByApplication:!0,allowedByKeySystem:!0},jl.push(bl)}return jl}function Qo(Il,Ll){if(!(Il&&Ll&&Il.variantIds&&Ll.variantIds))return!0;for(var El=0;El<Il.variantIds.length;El++)if(Ll.variantIds.some(function(jl){return jl==Il.variantIds[El]}))return!0;return!1}function _o(Il){if(!Il)return null;var Ll=ko(Il),Ll=new rr(Ll);return{id:Il.id,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:Ll.find.bind(Ll),getSegmentReference:Ll.get.bind(Ll),initSegmentReference:Il.initSegmentUri?new Zn(function(){return[Il.initSegmentUri]},0,null):null,presentationTimeOffset:Il.presentationTimeOffset,mimeType:Il.mimeType,codecs:Il.codecs,width:Il.width||void 0,height:Il.height||void 0,frameRate:Il.frameRate||void 0,kind:Il.kind,encrypted:Il.encrypted,keyId:Il.keyId,language:Il.language,label:Il.label||null,type:Il.contentType,primary:Il.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[]}}function Ro(){return tt.indexedDB?new bo:null}function Bo(Il,Ll,El,jl){this.b={},this.l=[],this.o=jl,this.j=Il,this.v=Ll,this.A=El,this.i=this.a=null,this.f=this.g=this.h=this.c=0}function Yo(Il,Ll,El,jl,ml){Il.b[Ll]=Il.b[Ll]||[],Il.b[Ll].push({uris:El.a(),X:El.X,M:El.M,Rb:jl,Hb:ml})}function Po(Il,Ll){Il.c=0,Il.h=0,Il.g=0,Il.f=0,Gt(Il.b).forEach(function(jl){jl.forEach(function(ml){null==ml.M?this.g+=ml.Rb:this.c+=ml.M-ml.X+1}.bind(this))}.bind(Il)),Il.a=Ll,Il.a.size=Il.c;var El=Gt(Il.b).map(function(jl){var ml=0,Al=function(){if(!this.o)return Promise.reject(new Mt(2,9,9002));if(ml>=jl.length)return Promise.resolve();var fl=jl[ml++];return Fo(this,fl).then(Al)}.bind(this);return Al()}.bind(Il));return Il.b={},Il.i=Promise.all(El).then(function(){return wo(this.j,"manifest",Ll)}.bind(Il)).then(function(){this.l=[]}.bind(Il)),Il.i}function Fo(Il,Ll){var El=vt(Ll.uris,Il.A);(Ll.X||null!=Ll.M)&&(El.headers.Range="bytes="+Ll.X+"-"+(null==Ll.M?"":Ll.M));var jl;return Il.v.request(1,El).then(function(ml){return this.a?(jl=ml.data.byteLength,this.l.push(Ll.Hb.key),Ll.Hb.data=ml.data,wo(this.j,"segment",Ll.Hb)):Promise.reject(new Mt(2,9,9002))}.bind(Il)).then(function(){if(!this.a)return Promise.reject(new Mt(2,9,9002));null==Ll.M?(this.a.size+=jl,this.f+=Ll.Rb):this.h+=jl;var ml=(this.h+this.f)/(this.c+this.g),Al=zo(this.a);this.o.progressCallback(Al,ml)}.bind(Il))}function Go(){this.a=-1}function Vo(Il){var Ll=new Or(null,0);Ll.qa(Il.duration);var El=Il.drmInfo?[Il.drmInfo]:[];return{presentationTimeline:Ll,minBufferTime:10,offlineSessionIds:Il.sessionIds,periods:Il.periods.map(function(jl){return vo(jl,El,Ll)})}}function Ho(Il){if(/^offline:([0-9]+)$/.exec(Il)){var Ll={uri:Il,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}};return Promise.resolve(Ll)}if(Ll=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(Il)){var El=+Ll[1],jl=Ro();return jl?jl.init(dl).then(function(){return jl.get("segment",El)}).then(function(ml){return jl.m().then(function(){if(!ml)throw new Mt(2,9,9003,El);return{uri:Il,data:ml.data,headers:{}}})}):Promise.reject(new Mt(2,9,9E3))}return Promise.reject(new Mt(2,1,9004,Il))}function Wo(){this.a=Promise.resolve(),this.b=this.c=this.f=!1,this.i=new Promise(function(Il){this.g=Il}.bind(this))}function Zo(Il){return Il.f||(Il.a=Il.a.then(function(Ll){return this.c=!0,Promise.resolve(Ll)}.bind(Il),function(Ll){return this.c=!0,this.b?(this.g(),Promise.reject(this.h)):Promise.reject(Ll)}.bind(Il))),Il.f=!0,Il.a}function Xo(Il,Ll){Tn.call(this),this.O=!1,this.f=Il,this.A=null,this.l=new _t,this.Qb=new un,this.Za=this.c=this.h=this.a=this.v=this.g=this.Xa=this.ka=this.N=this.j=this.o=null,this.Dc=1E9,this.Wa=[],this.la=!1,this.$a=!0,this.ma=this.J=null,this.G={},this.Ya=[],this.B={},this.b=au(this),this.ob={width:Infinity,height:Infinity},this.i=nu(),this.Va=0,this.ja=this.b.preferredAudioLanguage,this.Da=this.b.preferredTextLanguage,this.lb=this.mb="",Ll&&Ll(this),this.o=new Ct(this.ee.bind(this)),this.Xa=qo(this);for(var El=0,jl;El<this.f.textTracks.length;++El)jl=this.f.textTracks[El],jl.mode="disabled","Shaka Player TextTrack"==jl.label&&(this.A=jl);this.A||(this.A=this.f.addTextTrack("subtitles","Shaka Player TextTrack")),this.A.mode="hidden",Rt(this.l,this.f,"error",this.yd.bind(this))}function Ko(Il){function Ll(Al){return(Al.video?Al.video.codecs.split(".")[0]:"")+"-"+(Al.audio?Al.audio.codecs.split(".")[0]:"")}var El={};Il.c.periods.forEach(function(Al){Al.variants.forEach(function(fl){var bl=Ll(fl);bl in El||(El[bl]=[]),El[bl].push(fl)})});var jl=null,ml=Infinity;Wt(El,function(Al,fl){var bl=0,wl=0;fl.forEach(function(xl){bl+=xl.bandwidth,++wl});var hl=bl/wl;hl<ml&&(jl=Al,ml=hl)}),Il.c.periods.forEach(function(Al){Al.variants=Al.variants.filter(function(fl){return!(Ll(fl)!=jl)})})}function qo(Il){Il.N=new MediaSource;var Ll=new Ot;return Rt(Il.l,Il.N,"sourceopen",Ll.resolve),Il.f.src=tt.URL.createObjectURL(Il.N),Ll}function Jo(Il){if(Il.h&&Il.h.configure(Il.b.manifest),Il.j&&Il.j.configure(Il.b.drm),Il.a){Il.a.configure(Il.b.streaming);try{Il.c.periods.forEach(Il.gb.bind(Il))}catch(Ll){Il.za(Ll)}uu(Il,$s(Il.a))}Il.b.abr.enabled&&!Il.$a?Il.b.abr.manager.enable():Il.b.abr.manager.disable(),Il.b.abr.manager.setDefaultEstimate(Il.b.abr.defaultBandwidthEstimate),Il.b.abr.manager.setRestrictions(Il.b.abr.restrictions)}function $o(Il,Ll,El){Il.i.switchHistory.push({timestamp:Date.now()/1E3,id:Ll.id,type:Ll.type,fromAdaptation:El}),_d(Il,Ll)}function _d(Il,Ll){var El=dn(Il.c,Ll);Il.B[El]||(Il.B[El]={}),Il.B[El][Ll.type]=Ll.id}function eu(Il){Il.l&&(Il.l.ha(Il.N,"sourceopen"),Il.l.ha(Il.f,"loadeddata"),Il.l.ha(Il.f,"playing"),Il.l.ha(Il.f,"pause"),Il.l.ha(Il.f,"ended")),Il.f&&(Il.f.removeAttribute("src"),Il.f.load());var Ll=Promise.all([Il.b?Il.b.abr.manager.stop():null,Il.j?Il.j.m():null,Il.ka?Il.ka.m():null,Il.g?Il.g.m():null,Il.v?Il.v.m():null,Il.a?Il.a.m():null,Il.h?Il.h.stop():null]);return Il.j=null,Il.ka=null,Il.g=null,Il.v=null,Il.a=null,Il.h=null,Il.c=null,Il.Za=null,Il.Xa=null,Il.N=null,Il.Ya=[],Il.B={},Il.G={},Il.i=nu(),Ll}function tu(Il){return Il.h?eu(Il).then(function(){this.O||(this.zc(!1),this.Xa=qo(this))}.bind(Il)):Promise.resolve()}function iu(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:null}}}function au(Il){return{drm:{retryParameters:zt(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:zt(),dash:{customScheme:function(Ll){if(Ll)return null},clockSyncUri:"",ignoreDrmInfo:!1},hls:{defaultTimeOffset:0}},streaming:{retryParameters:zt(),infiniteRetriesForLiveStreams:!0,rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1},abr:{manager:Il.Qb,enabled:!0,defaultBandwidthEstimate:5E5,restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}},preferredAudioLanguage:"",preferredTextLanguage:"",restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}}}function nu(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function ru(Il,Ll,El){for(var jl in Ll){var ml=Ll[jl],Al=El||!1;"text"==jl&&(Al=!0),Il.$a?Il.G[jl]={stream:ml,Kc:Al}:ao(Il.a,jl,ml,Al)}}function su(Il){if(Il.c){var Ll=Date.now()/1E3;Il.la?Il.i.bufferingTime+=Ll-Il.Va:Il.i.playTime+=Ll-Il.Va,Il.Va=Ll}}function ou(Il,Ll){function El(fl,bl){if(!fl)return null;var wl=fl.findSegmentPosition(bl-ml.startTime);return null==wl?null:(wl=fl.getSegmentReference(wl))?wl.startTime+ml.startTime:null}var jl=eo(Il.a),ml=$s(Il.a),Al=El(jl.video,Ll),jl=El(jl.audio,Ll);return null!=Al&&null!=jl?Math.max(Al,jl):null==Al?null==jl?Ll:jl:Al}function du(Il,Ll,El,jl,ml){if(!El||1>El.length)return Il.za(new Mt(2,4,4012)),{};Il.b.abr.manager.setVariants(El),Il.b.abr.manager.setTextStreams(jl);var Al=[];ml&&(Al=["video","audio"],Ll.textStreams.length&&Al.push("text")),ml=eo(Il.a);var fl=Il.a,bl=fl.c.video||fl.c.audio;if(fl=bl?fl.b.periods[bl.xa]:null,Ll=an(ml.audio,ml.video,fl?fl.variants:Ll.variants))for(var wl in Ll.allowedByApplication&&Ll.allowedByKeySystem||(Al.push("audio"),Al.push("video")),ml)Ll=ml[wl],"audio"==Ll.type&&Ll.language!=El[0].language?Al.push(wl):"text"==Ll.type&&0<jl.length&&Ll.language!=jl[0].language&&Al.push(wl);if(Al=Al.filter(ft),0<Al.length){El={};try{El=Il.b.abr.manager.chooseStreams(Al)}catch(hl){Il.za(hl)}return El}return{}}function uu(Il,Ll){var El={audio:!1,text:!1},jl=en(Ll,Il.ja,El,Il.mb),ml=tn(Ll,Il.Da,El,Il.lb),jl=du(Il,Ll,jl,ml),Al;for(Al in jl)$o(Il,jl[Al],!0);ru(Il,jl,!0),Mu(Il),jl.text&&jl.audio&&El.text&&jl.text.language!=jl.audio.language&&(Il.A.mode="showing",cu(Il))}function Mu(Il){Promise.resolve().then(function(){this.O||this.dispatchEvent(new ln("adaptation"))}.bind(Il))}function lu(Il){Promise.resolve().then(function(){this.O||this.dispatchEvent(new ln("trackschanged"))}.bind(Il))}function cu(Il){Il.dispatchEvent(new ln("texttrackvisibility"))}function gu(Il){if(!Il||Il.constructor!=Xo)throw new Mt(2,9,9008);this.a=Ro(),this.f=Il,this.i=Nu(this),this.b=null,this.v=!1,this.j=null,this.g=-1,this.l=0,this.c=null,this.h=new Bo(this.a,Il.o,Il.getConfiguration().streaming.retryParameters,this.i)}function pu(){return!!tt.indexedDB}function yu(Il,Ll,El,jl){function ml(){}var Al=Il.f.o,fl=Il.f.getConfiguration(),bl,wl,hl;return Sr(Ll,Al,fl.manifest.retryParameters,jl).then(function(xl){return Eu(this),hl=new xl,hl.configure(fl.manifest),hl.start(Ll,{networkingEngine:Al,filterPeriod:this.o.bind(this),onTimelineRegionAdded:function(){},onEvent:function(){},onError:El})}.bind(Il)).then(function(xl){return Eu(this),bl=xl,wl=new si(Al,El,ml,function(){}),wl.configure(fl.drm),wl.init(bl,!0)}.bind(Il)).then(function(){return Eu(this),Iu(bl)}.bind(Il)).then(function(){return Eu(this),ui(wl)}.bind(Il)).then(function(){return Eu(this),hl.stop()}.bind(Il)).then(function(){return Eu(this),{manifest:bl,Lc:wl}}.bind(Il))["catch"](function(xl){if(hl)return hl.stop().then(function(){throw xl});throw xl})}function Nu(Il){return{trackSelectionCallback:Il.A.bind(Il),progressCallback:function(Ll,El){if(Ll||El)return null}}}function Du(Il){return Il.a?Il.a.a?Promise.resolve():Il.a.init(dl):Promise.reject(new Mt(2,9,9E3))}function Tu(Il){var Ll=Il.b?Il.b.m():Promise.resolve();return Il.b=null,Il.c=null,Il.v=!1,Il.j=null,Il.g=-1,Ll}function Iu(Il){var Ll=Il.periods.map(function(El){return El.variants}).reduce(Et,[]).map(function(El){var jl=[];return El.audio&&jl.push(El.audio),El.video&&jl.push(El.video),jl}).reduce(Et,[]).filter(ft);return Il=Il.periods.map(function(El){return El.textStreams}).reduce(Et,[]),Ll.push.apply(Ll,Il),Promise.all(Ll.map(function(El){return El.createSegmentIndex()}))}function Lu(Il,Ll,El,jl,ml){for(var Al=[],fl=Il.c.presentationTimeline.na(),bl=fl,wl=El.findSegmentPosition(fl),hl=null==wl?null:El.getSegmentReference(wl);hl;)bl=Il.a.c.segment++,Yo(Il.h,El.type,hl,(hl.endTime-hl.startTime)*jl/8,{key:bl,data:null,manifestKey:Il.g,streamNumber:El.id,segmentNumber:bl}),Al.push({startTime:hl.startTime,endTime:hl.endTime,uri:"offline:"+Il.g+"/"+El.id+"/"+bl}),bl=hl.endTime+Ll.startTime,hl=El.getSegmentReference(++wl);return Il.l=Math.max(Il.l,bl-fl),Ll=null,El.initSegmentReference&&(bl=Il.a.c.segment++,Ll="offline:"+Il.g+"/"+El.id+"/"+bl,Yo(Il.h,El.contentType,El.initSegmentReference,0,{key:bl,data:null,manifestKey:Il.g,streamNumber:El.id,segmentNumber:-1})),Il=[],null!=ml&&Il.push(ml),{id:El.id,primary:El.primary,presentationTimeOffset:El.presentationTimeOffset||0,contentType:El.type,mimeType:El.mimeType,codecs:El.codecs,frameRate:El.frameRate,kind:El.kind,language:El.language,label:El.label,width:El.width||null,height:El.height||null,initSegmentUri:Ll,encrypted:El.encrypted,keyId:El.keyId,segments:Al,variantIds:Il}}function Eu(Il){if(!Il.f)throw new Mt(2,9,9002)}function ju(Il){Ml.push(Il)}function mu(Il){var Ll=Il.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var El=new Event(Ll,Il);else El=document.createEvent("Event"),El.initEvent(Ll,Il.bubbles,Il.cancelable);Il.target.dispatchEvent(El)}function Au(Il,Ll,El){if("input"==Il)switch(this.type){case"range":Il="change";}ll.call(this,Il,Ll,El)}function fu(Il){this.f=[],this.b=[],this.a=[],new Jn().da("pssh",this.c.bind(this)).parse(Il.buffer)}function bu(Il,Ll){try{var El=new wu(Il,Ll);return Promise.resolve(El)}catch(jl){return Promise.reject(jl)}}function wu(Il,Ll){this.keySystem=Il;for(var El=!1,jl=0;jl<Ll.length;++jl){var ml=Ll[jl],Al={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:ml.initDataTypes,sessionTypes:["temporary"],label:ml.label},fl=!1;if(ml.audioCapabilities)for(var bl=0,wl;bl<ml.audioCapabilities.length;++bl)if(wl=ml.audioCapabilities[bl],wl.contentType){fl=!0;var hl=wl.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,hl)&&(Al.audioCapabilities.push(wl),El=!0)}if(ml.videoCapabilities)for(bl=0;bl<ml.videoCapabilities.length;++bl)wl=ml.videoCapabilities[bl],wl.contentType&&(fl=!0,hl=wl.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,hl)&&(Al.videoCapabilities.push(wl),El=!0));if(fl||(El=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==ml.persistentState&&(El=!1),El)return void(this.a=Al)}throw ml=Error("Unsupported keySystem"),ml.name="NotSupportedError",ml.code=DOMException.NOT_SUPPORTED_ERR,ml}function hu(Il){var Ll=this.mediaKeys;return Ll&&Ll!=Il&&Su(Ll,null),delete this.mediaKeys,(this.mediaKeys=Il)?Su(Il,this):Promise.resolve()}function xu(Il){this.a=new MSMediaKeys(Il),this.b=new _t}function Su(Il,Ll){function El(){Ll.msSetMediaKeys(jl.a),Ll.removeEventListener("loadedmetadata",El)}if(Yt(Il.b),!Ll)return Promise.resolve();Rt(Il.b,Ll,"msneedkey",Cu);var jl=Il;try{return 1<=Ll.readyState?Ll.msSetMediaKeys(Il.a):Ll.addEventListener("loadedmetadata",El),Promise.resolve()}catch(ml){return Promise.reject(ml)}}function Ou(Il){Tn.call(this),this.c=null,this.g=Il,this.b=this.a=null,this.f=new _t,this.sessionId="",this.expiration=NaN,this.closed=new Ot,this.keyStatuses=new ku}function Cu(Il){var Ll=document.createEvent("CustomEvent");Ll.initCustomEvent("encrypted",!1,!1,null),Ll.initDataType="cenc";var El=Il.initData;if(El){var jl=new fu(El);if(1>=jl.a.length)Il=El;else{var ml=[];for(Il=0;Il<jl.a.length;Il++)ml.push(El.subarray(jl.a[Il].start,jl.a[Il].end+1));for(El=kt(ml,zu),Il=jl=0;Il<El.length;Il++)jl+=El[Il].length;for(jl=new Uint8Array(jl),Il=ml=0;Il<El.length;Il++)jl.set(El[Il],ml),ml+=El[Il].length;Il=jl}}else Il=El;Ll.initData=Il,this.dispatchEvent(Ll)}function zu(Il,Ll){return ri(Il,Ll)}function vu(Il,Ll){Il.keyStatuses.Kb(Ll),Il.dispatchEvent(new ln("keystatuseschange"))}function ku(){this.size=0,this.a=void 0}function Uu(){return Promise.reject(Error("The key system specified is not supported."))}function Qu(Il){return Il?Promise.reject(Error("MediaKeys not supported.")):Promise.resolve()}function _u(){throw new TypeError("Illegal constructor.")}function Ru(){throw new TypeError("Illegal constructor.")}function Bu(Il){pl=Il,yl=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Pu,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Fu,tt.MediaKeys=Vu,tt.MediaKeySystemAccess=Gu}function Yu(Il){var Ll=pl;return Ll?Ll+Il.charAt(0).toUpperCase()+Il.slice(1):Il}function Pu(Il,Ll){try{var El=new Gu(Il,Ll);return Promise.resolve(El)}catch(jl){return Promise.reject(jl)}}function Fu(Il){var Ll=this.mediaKeys;return Ll&&Ll!=Il&&Hu(Ll,null),delete this.mediaKeys,(this.mediaKeys=Il)&&Hu(Il,this),Promise.resolve()}function Gu(Il,Ll){this.a=this.keySystem=Il;var El=!1;"org.w3.clearkey"==Il&&(this.a="webkit-org.w3.clearkey",El=!1);for(var jl=!1,ml=document.getElementsByTagName("video"),Al=ml.length?ml[0]:document.createElement("video"),fl=0;fl<Ll.length;++fl){ml=Ll[fl];var bl={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:ml.initDataTypes,sessionTypes:["temporary"],label:ml.label},wl=!1;if(ml.audioCapabilities)for(var hl=0,xl;hl<ml.audioCapabilities.length;++hl)if(xl=ml.audioCapabilities[hl],xl.contentType){var wl=!0,Sl=xl.contentType.split(";")[0];Al.canPlayType(Sl,this.a)&&(bl.audioCapabilities.push(xl),jl=!0)}if(ml.videoCapabilities)for(hl=0;hl<ml.videoCapabilities.length;++hl)xl=ml.videoCapabilities[hl],xl.contentType&&(wl=!0,Al.canPlayType(xl.contentType,this.a)&&(bl.videoCapabilities.push(xl),jl=!0));if(wl||(jl=Al.canPlayType("video/mp4",this.a)||Al.canPlayType("video/webm",this.a)),"required"==ml.persistentState&&(El?(bl.persistentState="required",bl.sessionTypes=["persistent-license"]):jl=!1),jl)return void(this.b=bl)}throw El="Unsupported keySystem",("org.w3.clearkey"==Il||"com.widevine.alpha"==Il)&&(El="None of the requested configurations were supported."),El=Error(El),El.name="NotSupportedError",El.code=DOMException.NOT_SUPPORTED_ERR,El}function Vu(Il){this.g=Il,this.b=null,this.a=new _t,this.c=[],this.f={}}function Hu(Il,Ll){Il.b=Ll,Yt(Il.a);var El=pl;Ll&&(Rt(Il.a,Ll,El+"needkey",Il.Cd.bind(Il)),Rt(Il.a,Ll,El+"keymessage",Il.Bd.bind(Il)),Rt(Il.a,Ll,El+"keyadded",Il.zd.bind(Il)),Rt(Il.a,Ll,El+"keyerror",Il.Ad.bind(Il)))}function Wu(Il,Ll){var El=Il.f[Ll];return El?El:(El=Il.c.shift())?(El.sessionId=Ll,Il.f[Ll]=El):null}function Zu(Il,Ll,El){Tn.call(this),this.f=Il,this.h=!1,this.a=this.b=null,this.c=Ll,this.g=El,this.sessionId="",this.expiration=NaN,this.closed=new Ot,this.keyStatuses=new qu}function Xu(Il,Ll,El){if(Il.h)return Promise.reject(Error("The session is already initialized."));Il.h=!0;try{if(!("persistent-license"==Il.g))jl=new Uint8Array(Ll);else if(El)var jl=new Uint8Array(qt("LOAD_SESSION|"+El));else{var ml=qt("PERSISTENT|"),Al=new Uint8Array(ml.byteLength+Ll.byteLength);Al.set(new Uint8Array(ml),0),Al.set(new Uint8Array(Ll),ml.byteLength),jl=Al}}catch(bl){return Promise.reject(bl)}Il.b=new Ot;var fl=Yu("generateKeyRequest");try{Il.f[fl](Il.c,jl)}catch(bl){if("InvalidStateError"!=bl.name)return Il.b=null,Promise.reject(bl);setTimeout(function(){try{this.f[fl](this.c,jl)}catch(wl){this.b.reject(wl),this.b=null}}.bind(Il),10)}return Il.b}function Ku(Il,Ll){Il.keyStatuses.Kb(Ll),Il.dispatchEvent(new ln("keystatuseschange"))}function qu(){this.size=0,this.a=void 0}function Ju(){var Il=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var Ll=Il.apply(this,arguments);return Ll.abort=function(){},Ll}}function $u(){var Il=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var jl=0,ml=0,El;ml<this.sourceBuffers.length;++ml)El=this.sourceBuffers[ml],El=El.buffered.end(El.buffered.length-1),jl=Math.max(jl,El);if(!isNaN(this.duration)&&jl<this.duration)for(this.Zb=!0,ml=0;ml<this.sourceBuffers.length;++ml)El=this.sourceBuffers[ml],El.Tb=!1;return Il.apply(this,arguments)};var Ll=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var El=Ll.apply(this,arguments);return El.N=this,El.addEventListener("updateend",eM,!1),this.a||(this.addEventListener("sourceclose",tM,!1),this.a=!0),El}}function eM(Il){var Ll=Il.target,El=Ll.N;if(El.Zb){for(Il.preventDefault(),Il.stopPropagation(),Il.stopImmediatePropagation(),Ll.Tb=!0,Il=0;Il<El.sourceBuffers.length;++Il)if(0==El.sourceBuffers[Il].Tb)return;El.Zb=!1}}function tM(Il){Il=Il.target;for(var Ll=0;Ll<Il.sourceBuffers.length;++Ll)Il.sourceBuffers[Ll].removeEventListener("updateend",eM,!1);Il.removeEventListener("sourceclose",tM,!1)}function iM(Il){if(this.c=[],this.b=[],this.Ba=Nl,Il)try{Il(this.fa.bind(this),this.a.bind(this))}catch(Ll){this.a(Ll)}}function aM(Il){var Ll=new iM;return Ll.fa(void 0),Ll.then(function(){return Il})}function nM(Il){var Ll=new iM;return Ll.a(Il),Ll}function rM(Il){function Ll(bl,wl,hl){bl.Ba==Nl&&(ml[wl]=hl,jl++,jl==ml.length&&bl.fa(ml))}var El=new iM;if(!Il.length)return El.fa([]),El;for(var jl=0,ml=Array(Il.length),Al=El.a.bind(El),fl=0;fl<Il.length;++fl)Il[fl]&&Il[fl].then?Il[fl].then(Ll.bind(null,El,fl),Al):Ll(El,fl,Il[fl]);return El}function sM(Il){for(var Ll=new iM,El=Ll.fa.bind(Ll),jl=Ll.a.bind(Ll),ml=0;ml<Il.length;++ml)Il[ml]&&Il[ml].then?Il[ml].then(El,jl):El(Il[ml]);return Ll}function oM(Il,Ll,El){Tl.push(function(){if(El&&"function"==typeof El){try{var jl=El(this.jb)}catch(Al){return void Ll.a(Al)}try{var ml=jl&&jl.then}catch(Al){return void Ll.a(Al)}jl instanceof iM?jl==Ll?Ll.a(new TypeError("Chaining cycle detected")):jl.then(Ll.fa.bind(Ll),Ll.a.bind(Ll)):ml?dM(jl,ml,Ll):Ll.fa(jl)}else 1==this.Ba?Ll.fa(this.jb):Ll.a(this.jb)}.bind(Il)),null==Dl&&(Dl=MM(uM))}function dM(Il,Ll,El){try{var jl=!1;Ll.call(Il,function(ml){if(!jl){jl=!0;try{var Al=ml&&ml.then}catch(fl){return void El.a(fl)}Al?dM(ml,Al,El):El.fa(ml)}},El.a.bind(El))}catch(ml){El.a(ml)}}function uM(){for(;Tl.length;){null!=Dl&&(lM(Dl),Dl=null);var Il=Tl;Tl=[];for(var Ll=0;Ll<Il.length;++Ll)Il[Ll]()}}function MM(){return 0}function lM(){}function cM(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function gM(Il,Ll,El){return new tt.TextTrackCue(Il,Ll,El)}function pM(Il,Ll,El){return new tt.TextTrackCue(Il+"-"+Ll+"-"+El,Il,Ll,El)}var NM=this,yM;NM.xe=!0;ot.prototype.setDefaultEstimate=function(Il){this.b=Il},ot.prototype.getBandwidthEstimate=function(){return 128E3>this.a?this.b:Math.min(st(this.c),st(this.f))};it("shaka.util.Error",Mt),Mt.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Mt.Severity={RECOVERABLE:1,CRITICAL:2},Mt.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},Mt.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7E3,CAST_API_UNAVAILABLE:8E3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9E3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008};var DM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;yM=lt.prototype,yM.aa="",yM.Ca="",yM.ca="",yM.Ka=null,yM.W="",yM.ua="",yM.toString=function(){var Il=[],Ll=this.aa;if(Ll&&Il.push(Nt(Ll,TM,!0),":"),Ll=this.ca){Il.push("//");var El=this.Ca;El&&Il.push(Nt(El,TM,!0),"@"),Il.push(encodeURIComponent(Ll).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Ll=this.Ka,null!=Ll&&Il.push(":",Ll+"")}return(Ll=this.W)&&(this.ca&&"/"!=Ll.charAt(0)&&Il.push("/"),Il.push(Nt(Ll,"/"==Ll.charAt(0)?LM:IM,!0))),(Ll=this.a.toString())&&Il.push("?",Ll),(Ll=this.ua)&&Il.push("#",Nt(Ll,jM)),Il.join("")},yM.resolve=function(Il){var Ll=new lt(this);"data"===Ll.aa&&(Ll=new lt);var El=!!Il.aa;El?ct(Ll,Il.aa):El=!!Il.Ca,El?Ll.Ca=Il.Ca:El=!!Il.ca,El?Ll.ca=Il.ca:El=null!=Il.Ka;var jl=Il.W;if(El)gt(Ll,Il.Ka);else if(El=!!Il.W){if("/"!=jl.charAt(0))if(this.ca&&!this.W)jl="/"+jl;else{var ml=Ll.W.lastIndexOf("/");-1!=ml&&(jl=Ll.W.substr(0,ml+1)+jl)}if(".."==jl||"."==jl)jl="";else if(-1!=jl.indexOf("./")||-1!=jl.indexOf("/.")){for(var ml=!jl.lastIndexOf("/",0),jl=jl.split("/"),Al=[],fl=0,bl;fl<jl.length;)bl=jl[fl++],"."==bl?ml&&fl==jl.length&&Al.push(""):".."==bl?((1<Al.length||1==Al.length&&""!=Al[0])&&Al.pop(),ml&&fl==jl.length&&Al.push("")):(Al.push(bl),ml=!0);jl=Al.join("/")}}return El?Ll.W=jl:El=""!==Il.a.toString(),El?pt(Ll,It(Il.a)):El=!!Il.ua,El&&(Ll.ua=Il.ua),Ll};var TM=/[#\/\?@]/g,IM=/[\#\?:]/g,LM=/[\#\?]/g,EM=/[\#\?@]/g,jM=/#/g;Tt.prototype.a=null,Tt.prototype.c=null,Tt.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var Il=[],Ll;for(Ll in this.a)for(var El=encodeURIComponent(Ll),jl=this.a[Ll],ml=0,Al;ml<jl.length;ml++)Al=El,""!==jl[ml]&&(Al+="="+encodeURIComponent(jl[ml])),Il.push(Al);return this.b=Il.join("&")};var mM=1/15;it("shaka.net.NetworkingEngine",Ct),Ct.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3};var AM={};Ct.registerScheme=function(Il,Ll){AM[Il]=Ll},Ct.unregisterScheme=function(Il){delete AM[Il]},Ct.prototype.Ld=function(Il){this.b.push(Il)},Ct.prototype.registerRequestFilter=Ct.prototype.Ld,Ct.prototype.pe=function(Il){var Ll=this.b;Il=Ll.indexOf(Il),0<=Il&&Ll.splice(Il,1)},Ct.prototype.unregisterRequestFilter=Ct.prototype.pe,Ct.prototype.Ic=function(){this.b=[]},Ct.prototype.clearAllRequestFilters=Ct.prototype.Ic,Ct.prototype.Md=function(Il){this.c.push(Il)},Ct.prototype.registerResponseFilter=Ct.prototype.Md,Ct.prototype.qe=function(Il){var Ll=this.c;Il=Ll.indexOf(Il),0<=Il&&Ll.splice(Il,1)},Ct.prototype.unregisterResponseFilter=Ct.prototype.qe,Ct.prototype.Jc=function(){this.c=[]},Ct.prototype.clearAllResponseFilters=Ct.prototype.Jc,Ct.prototype.m=function(){this.f=!0,this.b=[],this.c=[];for(var Il=[],Ll=0;Ll<this.a.length;++Ll)Il.push(this.a[Ll]["catch"](jt));return Promise.all(Il)},Ct.prototype.destroy=Ct.prototype.m,Ct.prototype.request=function(Il,Ll){if(this.f)return Promise.reject();Ll.method=Ll.method||"GET",Ll.headers=Ll.headers||{},Ll.retryParameters=Ll.retryParameters?St(Ll.retryParameters):zt(),Ll.uris=St(Ll.uris);var El=Date.now(),jl=Promise.resolve();return this.b.forEach(function(ml){jl=jl.then(ml.bind(null,Il,Ll))}),jl=jl["catch"](function(ml){throw new Mt(2,1,1006,ml)}),jl=jl.then(function(){for(var ml=Date.now()-El,Al=Ll.retryParameters||{},fl=Al.maxAttempts||1,bl=Al.backoffFactor||2,Al=null==Al.baseDelay?1E3:Al.baseDelay,wl=this.g(Il,Ll,0,ml),hl=1;hl<fl;hl++)wl=wl["catch"](function(xl,Sl,Ol){if(Ol&&1==Ol.severity){Ol=new Ot;var Cl=Ll.retryParameters||{};return tt.setTimeout(Ol.resolve,xl*(1+(2*Math.random()-1)*(null==Cl.fuzzFactor?.5:Cl.fuzzFactor))),Ol.then(this.g.bind(this,Il,Ll,Sl,ml))}throw Ol}.bind(this,Al,hl%Ll.uris.length)),Al*=bl;return wl}.bind(this)),this.a.push(jl),jl.then(function(ml){return 0<=this.a.indexOf(jl)&&this.a.splice(this.a.indexOf(jl),1),this.h&&!ml.fromCache&&1==Il&&this.h(ml.timeMs,ml.data.byteLength),ml}.bind(this))["catch"](function(ml){return ml&&(ml.severity=2),0<=this.a.indexOf(jl)&&this.a.splice(this.a.indexOf(jl),1),Promise.reject(ml)}.bind(this))},Ct.prototype.request=Ct.prototype.request,Ct.prototype.g=function(Il,Ll,El,jl){if(this.f)return Promise.reject();var ml=new lt(Ll.uris[El]),Al=ml.aa;if(Al||(Al=location.protocol,Al=Al.slice(0,-1),ct(ml,Al),Ll.uris[El]=ml.toString()),Al=AM[Al],!Al)return Promise.reject(new Mt(2,1,1E3,ml));var fl=Date.now();return Al(Ll.uris[El],Ll,Il).then(function(bl){void 0==bl.timeMs&&(bl.timeMs=Date.now()-fl);var wl=Date.now(),hl=Promise.resolve();return this.c.forEach(function(xl){hl=hl.then(function(){return Promise.resolve(xl(Il,bl))}.bind(this))}),hl=hl["catch"](function(xl){var Sl=2;throw xl instanceof Mt&&(Sl=xl.severity),new Mt(Sl,1,1007,xl)}),hl.then(function(){return bl.timeMs+=Date.now()-wl,bl.timeMs+=jl,bl})}.bind(this))};Qt.prototype.push=function(Il,Ll){this.a.hasOwnProperty(Il)?this.a[Il].push(Ll):this.a[Il]=[Ll]},Qt.prototype.get=function(Il){return(Il=this.a[Il])?Il.slice():null},Qt.prototype.remove=function(Il,Ll){var El=this.a[Il];if(El)for(var jl=0;jl<El.length;++jl)El[jl]==Ll&&(El.splice(jl,1),--jl)},_t.prototype.m=function(){return Yt(this),this.a=null,Promise.resolve()},_t.prototype.ha=function(Il,Ll){if(this.a)for(var El=this.a.get(Ll)||[],jl=0,ml;jl<El.length;++jl)ml=El[jl],ml.target==Il&&(ml.ha(),this.a.remove(Ll,ml))},Pt.prototype.ha=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null};it("shaka.util.StringUtils.fromUTF8",Zt),it("shaka.util.StringUtils.fromUTF16",Xt),it("shaka.util.StringUtils.fromBytesAutoDetect",Kt),it("shaka.util.StringUtils.toUTF8",qt);$t.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)};it("shaka.util.Uint8ArrayUtils.toBase64",ti),it("shaka.util.Uint8ArrayUtils.fromBase64",ii),it("shaka.util.Uint8ArrayUtils.fromHex",ai),it("shaka.util.Uint8ArrayUtils.toHex",ni),it("shaka.util.Uint8ArrayUtils.equal",ri),it("shaka.util.Uint8ArrayUtils.concat",function(){for(var Ll=0,El=0;El<arguments.length;++El)Ll+=arguments[El].length;for(var Ll=new Uint8Array(Ll),jl=0,El=0;El<arguments.length;++El)Ll.set(arguments[El],jl),jl+=arguments[El].length;return Ll}),yM=si.prototype,yM.m=function(){this.c=!0;var Il=this.a.map(function(Ll){return(Ll.ba.close()||Promise.resolve())["catch"](jt)});return this.i.reject(),this.f&&Il.push(this.f.m()),this.l&&Il.push(this.l.setMediaKeys(null)["catch"](jt)),this.O&&(clearInterval(this.O),this.O=null),this.B&&this.B.cancel(),this.f=this.l=this.j=this.v=this.b=this.B=null,this.a=[],this.o=[],this.ma=this.g=this.h=this.la=null,Promise.all(Il)},yM.configure=function(Il){this.h=Il},yM.init=function(Il,Ll){var El={},jl=[];return this.ka=Ll,this.o=Il.offlineSessionIds,li(this,Il,Ll||0<Il.offlineSessionIds.length,El,jl),jl.length?ci(this,El,jl):(this.J=!0,Promise.resolve())},yM.keySystem=function(){return this.b?this.b.keySystem:""},yM.bb=function(){var Il=this.a.map(function(Ll){return Ll=Ll.ba.expiration,isNaN(Ll)?Infinity:Ll});return Math.min.apply(Math,Il)},yM.fd=function(Il){for(var Ll=new Uint8Array(Il.initData),El=0;El<this.a.length;++El)if(ri(Ll,this.a[El].initData))return;Ti(this,Il.initDataType,Ll)},yM.kc=function(Il){this.h.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.ja?this.G.push(Il):Ii(this,Il)},yM.ec=function(Il){Il=Il.target;var Ll;for(Ll=0;Ll<this.a.length&&this.a[Ll].ba!=Il;++Ll);if(Ll!=this.a.length){var El=!1;Il.keyStatuses.forEach(function(ml,Al){if("string"==typeof Al){var fl=Al;Al=ml,ml=fl}if("com.microsoft.playready"==this.b.keySystem&&16==Al.byteLength){var fl=new DataView(Al),bl=fl.getUint32(0,!0),wl=fl.getUint16(4,!0),hl=fl.getUint16(6,!0);fl.setUint32(0,bl,!1),fl.setUint16(4,wl,!1),fl.setUint16(6,hl,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==ml&&(ml="usable"),"status-pending"!=ml&&(this.a[Ll].loaded=!0,this.a.every(function(xl){return xl.loaded})&&this.i.resolve()),"expired"==ml&&(El=!0),fl=ni(new Uint8Array(Al)),this.A[fl]=ml}.bind(this));var jl=Il.expiration-Date.now();(0>jl||El&&1E3>jl)&&!this.a[Ll].ia&&(this.a.splice(Ll,1),Il.close()),ei(this.B)}},yM.Kd=function(){!Ft(this.A)&&Ht(this.A,function(Ll,El){return"expired"==El})&&this.g(new Mt(2,6,6014)),this.Da(this.A)},yM.qd=function(){for(var Il=0;Il<this.G.length;Il++)Ii(this,this.G[Il]);this.ja=!0,this.G=[]},yM.Jd=function(){this.a.forEach(function(Il){var Ll=Il.zb,El=Il.ba.expiration;isNaN(El)&&(El=Infinity),El!=Ll&&(this.ma(Il.ba.sessionId,El),Il.zb=El)}.bind(this))};var fM={};it("shaka.media.TextEngine.registerParser",fi),it("shaka.media.TextEngine.unregisterParser",function(Il){delete fM[Il]}),it("shaka.media.TextEngine.makeCue",bi),Ai.prototype.m=function(){return this.c&&hi(this,function(){return!0}),this.c=this.f=null,Promise.resolve()},Ai.prototype.remove=function(Il,Ll){return Promise.resolve().then(function(){this.c&&(hi(this,function(El){return El.startTime>=Ll||El.endTime<=Il?!1:!0}),null==this.b||Ll<=this.b||Il>=this.a||(Il<=this.b&&Ll>=this.a?this.b=this.a=null:Il<=this.b&&Ll<this.a?this.b=Ll:Il>this.b&&Ll>=this.a&&(this.a=Il)))}.bind(this))},xi.prototype.parseInit=function(Il){this.Oa(Il,0,null,null)},xi.prototype.parseMedia=function(Il,Ll){return this.Oa(Il,Ll.periodStart,Ll.segmentStart,Ll.segmentEnd)};yM=zi.prototype,yM.m=function(){this.h=!0;var Il=[],Ll;for(Ll in this.b){var El=this.b[Ll],jl=El[0];for(this.b[Ll]=El.slice(0,1),jl&&Il.push(jl.p["catch"](jt)),jl=1;jl<El.length;++jl)El[jl].p["catch"](jt),El[jl].p.reject()}return this.a&&Il.push(this.a.m()),Promise.all(Il).then(function(){this.g.m(),this.a=this.i=this.N=this.f=this.g=null,this.c={},this.b={}}.bind(this))},yM.init=function(Il){for(var Ll in Il){var El=Il[Ll];"text"==Ll?ki(this,El):(El=this.N.addSourceBuffer(El),Rt(this.g,El,"error",this.ke.bind(this,Ll)),Rt(this.g,El,"updateend",this.Ja.bind(this,Ll)),this.c[Ll]=El,this.b[Ll]=[])}},yM.remove=function(Il,Ll,El){return"text"==Il?this.a.remove(Ll,El):Yi(this,Il,this.qc.bind(this,Il,Ll,El))},yM.endOfStream=function(Il){return Pi(this,function(){Il?this.N.endOfStream(Il):this.N.endOfStream()}.bind(this))},yM.qa=function(Il){return Pi(this,function(){this.N.duration=Il}.bind(this))},yM.Y=function(){return this.N.duration},yM.je=function(Il,Ll){this.c[Il].appendBuffer(Ll)},yM.qc=function(Il,Ll,El){El<=Ll?this.Ja(Il):this.c[Il].remove(Ll,El)},yM.Ec=function(Il){var Ll=this.c[Il].appendWindowEnd;this.c[Il].abort(),this.c[Il].appendWindowEnd=Ll,this.Ja(Il)},yM.Oc=function(Il){this.f.currentTime-=.001,this.Ja(Il)},yM.$d=function(Il,Ll){this.c[Il].timestampOffset=Ll,this.Ja(Il)},yM.Yd=function(Il,Ll){this.c[Il].appendWindowEnd=Ll+.04,this.Ja(Il)},yM.ke=function(Il){this.b[Il][0].p.reject(new Mt(2,3,3014,this.f.error?this.f.error.code:0))},yM.Ja=function(Il){var Ll=this.b[Il][0];Ll&&(Ll.p.resolve(),Fi(this,Il))};var bM=1,wM=2,hM={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};it("shaka.abr.SimpleAbrManager",un),un.prototype.stop=function(){this.f=null,this.b=!1,this.h=[],this.g=[],this.c=null},un.prototype.stop=un.prototype.stop,un.prototype.init=function(Il){this.f=Il},un.prototype.init=un.prototype.init,un.prototype.chooseStreams=function(Il){var Ll={};if(-1<Il.indexOf("audio")||-1<Il.indexOf("video")){var El=this.h,jl=Mn(this.i,El),ml=this.a.getBandwidthEstimate();if(El.length&&!jl.length)throw new Mt(2,4,4012);for(var El=jl[0],Al=0;Al<jl.length;++Al){var fl=jl[Al],bl=(jl[Al+1]||{bandwidth:Infinity}).bandwidth/.85;ml>=fl.bandwidth/.95&&ml<=bl&&(El=fl)}(jl=El)&&jl.video&&(Ll.video=jl.video),jl&&jl.audio&&(Ll.audio=jl.audio)}return-1<Il.indexOf("text")&&(Ll.text=this.g[0]),this.c=Date.now(),Ll},un.prototype.chooseStreams=un.prototype.chooseStreams,un.prototype.enable=function(){this.b=!0},un.prototype.enable=un.prototype.enable,un.prototype.disable=function(){this.b=!1},un.prototype.disable=un.prototype.disable,un.prototype.segmentDownloaded=function(Il,Ll){var El=this.a;if(!(16E3>Ll)){var jl=8E3*Ll/Il,ml=Il/1E3;El.a+=Ll,rt(El.c,ml,jl),rt(El.f,ml,jl)}if(null!=this.c&&this.b)a:{if(!this.j){if(!(128E3<=this.a.a))break a;this.j=!0}else if(8E3>Date.now()-this.c)break a;El=this.chooseStreams(["audio","video"]),this.a.getBandwidthEstimate(),this.f(El)}},un.prototype.segmentDownloaded=un.prototype.segmentDownloaded,un.prototype.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate()},un.prototype.getBandwidthEstimate=un.prototype.getBandwidthEstimate,un.prototype.setDefaultEstimate=function(Il){this.a.setDefaultEstimate(Il)},un.prototype.setDefaultEstimate=un.prototype.setDefaultEstimate,un.prototype.setRestrictions=function(Il){this.i=Il},un.prototype.setRestrictions=un.prototype.setRestrictions,un.prototype.setVariants=function(Il){this.h=Il},un.prototype.setVariants=un.prototype.setVariants,un.prototype.setTextStreams=function(Il){this.g=Il},un.prototype.setTextStreams=un.prototype.setTextStreams;ln.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ln.prototype.stopImmediatePropagation=function(){this.a=!0},ln.prototype.stopPropagation=function(){};var xM="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),SM="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),OM=["loop","playbackRate"],CM=["pause","play"],zM="adaptation buffering emsg error loading unloading texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged".split(" "),vM="drmInfo getAudioLanguages getConfiguration getExpiration getManifestUri getPlaybackRate getPlayheadTimeAsDate getTextLanguages getTextTracks getTracks getStats getVariantTracks isBuffering isInProgress isLive isTextTrackVisible keySystem seekRange".split(" "),kM=[["getConfiguration","configure"]],UM=[["isTextTrackVisible","setTextTrackVisibility"]],QM="addTextTrack cancelTrickPlay configure resetConfiguration selectAudioLanguage selectTextLanguage selectTextTrack selectTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),_M=["load","unload"];yM=yn.prototype,yM.m=function(){return Nn(this),this.a&&(this.a.leave(function(){},function(){}),this.a=null),this.G=this.B=this.l=null,this.c=this.j=this.h=!1,this.g=this.f=this.b=this.i=null,Promise.resolve()},yM.V=function(){return this.c},yM.Fb=function(){return this.A},yM.init=function(){if(tt.chrome&&chrome.cast&&chrome.cast.isAvailable){delete tt.__onGCastApiAvailable,this.h=!0,this.l();var Il=new chrome.cast.SessionRequest(this.J),Il=new chrome.cast.ApiConfig(Il,this.gd.bind(this),this.sd.bind(this),"origin_scoped");chrome.cast.initialize(Il,function(){},function(){})}else tt.__onGCastApiAvailable=function(Ll){Ll&&this.init()}.bind(this)},yM.Ib=function(Il){this.i=Il,this.c&&Dn(this,{type:"appData",appData:this.i})},yM.cast=function(Il){return this.h?this.j?this.c?Promise.reject(new Mt(1,8,8002)):(this.g=new Ot,chrome.cast.requestSession(this.Bb.bind(this,Il),this.cc.bind(this)),this.g):Promise.reject(new Mt(1,8,8001)):Promise.reject(new Mt(1,8,8E3))},yM.ab=function(){this.c&&(Nn(this),this.a&&(this.a.stop(function(){},function(){}),this.a=null))},yM.get=function(Il,Ll){if("video"==Il){if(0<=CM.indexOf(Ll))return this.pc.bind(this,Il,Ll);}else if("player"==Il){if(0<=QM.indexOf(Ll))return this.pc.bind(this,Il,Ll);if(0<=_M.indexOf(Ll))return this.Pd.bind(this,Il,Ll);if(0<=vM.indexOf(Ll))return this.lc.bind(this,Il,Ll)}return this.lc(Il,Ll)},yM.set=function(Il,Ll,El){this.b[Il][Ll]=El,Dn(this,{type:"set",targetName:Il,property:Ll,value:El})},yM.Bb=function(Il,Ll){this.a=Ll,this.a.addUpdateListener(this.dc.bind(this)),this.a.addMessageListener("urn:x-cast:com.google.shaka.v2",this.md.bind(this)),this.dc(),Dn(this,{type:"init",initState:Il,appData:this.i}),this.g.resolve()},yM.cc=function(Il){var Ll=8003;switch(Il.code){case"cancel":Ll=8004;break;case"timeout":Ll=8005;break;case"receiver_unavailable":Ll=8006;}this.g.reject(new Mt(2,8,Ll,Il))},yM.lc=function(Il,Ll){return this.b[Il][Ll]},yM.pc=function(Il,Ll){Dn(this,{type:"call",targetName:Il,methodName:Ll,args:Array.prototype.slice.call(arguments,2)})},yM.Pd=function(Il,Ll){var El=Array.prototype.slice.call(arguments,2),jl=new Ot,ml=this.o.toString();return this.o++,this.f[ml]=jl,Dn(this,{type:"asyncCall",targetName:Il,methodName:Ll,args:El,id:ml}),jl},yM.gd=function(Il){var Ll=this.v();this.g=new Ot,this.Bb(Ll,Il)},yM.sd=function(Il){this.j="available"==Il,this.l()},yM.dc=function(){var Il=!!this.a&&"connected"==this.a.status;if(this.c&&!Il){for(var Ll in this.G(),this.b)this.b[Ll]={};Nn(this)}this.A=(this.c=Il)?this.a.receiver.friendlyName:"",this.l()},yM.md=function(Il,Ll){var El=gn(Ll);switch(El.type){case"event":var jl=El.targetName,ml=El.event;this.B(jl,new ln(ml.type,ml));break;case"update":for(jl in ml=El.update,ml){var El=this.b[jl]||{};for(Al in ml[jl])El[Al]=ml[jl][Al]}break;case"asyncComplete":jl=El.id;var Al=El.error;if(El=this.f[jl],delete this.f[jl],El)if(Al){for(ml in jl=new Mt(Al.severity,Al.category,Al.code),Al)jl[ml]=Al[ml];El.reject(jl)}else El.resolve();}};Tn.prototype.addEventListener=function(Il,Ll){this.nb.push(Il,Ll)},Tn.prototype.removeEventListener=function(Il,Ll){this.nb.remove(Il,Ll)},Tn.prototype.dispatchEvent=function(Il){for(var Ll=this.nb.get(Il.type)||[],El=0;El<Ll.length;++El){Il.target=this.Ua,Il.currentTarget=this.Ua;var jl=Ll[El];try{jl.handleEvent?jl.handleEvent(Il):jl.call(this,Il)}catch(ml){}if(Il.a)break}return Il.defaultPrevented},at(In),it("shaka.cast.CastProxy",In),In.prototype.m=function(Il){return Il&&this.a&&this.a.ab(),Il=[this.h?this.h.m():null,this.b?this.b.m():null,this.a?this.a.m():null],this.a=this.h=this.i=this.j=this.b=this.c=null,Promise.all(Il)},In.prototype.destroy=In.prototype.m,In.prototype.Zc=function(){return this.j},In.prototype.getVideo=In.prototype.Zc,In.prototype.Tc=function(){return this.i},In.prototype.getPlayer=In.prototype.Tc,In.prototype.Fc=function(){return!!this.a&&this.a.h&&this.a.j},In.prototype.canCast=In.prototype.Fc,In.prototype.V=function(){return!!this.a&&this.a.V()},In.prototype.isCasting=In.prototype.V,In.prototype.Fb=function(){return this.a?this.a.Fb():""},In.prototype.receiverName=In.prototype.Fb,In.prototype.cast=function(){var Il=this.Vb();return this.a.cast(Il).then(function(){return this.b.ib()}.bind(this))},In.prototype.cast=In.prototype.cast,In.prototype.Ib=function(Il){this.a.Ib(Il)},In.prototype.setAppData=In.prototype.Ib,In.prototype.ne=function(){var Il=this.a;if(Il.c){var Ll=Il.v();chrome.cast.requestSession(Il.Bb.bind(Il,Ll),Il.cc.bind(Il))}},In.prototype.suggestDisconnect=In.prototype.ne,In.prototype.ab=function(){this.a.ab()},In.prototype.forceDisconnect=In.prototype.ab,yM=In.prototype,yM.Vb=function(){var Il={video:{},player:{},playerAfterLoad:{},manifest:this.b.Za,startTime:null};return this.c.pause(),OM.forEach(function(Ll){Il.video[Ll]=this.c[Ll]}.bind(this)),this.c.ended||(Il.startTime=this.c.currentTime),kM.forEach(function(Ll){var El=Ll[1];Ll=this.b[Ll[0]](),Il.player[El]=Ll}.bind(this)),UM.forEach(function(Ll){var El=Ll[1];Ll=this.b[Ll[0]](),Il.playerAfterLoad[El]=Ll}.bind(this)),Il},yM.fe=function(){this.dispatchEvent(new ln("caststatuschanged"))},yM.he=function(){kM.forEach(function(fl){var bl=fl[1];fl=this.a.get("player",fl[0])(),this.b[bl](fl)}.bind(this));var Il=this.a.get("player","getManifestUri")(),Ll=this.a.get("video","ended"),El=Promise.resolve(),jl=this.c.autoplay,ml=null;Ll||(ml=this.a.get("video","currentTime")),Il&&(this.c.autoplay=!1,El=this.b.load(Il,ml),El["catch"](function(fl){this.b.dispatchEvent(new ln("error",{detail:fl}))}.bind(this)));var Al={};OM.forEach(function(fl){Al[fl]=this.a.get("video",fl)}.bind(this)),El.then(function(){OM.forEach(function(fl){this.c[fl]=Al[fl]}.bind(this)),UM.forEach(function(fl){var bl=fl[1];fl=this.a.get("player",fl[0])(),this.b[bl](fl)}.bind(this)),this.c.autoplay=jl,Il&&this.c.play()}.bind(this))},yM.te=function(Il){if("addEventListener"==Il)return this.g.addEventListener.bind(this.g);if("removeEventListener"==Il)return this.g.removeEventListener.bind(this.g);if(this.a.V()&&!Object.keys(this.a.b.video).length){var Ll=this.c[Il];if("function"!=typeof Ll)return Ll}return this.a.V()?this.a.get("video",Il):(Ll=this.c[Il],"function"==typeof Ll&&(Ll=Ll.bind(this.c)),Ll)},yM.ve=function(Il,Ll){this.a.V()?this.a.set("video",Il,Ll):this.c[Il]=Ll},yM.ue=function(Il){this.a.V()||this.g.dispatchEvent(new ln(Il.type,Il))},yM.Hd=function(Il){return"addEventListener"==Il?this.f.addEventListener.bind(this.f):"removeEventListener"==Il?this.f.removeEventListener.bind(this.f):"getNetworkingEngine"==Il?this.b.Wb.bind(this.b):this.a.V()&&!Object.keys(this.a.b.video).length&&0<=vM.indexOf(Il)||!this.a.V()?(Il=this.b[Il],Il.bind(this.b)):this.a.get("player",Il)},yM.Id=function(Il){this.a.V()||this.f.dispatchEvent(Il)},yM.ge=function(Il,Ll){this.a.V()&&("video"==Il?this.g.dispatchEvent(Ll):"player"==Il&&this.f.dispatchEvent(Ll))},at(En),it("shaka.cast.CastReceiver",En),En.prototype.isConnected=function(){return this.i},En.prototype.isConnected=En.prototype.isConnected,En.prototype.ad=function(){return this.f},En.prototype.isIdle=En.prototype.ad,En.prototype.m=function(){var Il=this.b?this.b.m():Promise.resolve();return null!=this.h&&tt.clearTimeout(this.h),this.l=this.j=this.b=this.a=null,this.i=!1,this.f=!0,this.h=this.g=this.c=null,Il.then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},En.prototype.destroy=En.prototype.m,yM=En.prototype,yM.jc=function(){this.i=!!cast.receiver.CastReceiverManager.getInstance().getSenders().length,mn(this)},yM.mc=function(Il,Ll){this.Cb(),wn(this,{type:"event",targetName:Il,event:Ll},this.c)},yM.Cb=function(){null!=this.h&&tt.clearTimeout(this.h),this.h=tt.setTimeout(this.Cb.bind(this),500);var Il={video:{},player:{}};SM.forEach(function(El){Il.video[El]=this.a[El]}.bind(this)),vM.forEach(function(El){Il.player[El]=this.b[El]()}.bind(this));var Ll=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();Ll&&(Il.video.volume=Ll.level,Il.video.muted=Ll.muted),wn(this,{type:"update",update:Il},this.c)},yM.Mc=function(){var Il=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();Il&&wn(this,{type:"update",update:{video:{volume:Il.level,muted:Il.muted}}},this.c),wn(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.c)},yM.vd=function(Il){var Ll=gn(Il.data);switch(Ll.type){case"init":An(this,Ll.initState,Ll.appData),this.Cb();break;case"appData":this.l(Ll.appData);break;case"set":var El=Ll.targetName,jl=Ll.property,ml=Ll.value;if("video"==El)if(Ll=cast.receiver.CastReceiverManager.getInstance(),"volume"==jl){Ll.setSystemVolumeLevel(ml);break}else if("muted"==jl){Ll.setSystemVolumeMuted(ml);break}this.j[El][jl]=ml;break;case"call":El=Ll.targetName,jl=Ll.methodName,ml=Ll.args,El=this.j[El],El[jl].apply(El,ml);break;case"asyncCall":El=Ll.targetName,jl=Ll.methodName,ml=Ll.args,Ll=Ll.id,Il=Il.senderId,El=this.j[El],El[jl].apply(El,ml).then(this.vc.bind(this,Il,Ll,null),this.vc.bind(this,Il,Ll));}},yM.hd=function(Il){var Ll=gn(Il.data);switch(Ll.type){case"PLAY":this.a.play(),hn(this,0);break;case"PAUSE":this.a.pause(),hn(this,0);break;case"SEEK":Il=Ll.currentTime;var El=Ll.resumeState;null!=Il&&(this.a.currentTime=+Il),El&&"PLAYBACK_START"==El?(this.a.play(),hn(this,0)):El&&"PLAYBACK_PAUSE"==El&&(this.a.pause(),hn(this,0));break;case"STOP":this.b.ib().then(function(){hn(this,0)}.bind(this));break;case"GET_STATUS":hn(this,+Ll.requestId);break;case"VOLUME":El=Ll.volume,Il=El.level;var El=El.muted,jl=this.a.volume,ml=this.a.muted;null!=Il&&(this.a.volume=+Il),null!=El&&(this.a.muted=El),jl==this.a.volume&&ml==this.a.muted||hn(this,0);break;case"LOAD":El=Ll.media.contentId,Il=Ll.currentTime;var Al=this.o(El);this.a.autoplay=!0,this.b.load(Al,Il).then(function(){hn(this,0,{contentId:Al,streamType:this.b.$()?"LIVE":"BUFFERED",contentType:""})}.bind(this))["catch"](function(fl){var bl="LOAD_FAILED";7==fl.category&&7E3==fl.code&&(bl="LOAD_CANCELLED"),wn(this,{requestId:+Ll.requestId,type:bl},this.g)}.bind(this));break;default:wn(this,{requestId:+Ll.requestId,type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.g);}},yM.vc=function(Il,Ll,El){wn(this,{type:"asyncComplete",id:Ll,error:El},this.c,Il)};var RM={IDLE:"IDLE",Cc:"PLAYING",Ac:"BUFFERING",Bc:"PAUSED"};var BM={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};it("shaka.media.InitSegmentReference",Zn),it("shaka.media.SegmentReference",Xn),it("shaka.util.DataViewReader",Kn);var YM=1;Kn.Endianness={we:0,ye:YM},Kn.prototype.Z=function(){return this.u<this.H.byteLength},Kn.prototype.hasMoreData=Kn.prototype.Z,Kn.prototype.Vc=function(){return this.u},Kn.prototype.getPosition=Kn.prototype.Vc,Kn.prototype.Qc=function(){return this.H.byteLength},Kn.prototype.getLength=Kn.prototype.Qc,Kn.prototype.Eb=function(){try{var Il=this.H.getUint8(this.u)}catch(Ll){qn()}return this.u+=1,Il},Kn.prototype.readUint8=Kn.prototype.Eb,Kn.prototype.oc=function(){try{var Il=this.H.getUint16(this.u,this.a)}catch(Ll){qn()}return this.u+=2,Il},Kn.prototype.readUint16=Kn.prototype.oc,Kn.prototype.D=function(){try{var Il=this.H.getUint32(this.u,this.a)}catch(Ll){qn()}return this.u+=4,Il},Kn.prototype.readUint32=Kn.prototype.D,Kn.prototype.nc=function(){try{var Il=this.H.getInt32(this.u,this.a)}catch(Ll){qn()}return this.u+=4,Il},Kn.prototype.readInt32=Kn.prototype.nc,Kn.prototype.Qa=function(){try{if(this.a)var Il=this.H.getUint32(this.u,!0),Ll=this.H.getUint32(this.u+4,!0);else Ll=this.H.getUint32(this.u,!1),Il=this.H.getUint32(this.u+4,!1)}catch(El){qn()}if(2097151<Ll)throw new Mt(2,3,3001);return this.u+=8,Ll*Math.pow(2,32)+Il},Kn.prototype.readUint64=Kn.prototype.Qa,Kn.prototype.La=function(Il){this.u+Il>this.H.byteLength&&qn();var Ll=this.H.buffer.slice(this.u,this.u+Il);return this.u+=Il,new Uint8Array(Ll)},Kn.prototype.readBytes=Kn.prototype.La,Kn.prototype.I=function(Il){this.u+Il>this.H.byteLength&&qn(),this.u+=Il},Kn.prototype.skip=Kn.prototype.I,Kn.prototype.Db=function(){for(var Il=this.u;this.Z()&&this.H.getUint8(this.u);)this.u+=1;return Il=this.H.buffer.slice(Il,this.u),this.u+=1,Zt(Il)},Kn.prototype.readTerminatedString=Kn.prototype.Db;it("shaka.util.Mp4Parser",Jn),Jn.prototype.C=function(Il,Ll){var El=ir(Il);return this.b[El]=0,this.a[El]=Ll,this},Jn.prototype.box=Jn.prototype.C,Jn.prototype.da=function(Il,Ll){var El=ir(Il);return this.b[El]=1,this.a[El]=Ll,this},Jn.prototype.fullBox=Jn.prototype.da,Jn.prototype.parse=function(Il){for(Il=new Kn(new DataView(Il),0);Il.Z();)this.fb(0,Il)},Jn.prototype.parse=Jn.prototype.parse,Jn.prototype.fb=function(Il,Ll){var El=Ll.u,jl=Ll.D(),ml=Ll.D();0===jl?jl=Ll.H.byteLength-El:1===jl?jl=Ll.Qa():void 0;var Al=this.a[ml];if(Al){var fl=null,bl=null;1==this.b[ml]&&(bl=Ll.D(),fl=bl>>>24,bl&=16777215),ml=El+jl-Ll.u,ml=0<ml?Ll.La(ml).buffer:new ArrayBuffer(0),ml=new Kn(new DataView(ml),0),Al({Oa:this,version:fl,Nc:bl,s:ml,size:jl,start:El+Il})}else Ll.I(El+jl-Ll.u)},Jn.prototype.parseNext=Jn.prototype.fb,Jn.children=$n,Jn.sampleDescription=er,Jn.allData=tr;it("shaka.media.SegmentIndex",rr),rr.prototype.m=function(){return this.a=null,Promise.resolve()},rr.prototype.destroy=rr.prototype.m,rr.prototype.find=function(Il){for(var Ll=this.a.length-1,El;0<=Ll;--Ll)if(El=this.a[Ll],Il>=El.startTime&&Il<El.endTime)return El.position;return this.a.length&&Il<this.a[0].startTime?this.a[0].position:null},rr.prototype.find=rr.prototype.find,rr.prototype.get=function(Il){return this.a.length?(Il-=this.a[0].position,0>Il||Il>=this.a.length?null:this.a[Il]):null},rr.prototype.get=rr.prototype.get,rr.prototype.xb=function(Il){for(var jl=[],ml=El=0,Ll,El,Al;El<this.a.length&&ml<Il.length;)Al=this.a[El],Ll=Il[ml],Al.startTime<Ll.startTime?(jl.push(Al),El++):(Al.startTime>Ll.startTime||(.1<Math.abs(Al.endTime-Ll.endTime)?jl.push(Ll):jl.push(Al),El++),ml++);for(;El<this.a.length;)jl.push(this.a[El++]);if(jl.length)for(El=jl[jl.length-1].position+1;ml<Il.length;)Ll=Il[ml++],Ll=new Xn(El++,Ll.startTime,Ll.endTime,Ll.a,Ll.X,Ll.M),jl.push(Ll);else jl=Il;this.a=jl},rr.prototype.merge=rr.prototype.xb,rr.prototype.qb=function(Il){for(var Ll=0;Ll<this.a.length&&!(this.a[Ll].endTime>Il);++Ll);this.a.splice(0,Ll)},rr.prototype.evict=rr.prototype.qb;var PM;or.prototype.Z=function(){return this.a.Z()};gr.prototype.parse=function(Il,Ll,El,jl){var ml;if(Ll=new or(new DataView(Ll)),440786851!=dr(Ll).id)throw new Mt(2,3,3008);var Al=dr(Ll);if(408125543!=Al.id)throw new Mt(2,3,3009);for(Ll=Al.a.byteOffset,Al=new or(Al.a),ml=null;Al.Z();){var fl=dr(Al);if(357149030==fl.id){ml=fl;break}}if(!ml)throw new Mt(2,3,3010);for(Al=new or(ml.a),ml=1E6,fl=null;Al.Z();){var bl=dr(Al);if(2807729==bl.id)ml=cr(bl);else if(17545==bl.id)if(fl=bl,4==fl.a.byteLength)fl=fl.a.getFloat32(0);else if(8==fl.a.byteLength)fl=fl.a.getFloat64(0);else throw new Mt(2,3,3003)}if(null==fl)throw new Mt(2,3,3011);if(Al=ml/1E9,ml=fl*Al,Il=dr(new or(new DataView(Il))),475249515!=Il.id)throw new Mt(2,3,3007);return pr(Il,Ll,Al,ml,El,jl)};var FM={},GM={};it("shaka.media.ManifestParser.registerParserByExtension",function(Il,Ll){GM[Il]=Ll}),it("shaka.media.ManifestParser.registerParserByMime",function(Il,Ll){FM[Il]=Ll});it("shaka.media.PresentationTimeline",Or),Or.prototype.Y=function(){return this.a},Or.prototype.getDuration=Or.prototype.Y,Or.prototype.qa=function(Il){this.a=Il},Or.prototype.setDuration=Or.prototype.qa,Or.prototype.Wc=function(){return this.f},Or.prototype.getPresentationStartTime=Or.prototype.Wc,Or.prototype.wc=function(Il){this.h=Il},Or.prototype.setClockOffset=Or.prototype.wc,Or.prototype.yc=function(Il){this.g=Il},Or.prototype.setStatic=Or.prototype.yc,Or.prototype.Xc=function(){return this.c},Or.prototype.getSegmentAvailabilityDuration=Or.prototype.Xc,Or.prototype.xc=function(Il){this.c=Il},Or.prototype.setSegmentAvailabilityDuration=Or.prototype.xc,Or.prototype.Ia=function(Il,Ll){Ll.length&&(this.b=Ll.reduce(function(El,jl){return Math.max(El,jl.endTime-jl.startTime)},this.b))},Or.prototype.notifySegments=Or.prototype.Ia,Or.prototype.yb=function(Il){this.b=Math.max(this.b,Il)},Or.prototype.notifyMaxSegmentDuration=Or.prototype.yb,Or.prototype.$=function(){return Infinity==this.a&&!this.g},Or.prototype.isLive=Or.prototype.$,Or.prototype.wa=function(){return Infinity!=this.a&&!this.g},Or.prototype.isInProgress=Or.prototype.wa,Or.prototype.na=function(){return this.Fa(0)},Or.prototype.getSegmentAvailabilityStart=Or.prototype.na,Or.prototype.Fa=function(Il){if(Infinity==this.c)return 0;var Ll=this.va();return Math.max(0,Math.min(Ll-this.c+Il,Ll))},Or.prototype.getSafeAvailabilityStart=Or.prototype.Fa,Or.prototype.va=function(){return this.$()||this.wa()?Math.min(Math.max(0,(Date.now()+this.h)/1E3-this.b-this.f),this.a):this.a},Or.prototype.getSegmentAvailabilityEnd=Or.prototype.va,Or.prototype.cb=function(){return Math.max(0,this.va()-(this.$()||this.wa()?this.i:0))},Or.prototype.getSeekRangeEnd=Or.prototype.cb,it("shaka.dash.DashParser",Cr),yM=Cr.prototype,yM.configure=function(Il){this.b=Il},yM.start=function(Il,Ll){return this.g=[Il],this.a=Ll,zr(this).then(function(){return this.a&&Rr(this,0),this.c}.bind(this))},yM.stop=function(){return this.b=this.a=null,this.g=[],this.c=null,this.i=[],this.j={},null!=this.f&&(tt.clearTimeout(this.f),this.f=null),Promise.resolve()},yM.update=function(){zr(this)["catch"](function(Il){this.a&&this.a.onError(Il)}.bind(this))},yM.onExpirationUpdated=function(){},yM.Dd=function(Il,Ll){Il.S=Br(Ll,Il.T,null);var El=!1,jl=Sn(Ll,"Role"),ml=jl.map(function(Sl){return Sl.getAttribute("value")}).filter(mt),Al;"text"==Il.S.contentType&&(Al="subtitle");for(var fl=0,bl;fl<jl.length;fl++)if(bl=jl[fl].getAttribute("schemeIdUri"),null==bl||"urn:mpeg:dash:role:2011"==bl)switch(bl=jl[fl].getAttribute("value"),bl){case"main":El=!0;break;case"caption":case"subtitle":Al=bl;}var wl=null,hl=!1;if(Sn(Ll,"EssentialProperty").forEach(function(Sl){"http://dashif.org/guidelines/trickmode"==Sl.getAttribute("schemeIdUri")?wl=Sl.getAttribute("value"):hl=!0}),hl)return null;var jl=Sn(Ll,"ContentProtection"),xl=Bn(jl,this.b.dash.customScheme,this.b.dash.ignoreDrmInfo),jl=Vi(Ll.getAttribute("lang")||"und"),bl=Ll.getAttribute("label"),fl=Sn(Ll,"Representation"),ml=fl.map(this.Gd.bind(this,Il,xl,Al,jl,bl,El,ml)).filter(function(Sl){return!!Sl});if(!ml.length)throw new Mt(2,4,4003);return Il.S.contentType&&"application"!=Il.S.contentType||(Il.S.contentType=Gr(ml[0].mimeType,ml[0].codecs),ml.forEach(function(Sl){Sl.type=Il.S.contentType})),ml.forEach(function(Sl){xl.drmInfos.forEach(function(Ol){Sl.keyId&&Ol.keyIds.push(Sl.keyId)})}),Al=fl.map(function(Sl){return Sl.getAttribute("id")}).filter(mt),{id:Il.S.id||"__fake__"+this.h++,contentType:Il.S.contentType,language:jl,vb:El,streams:ml,drmInfos:xl.drmInfos,Ob:wl,Qd:Al}},yM.Gd=function(Il,Ll,El,jl,ml,Al,fl,bl){if(Il.w=Br(bl,Il.S,null),!Yr(Il.w))return null;Il.bandwidth=Cn(bl,"bandwidth",Qn)||void 0;var wl=this.Rd.bind(this);if(Il.w.Ra)wl=Dr(Il,wl);else if(Il.w.pa)wl=Lr(Il,this.j);else if(Il.w.Sa)wl=Ar(Il,wl,this.j,!!this.c);else{var hl=Il.w.U,xl=Il.R.duration||0;wl={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(Sl){return 0<=Sl&&Sl<xl?1:null},getSegmentReference:function(Sl){return 1==Sl?new Xn(1,0,xl,function(){return hl},0,null):null},initSegmentReference:null,presentationTimeOffset:0}}return bl=Sn(bl,"ContentProtection"),bl=Yn(bl,this.b.dash.customScheme,Ll,this.b.dash.ignoreDrmInfo),{id:this.h++,createSegmentIndex:wl.createSegmentIndex,findSegmentPosition:wl.findSegmentPosition,getSegmentReference:wl.getSegmentReference,initSegmentReference:wl.initSegmentReference,presentationTimeOffset:wl.presentationTimeOffset,mimeType:Il.w.mimeType,codecs:Il.w.codecs,frameRate:Il.w.frameRate,bandwidth:Il.bandwidth,width:Il.w.width,height:Il.w.height,kind:El,encrypted:0<Ll.drmInfos.length,keyId:bl,language:jl,label:ml,type:Il.S.contentType,primary:Al,trickModeVideo:null,containsEmsgBoxes:Il.w.containsEmsgBoxes,roles:fl}},yM.ie=function(){this.f=null;var Il=Date.now();zr(this).then(function(){this.a&&Rr(this,(Date.now()-Il)/1E3)}.bind(this))["catch"](function(Ll){this.a&&(Ll.severity=1,this.a.onError(Ll),Rr(this,0))}.bind(this))},yM.Fd=function(Il,Ll,El){var jl=El.getAttribute("schemeIdUri")||"",ml=El.getAttribute("value")||"",Al=Cn(El,"timescale",_n)||1;Sn(El,"Event").forEach(function(fl){var bl=Cn(fl,"presentationTime",_n)||0,wl=Cn(fl,"duration",_n)||0,bl=bl/Al+Il,wl=bl+wl/Al;null!=Ll&&(bl=Math.min(bl,Il+Ll),wl=Math.min(wl,Il+Ll)),fl={schemeIdUri:jl,value:ml,startTime:bl,endTime:wl,id:fl.getAttribute("id")||"",eventElement:fl},this.a.onTimelineRegionAdded(fl)}.bind(this))},yM.Rd=function(Il,Ll,El){return Il=vt(Il,this.b.retryParameters),null!=Ll&&(Il.headers.Range="bytes="+Ll+"-"+(null==El?"":El)),this.a.networkingEngine.request(1,Il).then(function(jl){return jl.data})},GM.mpd=Cr,FM["application/dash+xml"]=Cr,Hr.prototype.toString=function(){return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(function(Ll){return Ll.name+"=\""+Ll.value+"\""}).join(","):"#"+this.name},Hr.prototype.getAttribute=function(Il){var Ll=this.a.filter(function(El){return El.name==Il});return Ll.length?Ll[0]:null};var VM="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY".split(" "),HM="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");it("shaka.net.DataUriPlugin",ss),ss.parse=function(Il){var Ll=Il.split(":");if(2>Ll.length||"data"!=Ll[0])throw new Mt(2,1,1004,Il);if(Ll=Ll.slice(1).join(":").split(","),2>Ll.length)throw new Mt(2,1,1004,Il);var El=Ll[0],Ll=tt.decodeURIComponent(Ll.slice(1).join(",")),El=El.split(";"),jl=null;if(1<El.length&&(jl=El[1]),"base64"==jl)Il=ii(Ll).buffer;else{if(jl)throw new Mt(2,1,1005,Il);Il=qt(Ll)}return{data:Il,contentType:El[0]}},AM.data=ss,it("shaka.hls.HlsParser",os),yM=os.prototype,yM.configure=function(Il){this.b=Il},yM.start=function(Il,Ll){return this.c=Ll,this.j=Il,this.c.networkingEngine.request(0,vt([Il],this.b.retryParameters)).then(function(El){return ds(this,El.data,Il)}.bind(this))},yM.stop=function(){return this.b=this.c=null,this.g={},Promise.resolve()},yM.update=function(){},yM.onExpirationUpdated=function(){};var WM=[/^(avc)/,/^(hvc)/,/^(vp[8-9])$/,/^(av1)$/,/^(mp4v)/],ZM=[/^(vorbis)/,/^(opus)/,/^(mp4a)/,/^(ac-3)$/,/^(ec-3)$/],XM={mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},KM={mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},qM={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(Il){if("SAMPLE-AES-CENC"!=js(Il,"METHOD"))return null;var Ll=js(Il,"URI"),Ll=ss.parse(Ll),Ll=new Uint8Array(Ll.data),Ll=ht("com.widevine.alpha",[{initDataType:"cenc",initData:Ll}]);return(Il=Zr(Il,"KEYID"))&&(Ll.keyIds=[Il.substr(2).toLowerCase()]),Ll}};GM.m3u8=os,FM["application/x-mpegurl"]=os,FM["application/vnd.apple.mpegurl"]=os,fs.prototype.parseInit=function(){},fs.prototype.parseMedia=function(Il,Ll){var El=Zt(Il),jl=[],ml=new DOMParser,Al=null;try{Al=ml.parseFromString(El,"text/xml")}catch(Ul){throw new Mt(2,2,2005)}if(Al){var fl=Al.getElementsByTagName("tt")[0];if(fl){ml=fl.getAttribute("ttp:frameRate"),Al=fl.getAttribute("ttp:subFrameRate");var bl=fl.getAttribute("ttp:frameRateMultiplier"),wl=fl.getAttribute("ttp:tickRate");El=fl.getAttribute("xml:space")||"default"}else throw new Mt(2,2,2005);if("default"!=El&&"preserve"!=El)throw new Mt(2,2,2005);for(El="default"==El,ml=new Cs(ml,Al,bl,wl),Al=bs(fl.getElementsByTagName("styling")[0]),bl=bs(fl.getElementsByTagName("layout")[0]),fl=bs(fl.getElementsByTagName("body")[0]),wl=0;wl<fl.length;wl++){var hl=fl[wl],xl=Ll.periodStart,Sl=ml,Ol=Al,Cl=bl,zl=El;if(hl.hasAttribute("begin")||hl.hasAttribute("end")||!/^\s*$/.test(hl.textContent)){ws(hl,zl);var zl=Ss(hl.getAttribute("begin"),Sl),vl=Ss(hl.getAttribute("end"),Sl),Sl=Ss(hl.getAttribute("dur"),Sl),kl=hl.textContent;if(null==vl&&null!=Sl&&(vl=zl+Sl),null==zl||null==vl)throw new Mt(2,2,2001);(xl=bi(zl+xl,vl+xl,kl))?(zl=xs(hl,"region",Cl),Cl=xl,(vl=hs(hl,zl,Ol,"tts:extent"))&&(Sl=rl.exec(vl))&&(Cl.size=+Sl[1]),Sl=hs(hl,zl,Ol,"tts:writingMode"),vl=!0,"tb"==Sl||"tblr"==Sl?Cl.vertical="lr":"tbrl"==Sl?Cl.vertical="rl":vl=!1,(Sl=hs(hl,zl,Ol,"tts:origin"))&&(Sl=rl.exec(Sl))&&(vl?(Cl.position=+Sl[2],Cl.line=+Sl[1]):(Cl.position=+Sl[1],Cl.line=+Sl[2]),Cl.snapToLines=!1),(Ol=hs(hl,zl,Ol,"tts:textAlign"))&&(Cl.align=Ol,"center"==Ol&&("center"!=Cl.align&&(Cl.align="middle"),Cl.position="auto"),Cl.positionAlign=ol[Ol],Cl.lineAlign=sl[Ol]),Ol=xl):Ol=null}else Ol=null;Ol&&jl.push(Ol)}}return jl};var JM=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,$M=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,tl=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,il=/^(\d*\.?\d*)f$/,al=/^(\d*\.?\d*)t$/,nl=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,rl=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,sl={left:"start",center:"center",right:"end",start:"start",end:"end"},ol={left:"line-left",center:"center",right:"line-right"};fi("application/ttml+xml",fs),zs.prototype.parseInit=function(Il){var Ll=!1;if(new Jn().C("moov",$n).C("trak",$n).C("mdia",$n).C("minf",$n).C("stbl",$n).da("stsd",er).C("stpp",function(){Ll=!0}).parse(Il),!Ll)throw new Mt(2,2,2007)},zs.prototype.parseMedia=function(Il,Ll){var El=!1,jl=[];if(new Jn().C("mdat",tr(function(ml){El=!0,jl=this.a.parseMedia(ml.buffer,Ll)}.bind(this))).parse(Il),!El)throw new Mt(2,2,2007);return jl},fi("application/mp4; codecs=\"stpp\"",zs),vs.prototype.parseInit=function(){},vs.prototype.parseMedia=function(Il,Ll){var El=Zt(Il),El=El.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),El=El.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(El[0]))throw new Mt(2,2,2E3);var jl=Ll.segmentStart;if(0<=El[0].indexOf("X-TIMESTAMP-MAP")){var ml=El[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),Al=El[0].match(/MPEGTS:(\d+)/m);ml&&Al&&(jl=Us(new $r(ml[1])),jl=Ll.periodStart+(+Al[1]/9E4-jl))}for(Al=[],ml=1;ml<El.length;ml++){var fl=El[ml].split("\n"),bl=jl;if(1==fl.length&&!fl[0]||/^NOTE($|[ \t])/.test(fl[0]))var wl=null;else{wl=null,0>fl[0].indexOf("-->")&&(wl=fl[0],fl.splice(0,1));var hl=new $r(fl[0]),xl=Us(hl),Sl=es(hl,/[ \t]+--\x3e[ \t]+/g),Ol=Us(hl);if(null==xl||!Sl||null==Ol)throw new Mt(2,2,2001);if(fl=bi(xl+bl,Ol+bl,fl.slice(1).join("\n").trim())){for(es(hl,/[ \t]+/gm),bl=ts(hl);bl;)ks(fl,bl),es(hl,/[ \t]+/gm),bl=ts(hl);null!=wl&&(fl.id=wl),wl=fl}else wl=null}wl&&Al.push(wl)}return Al},fi("text/vtt",vs),fi("text/vtt; codecs=\"vtt\"",vs),Qs.prototype.parseInit=function(Il){var Ll=!1;if(new Jn().C("moov",$n).C("trak",$n).C("mdia",$n).da("mdhd",function(El){0==El.version?(El.s.I(4),El.s.I(4),this.a=El.s.D(),El.s.I(4)):(El.s.I(8),El.s.I(8),this.a=El.s.D(),El.s.I(8)),El.s.I(4)}.bind(this)).C("minf",$n).C("stbl",$n).da("stsd",er).C("wvtt",function(){Ll=!0}).parse(Il),!this.a)throw new Mt(2,2,2008);if(!Ll)throw new Mt(2,2,2008)},Qs.prototype.parseMedia=function(Il,Ll){var El=0,jl=[],ml=[],Al=[],fl=!1,bl=!1,wl=!1;if(new Jn().C("moof",$n).C("traf",$n).da("tfdt",function(zl){fl=!0,El=zl.version?zl.s.Qa():zl.s.D()}).da("trun",function(zl){bl=!0;var vl=zl.version,kl=zl.Nc;zl=zl.s;var Ul=zl.D();1&kl&&zl.I(4),4&kl&&zl.I(4);for(var Ql=[],_l=0,Rl;_l<Ul;_l++)Rl={duration:null,Nb:null},256&kl&&(Rl.duration=zl.D()),512&kl&&zl.I(4),1024&kl&&zl.I(4),2048&kl&&(Rl.Nb=vl?zl.nc():zl.D()),Ql.push(Rl);jl=Ql}).C("vtte",function(){ml.push(null)}).C("vttc",tr(function(zl){ml.push(zl.buffer)})).C("mdat",function(zl){wl=!0,$n(zl)}).parse(Il),!wl&&!fl&&!bl)throw new Mt(2,2,2008);for(var hl=El,xl=0;xl<jl.length;xl++){var Sl=jl[xl],Ol=ml[xl];if(Sl.duration){var Cl=Sl.Nb?El+Sl.Nb:hl,hl=Cl+Sl.duration;Ol&&Al.push(_s(Ol,Ll.periodStart+Cl/this.a,Ll.periodStart+hl/this.a))}}return Al.filter(mt)},fi("application/mp4; codecs=\"wvtt\"",Qs),yM=Bs.prototype,yM.m=function(){var Il=this.b.m();return this.b=null,null!=this.f&&(tt.clearInterval(this.f),this.f=null),null!=this.j&&(tt.clearInterval(this.j),this.j=null),this.J=this.O=this.l=this.c=this.a=null,Il},yM.rb=function(){return this.g},yM.Ab=function(){this.o=!0,this.hc()},yM.rd=function(){this.a.playbackRate!=(this.h||0>this.g?0:this.g)&&Gs(this,this.a.playbackRate)},yM.fc=function(){var Il=Fs(this);.001>Math.abs(this.a.currentTime-Il)?(Rt(this.b,this.a,"seeking",this.ic.bind(this)),Rt(this.b,this.a,"playing",this.gc.bind(this))):(Bt(this.b,this.a,"seeking",this.td.bind(this)),this.a.currentTime=Il)},yM.td=function(){Rt(this.b,this.a,"seeking",this.ic.bind(this)),Rt(this.b,this.a,"playing",this.gc.bind(this))},yM.hc=function(){if(this.a.readyState){this.a.readyState!=this.G&&(this.i=!1,this.G=this.a.readyState);var Il=this.l.smallGapLimit,Ll=this.a.currentTime,El=this.a.buffered;a:{if(El&&El.length&&!(1==El.length&&1E-6>El.end(0)-El.start(0))){var jl=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(jl=.5);for(var ml=0;ml<El.length;ml++)if(El.start(ml)>Ll&&(!ml||El.end(ml-1)-Ll<=jl)){jl=ml;break a}}jl=null}if(null==jl){if(3>this.a.readyState&&0<this.a.playbackRate)if(this.v!=Ll)this.v=Ll,this.A=Date.now();else if(this.A<Date.now()-1E3)for(this.A=Date.now()+5E3,jl=0;jl<El.length;jl++)if(Ll>=El.start(jl)&&Ll<El.end(jl)-.5){this.a.currentTime+=.1,this.v=this.a.currentTime;break}}else if((jl||this.o)&&(ml=El.start(jl),!(ml>=this.c.presentationTimeline.cb()))){var Al=ml-Ll,Il=Al<=Il,fl=!1;Il||this.i||(this.i=!0,Al=new ln("largegap",{currentTime:Ll,gapSize:Al}),Al.cancelable=!0,this.J(Al),this.l.jumpLargeGaps&&!Al.defaultPrevented&&(fl=!0)),(Il||fl)&&(jl&&El.end(jl-1),Hs(this,Ll,ml))}}},yM.ic=function(){this.o=!1;var Il=this.a.currentTime,Ll=Vs(this,Il);.001<Math.abs(Ll-Il)?Hs(this,Il,Ll):(this.i=!1,this.O())},yM.gc=function(){var Il=this.a.currentTime,Ll=Vs(this,Il);.001<Math.abs(Ll-Il)&&Hs(this,Il,Ll)};Zs.prototype.m=function(){var Il=this.j?this.j.m():Promise.resolve();return this.j=null,qs(this),this.B=this.h=this.l=this.A=this.g=this.a=null,this.c=[],Il},Zs.prototype.v=function(Il){if(!this.c.some(function(jl){return jl.info.schemeIdUri==Il.schemeIdUri&&jl.info.startTime==Il.startTime&&jl.info.endTime==Il.endTime})){var Ll={info:Il,status:1};this.c.push(Ll);var El=new ln("timelineregionadded",{detail:Xs(Il)});this.h(El),this.o(!0,Ll)}},Zs.prototype.o=function(Il,Ll){var El=Ll.info.startTime>this.a.currentTime?1:Ll.info.endTime<this.a.currentTime?3:2,jl=2==Ll.status,ml=2==El;El!=Ll.status&&((!Il||jl||ml)&&(jl||this.h(new ln("timelineregionenter",{detail:Xs(Ll.info)})),ml||this.h(new ln("timelineregionexit",{detail:Xs(Ll.info)}))),Ll.status=El)},Zs.prototype.G=function(){this.f=null,Ks(this);var Il=sn(this.g,this.a.currentTime);Il!=this.i&&(-1!=this.i&&this.B(),this.i=Il);var Il=Ci(this.a.buffered,this.a.currentTime),Ll=Si(this.a.buffered)>=this.g.presentationTimeline.va()-.1||this.a.ended;if(this.b){var El=1*Math.max(this.g.minBufferTime||0,this.A.rebufferingGoal);(Ll||Il>=El)&&0!=this.b&&(this.b=!1,this.l(!1))}else!Ll&&.5>Il&&1!=this.b&&(this.b=!0,this.l(!0));this.c.forEach(this.o.bind(this,!1))},yM=Js.prototype,yM.m=function(){for(var Il in this.c)Ao(this.c[Il]);return this.g=this.c=this.j=this.h=this.o=this.b=this.a=null,this.f=!0,Promise.resolve()},yM.configure=function(Il){this.g=Il},yM.init=function(){var Il=this.a.bc(this.b.periods[sn(this.b,Ps(this.a.Pa))]);return Ft(Il)?Promise.reject(new Mt(2,5,5005)):so(this,Il).then(function(){this.a&&this.a.jd&&this.a.jd()}.bind(this))},yM.le=function(Il){if(!this.f&&!Il.ya&&null!=Il.ra&&!Il.ta)if(Il.ra=null,Il.sa)jo(this,Il,Il.kb);else{try{var Ll=lo(this,Il);null!=Ll&&(mo(this,Il,Ll),Il.tb=!1)}catch(El){return void this.a.onError(El)}Ll=Gt(this.c),Io(this,Il),Ll.every(function(El){return El.endOfStream})&&this.a.K.endOfStream().then(function(){this.b.presentationTimeline.qa(this.a.K.Y())}.bind(this))}},yM.Ed=function(Il,Ll,El){var jl=El.s.Db(),ml=El.s.Db(),Al=El.s.D(),fl=El.s.D(),bl=El.s.D(),wl=El.s.D();El=El.s.La(El.s.H.byteLength-El.s.u),Il=Il.startTime+Ll.startTime+fl/Al,"urn:mpeg:dash:event:2012"==jl?this.a.kd():this.a.onEvent(new ln("emsg",{detail:{startTime:Il,endTime:Il+bl/Al,schemeIdUri:jl,value:ml,timescale:Al,presentationTimeDelta:fl,eventDuration:bl,id:wl,messageData:El}}))};it("shaka.net.HttpPlugin",fo),AM.http=fo,AM.https=fo,yM=bo.prototype,yM.init=function(Il,Ll){return Oo(this,Il,Ll).then(function(){var El=Object.keys(Il);return Promise.all(El.map(function(jl){return xo(this,jl).then(function(ml){this.c[jl]=ml}.bind(this))}.bind(this)))}.bind(this))},yM.m=function(){return Promise.all(this.b.map(function(Il){try{Il.transaction.abort()}catch(Ll){}return Il.L["catch"](jt)})).then(function(){this.a&&(this.a.close(),this.a=null)}.bind(this))},yM.get=function(Il,Ll){var El;return So(this,Il,"readonly",function(jl){El=jl.get(Ll)}).then(function(){return El.result})},yM.forEach=function(Il,Ll){return So(this,Il,"readonly",function(El){El.openCursor().onsuccess=function(jl){(jl=jl.target.result)&&(Ll(jl.value),jl["continue"]())}})},yM.remove=function(Il,Ll){return So(this,Il,"readwrite",function(El){El["delete"](Ll)})};var dl={manifest:"key",segment:"key"};Bo.prototype.m=function(){var Il=this.j,Ll=this.l,El=this.i||Promise.resolve();return Ll.length&&(El=El.then(function(){return ho(Il,Ll)})),this.b={},this.l=[],this.i=this.a=this.A=this.v=this.j=this.o=null,El};yM=Go.prototype,yM.configure=function(){},yM.start=function(Il){var Ll=/^offline:([0-9]+)$/.exec(Il);if(!Ll)return Promise.reject(new Mt(2,1,9004,Il));var El=+Ll[1],jl=Ro();return this.a=El,jl?jl.init(dl).then(function(){return jl.get("manifest",El)}).then(function(ml){if(!ml)throw new Mt(2,9,9003,El);return Vo(ml)}).then(function(ml){return jl.m().then(function(){return ml})},function(ml){return jl.m().then(function(){throw ml})}):Promise.reject(new Mt(2,9,9E3))},yM.stop=function(){return Promise.resolve()},yM.update=function(){},yM.onExpirationUpdated=function(Il,Ll){var El=Ro();El.init(dl).then(function(){return El.get("manifest",this.a)}.bind(this)).then(function(jl){if(jl&&!(0>jl.sessionIds.indexOf(Il))&&(void 0==jl.expiration||jl.expiration>Ll))return jl.expiration=Ll,wo(El,"manifest",jl)})["catch"](function(){}).then(function(){return El.m()})},FM["application/x-offline-manifest"]=Go,it("shaka.offline.OfflineScheme",Ho),AM.offline=Ho,Wo.prototype.then=function(Il){return this.a=this.a.then(Il).then(function(Ll){return this.b?(this.g(),Promise.reject(this.h)):Promise.resolve(Ll)}.bind(this)),this},Wo.prototype.cancel=function(Il){return this.c?Promise.resolve():(this.b=!0,this.h=Il,this.i)},at(Xo),it("shaka.Player",Xo),Xo.prototype.m=function(){this.O=!0;var Il=Promise.resolve();return this.J&&(Il=this.J.cancel(new Mt(2,7,7E3))),Il.then(function(){var Ll=Promise.all([this.ma,eu(this),this.l?this.l.m():null,this.o?this.o.m():null]);return this.b=this.o=this.Qb=this.l=this.A=this.f=null,Ll}.bind(this))},Xo.prototype.destroy=Xo.prototype.m,Xo.version="v2.1.5";var ul={};Xo.registerSupportPlugin=function(Il,Ll){ul[Il]=Ll},Xo.isBrowserSupported=function(){return!!tt.Promise&&!!tt.Uint8Array&&!!Array.prototype.forEach&&!!tt.MediaSource&&!!tt.MediaSource.isTypeSupported&&!!tt.MediaKeys&&!!tt.navigator&&!!tt.navigator.requestMediaKeySystemAccess&&!!tt.MediaKeySystemAccess&&!!tt.MediaKeySystemAccess.prototype.getConfiguration},Xo.probeSupport=function(){return Ei().then(function(Il){var Ll=xr(),El=vi();for(var jl in Il={manifest:Ll,media:El,drm:Il},ul)Il[jl]=ul[jl]();return Il})},Xo.prototype.load=function(Il,Ll,El){var jl=this.ib(),ml=new Wo;this.J=ml,this.dispatchEvent(new ln("loading"));var Al=Date.now();return Zo(ml.then(function(){return jl}).then(function(){return this.i=nu(),Rt(this.l,this.f,"playing",this.Ta.bind(this)),Rt(this.l,this.f,"pause",this.Ta.bind(this)),Rt(this.l,this.f,"ended",this.Ta.bind(this)),Sr(Il,this.o,this.b.manifest.retryParameters,El)}.bind(this)).then(function(fl){return this.h=new fl,this.h.configure(this.b.manifest),fl={networkingEngine:this.o,filterPeriod:this.gb.bind(this),onTimelineRegionAdded:this.xd.bind(this),onEvent:this.hb.bind(this),onError:this.za.bind(this)},2<this.h.start.length?this.h.start(Il,this.o,fl.filterPeriod,fl.onError,fl.onEvent):this.h.start(Il,fl)}.bind(this)).then(function(fl){if(fl.periods.some(function(bl){return bl.variants.some(function(wl){return wl.video&&wl.audio})})&&fl.periods.forEach(function(bl){bl.variants=bl.variants.filter(function(wl){return wl.video&&wl.audio})}),0==fl.periods.length)throw new Mt(2,4,4014);return this.c=fl,this.Za=Il,this.j=new si(this.o,this.za.bind(this),this.ce.bind(this),this.be.bind(this)),this.j.configure(this.b.drm),this.j.init(fl,!1)}.bind(this)).then(function(){return this.c.periods.forEach(this.gb.bind(this)),this.Va=Date.now()/1E3,this.ja=this.b.preferredAudioLanguage,this.Da=this.b.preferredTextLanguage,Promise.all([oi(this.j,this.f),this.Xa])}.bind(this)).then(function(){return this.b.abr.manager.init(this.Lb.bind(this)),this.g=new Bs(this.f,this.c,this.b.streaming,Ll||null,this.de.bind(this),this.hb.bind(this)),this.v=new Zs(this.f,this.c,this.b.streaming,this.zc.bind(this),this.hb.bind(this),this.ae.bind(this)),this.ka=new zi(this.f,this.N,this.A),this.a=new Js(this.c,{Pa:this.g,K:this.ka,dd:this.o,bc:this.ed.bind(this),ac:this.Gc.bind(this),onError:this.za.bind(this),onEvent:this.hb.bind(this),kd:this.ld.bind(this),Ab:this.ud.bind(this)}),this.a.configure(this.b.streaming),Ko(this),this.a.init()}.bind(this)).then(function(){if(this.b.streaming.startAtSegmentBoundary){var fl=ou(this,Ps(this.g));Ys(this.g,fl)}this.c.periods.forEach(this.gb.bind(this)),lu(this),Mu(this);var fl=$s(this.a),bl=en(fl,this.ja);this.b.abr.manager.setVariants(bl),fl.variants.some(function(wl){return wl.primary}),this.Ya.forEach(this.v.v.bind(this.v)),this.Ya=[],Bt(this.l,this.f,"loadeddata",function(){this.i.loadLatency=(Date.now()-Al)/1E3}.bind(this)),this.J=null}.bind(this)))["catch"](function(fl){return this.J==ml&&(this.J=null,this.dispatchEvent(new ln("unloading"))),Promise.reject(fl)}.bind(this))},Xo.prototype.load=Xo.prototype.load,Xo.prototype.configure=function(Il){Il.abr&&Il.abr.manager&&Il.abr.manager!=this.b.abr.manager&&(this.b.abr.manager.stop(),Il.abr.manager.init(this.Lb.bind(this))),xt(this.b,Il,au(this),iu(),""),Jo(this)},Xo.prototype.configure=Xo.prototype.configure,Xo.prototype.getConfiguration=function(){var Il=au(this);return xt(Il,this.b,au(this),iu(),""),Il},Xo.prototype.getConfiguration=Xo.prototype.getConfiguration,Xo.prototype.Sd=function(){var Il=au(this);Il.abr&&Il.abr.manager&&Il.abr.manager!=this.b.abr.manager&&(this.b.abr.manager.stop(),Il.abr.manager.init(this.Lb.bind(this))),this.b=au(this),Jo(this)},Xo.prototype.resetConfiguration=Xo.prototype.Sd,Xo.prototype.Sc=function(){return this.f},Xo.prototype.getMediaElement=Xo.prototype.Sc,Xo.prototype.Wb=function(){return this.o},Xo.prototype.getNetworkingEngine=Xo.prototype.Wb,Xo.prototype.Rc=function(){return this.Za},Xo.prototype.getManifestUri=Xo.prototype.Rc,Xo.prototype.$=function(){return!!this.c&&this.c.presentationTimeline.$()},Xo.prototype.isLive=Xo.prototype.$,Xo.prototype.wa=function(){return!!this.c&&this.c.presentationTimeline.wa()},Xo.prototype.isInProgress=Xo.prototype.wa,Xo.prototype.Ud=function(){var Il=0,Ll=0;return this.c&&(Ll=this.c.presentationTimeline,Il=Ll.na(),Ll=Ll.cb()),{start:Il,end:Ll}},Xo.prototype.seekRange=Xo.prototype.Ud,Xo.prototype.keySystem=function(){return this.j?this.j.keySystem():""},Xo.prototype.keySystem=Xo.prototype.keySystem,Xo.prototype.drmInfo=function(){return this.j?this.j.b:null},Xo.prototype.drmInfo=Xo.prototype.drmInfo,Xo.prototype.bb=function(){return this.j?this.j.bb():Infinity},Xo.prototype.getExpiration=Xo.prototype.bb,Xo.prototype.$c=function(){return this.la},Xo.prototype.isBuffering=Xo.prototype.$c,Xo.prototype.ib=function(){if(this.O)return Promise.resolve();this.dispatchEvent(new ln("unloading"));var Il=Promise.resolve();return this.J&&(Il=this.J.cancel(new Mt(2,7,7E3))),Il.then(function(){return this.ma||(this.ma=tu(this).then(function(){this.ma=null}.bind(this))),this.ma}.bind(this))},Xo.prototype.unload=Xo.prototype.ib,Xo.prototype.rb=function(){return this.g?this.g.rb():0},Xo.prototype.getPlaybackRate=Xo.prototype.rb,Xo.prototype.oe=function(Il){this.g&&Gs(this.g,Il),this.a&&io(this.a,1!=Il)},Xo.prototype.trickPlay=Xo.prototype.oe,Xo.prototype.Hc=function(){this.g&&Gs(this.g,1),this.a&&io(this.a,!1)},Xo.prototype.cancelTrickPlay=Xo.prototype.Hc,Xo.prototype.getTracks=function(){return this.Yb().concat(this.Xb())},Xo.prototype.getTracks=Xo.prototype.getTracks,Xo.prototype.Xd=function(Il,Ll){"text"==Il.type?this.tc(Il):(this.configure({abr:{enabled:!1}}),this.uc(Il,Ll))},Xo.prototype.selectTrack=Xo.prototype.Xd,Xo.prototype.Yb=function(){if(!this.c)return[];var Il=sn(this.c,Ps(this.g)),Ll=this.B[Il]||{};return Ki(this.c.periods[Il],Ll.audio,Ll.video)},Xo.prototype.getVariantTracks=Xo.prototype.Yb,Xo.prototype.Xb=function(){if(!this.c)return[];var Il=sn(this.c,Ps(this.g));return qi(this.c.periods[Il],(this.B[Il]||{}).text).filter(function(Ll){return 0>this.Wa.indexOf(Ll.id)}.bind(this))},Xo.prototype.getTextTracks=Xo.prototype.Xb,Xo.prototype.tc=function(Il){if(this.a&&(Il=$i($s(this.a),Il))){$o(this,Il,!1);var Ll={};Ll.text=Il,ru(this,Ll,!0)}},Xo.prototype.selectTextTrack=Xo.prototype.tc,Xo.prototype.uc=function(Il,Ll){if(this.a){var El={},jl=Ji($s(this.a),Il),ml=eo(this.a);if(jl){if(!jl.allowedByApplication||!jl.allowedByKeySystem)return;jl.audio&&(_d(this,jl.audio),jl.audio!=ml.audio&&(El.audio=jl.audio)),jl.video&&(_d(this,jl.video),jl.video!=ml.video&&(El.video=jl.video))}Gt(El).forEach(function(Al){$o(this,Al,!1)}.bind(this)),(jl=ml.text)&&(El.text=jl),ru(this,El,Ll)}},Xo.prototype.selectVariantTrack=Xo.prototype.uc,Xo.prototype.Pc=function(){return this.a?_a($s(this.a).variants).map(function(Il){return Il.language}).filter(ft):[]},Xo.prototype.getAudioLanguages=Xo.prototype.Pc,Xo.prototype.Yc=function(){return this.a?$s(this.a).textStreams.map(function(Il){return Il.language}).filter(ft):[]},Xo.prototype.getTextLanguages=Xo.prototype.Yc,Xo.prototype.Vd=function(Il,Ll){if(this.a){var El=$s(this.a);this.ja=Il,this.mb=Ll||"",uu(this,El)}},Xo.prototype.selectAudioLanguage=Xo.prototype.Vd,Xo.prototype.Wd=function(Il,Ll){if(this.a){var El=$s(this.a);this.Da=Il,this.lb=Ll||"",uu(this,El)}},Xo.prototype.selectTextLanguage=Xo.prototype.Wd,Xo.prototype.bd=function(){return"showing"==this.A.mode},Xo.prototype.isTextTrackVisible=Xo.prototype.bd,Xo.prototype.Zd=function(Il){this.A.mode=Il?"showing":"hidden",cu(this)},Xo.prototype.setTextTrackVisibility=Xo.prototype.Zd,Xo.prototype.Uc=function(){return this.c?new Date(1E3*this.c.presentationTimeline.f+1E3*this.f.currentTime):null},Xo.prototype.getPlayheadTimeAsDate=Xo.prototype.Uc,Xo.prototype.getStats=function(){su(this),this.Ta();var Il=null,Ll=null,El=this.f&&this.f.getVideoPlaybackQuality?this.f.getVideoPlaybackQuality():{};return this.g&&this.c&&(Il=sn(this.c,Ps(this.g)),Ll=this.B[Il],Ll=nn(Ll.audio,Ll.video,this.c.periods[Il].variants),Il=Ll.video||{}),Il||(Il={}),Ll||(Ll={}),{width:Il.width||0,height:Il.height||0,streamBandwidth:Ll.bandwidth||0,decodedFrames:+El.totalVideoFrames,droppedFrames:+El.droppedVideoFrames,estimatedBandwidth:this.b.abr.manager.getBandwidthEstimate(),loadLatency:this.i.loadLatency,playTime:this.i.playTime,bufferingTime:this.i.bufferingTime,switchHistory:St(this.i.switchHistory),stateHistory:St(this.i.stateHistory)}},Xo.prototype.getStats=Xo.prototype.getStats,Xo.prototype.addTextTrack=function(Il,Ll,El,jl,ml,Al){if(!this.a)return Promise.reject();for(var fl=$s(this.a),wl=0,bl;wl<this.c.periods.length;wl++)if(this.c.periods[wl]==fl){if(wl!=this.c.periods.length-1)bl=this.c.periods[wl+1].startTime-fl.startTime;else if(bl=this.c.presentationTimeline.Y()-fl.startTime,Infinity==bl)return Promise.reject();break}var hl={id:this.Dc++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(xl){return 1==xl?new Xn(1,0,bl,function(){return[Il]},0,null):null},initSegmentReference:null,presentationTimeOffset:0,mimeType:jl,codecs:ml||"",kind:El,encrypted:!1,keyId:null,language:Ll,label:Al||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[]};return this.Wa.push(hl.id),fl.textStreams.push(hl),to(this.a,hl).then(function(){if(!this.O){var xl=this.c.periods.indexOf(fl),Sl=eo(this.a);return Sl.text&&(this.B[xl].text=Sl.text.id),this.Wa.splice(this.Wa.indexOf(hl.id),1),uu(this,fl),lu(this),{id:hl.id,active:!1,type:"text",bandwidth:0,language:Ll,label:Al||null,kind:El,width:null,height:null}}}.bind(this))},Xo.prototype.addTextTrack=Xo.prototype.addTextTrack,Xo.prototype.Jb=function(Il,Ll){this.ob.width=Il,this.ob.height=Ll},Xo.prototype.setMaxHardwareResolution=Xo.prototype.Jb,yM=Xo.prototype,yM.gb=function(Il){var Ll=this.a?eo(this.a):{};if(Zi(this.j,Ll,Il),Ll=0<_a(Il.variants).length,Wi(Il,this.b.restrictions,this.ob)&&this.a&&$s(this.a)==Il&&lu(this),Il=1>_a(Il.variants).length,!Ll)throw new Mt(2,4,4011);if(Il)throw new Mt(2,4,4012)},yM.ee=function(Il,Ll){this.b.abr.manager.segmentDownloaded(Il,Ll)},yM.zc=function(Il){if(su(this),this.la=Il,this.Ta(),this.g){var Ll=this.g;Il!=Ll.h&&(Ll.h=Il,Gs(Ll,Ll.g))}this.dispatchEvent(new ln("buffering",{buffering:Il}))},yM.ae=function(){lu(this)},yM.Ta=function(){if(!this.O){var Il=this.la?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",Ll=Date.now()/1E3;if(this.i.stateHistory.length){var El=this.i.stateHistory[this.i.stateHistory.length-1];if(El.duration=Ll-El.timestamp,Il==El.state)return}this.i.stateHistory.push({timestamp:Ll,state:Il,duration:0})}},yM.de=function(){if(this.v){var Il=this.v;Il.c.forEach(Il.o.bind(Il,!0))}this.a&&no(this.a)},yM.ed=function(Il){this.$a=!0,this.b.abr.manager.disable();var Ll=en(Il,this.ja,void 0,this.mb),El=tn(Il,this.Da,void 0,this.lb);for(var jl in Il=du(this,Il,Ll,El,!0),this.G)Il[jl]=this.G[jl].stream;for(jl in this.G={},Il)$o(this,Il[jl],!0);return Il},yM.Gc=function(){for(var Il in this.$a=!1,this.b.abr.enabled&&this.b.abr.manager.enable(),this.G){var Ll=this.G[Il];ao(this.a,Il,Ll.stream,Ll.Kc)}this.G={}},yM.ld=function(){this.h&&this.h.update&&this.h.update()},yM.ud=function(){this.g&&this.g.Ab()},yM.Lb=function(Il,Ll){var El=eo(this.a),jl;for(jl in Il){var ml=Il[jl];El[jl]==ml?delete Il[jl]:$o(this,ml,!0)}if(!Ft(Il)&&this.a){for(jl in Il)ao(this.a,jl,Il[jl],Ll||!1);Mu(this)}},yM.za=function(Il){this.O||this.dispatchEvent(new ln("error",{detail:Il}))},yM.xd=function(Il){this.v?this.v.v(Il):this.Ya.push(Il)},yM.hb=function(Il){this.dispatchEvent(Il)},yM.yd=function(){if(this.f.error){var Il=this.f.error.code;if(1!=Il){var Ll=this.f.error.msExtendedCode;Ll&&(0>Ll&&(Ll+=Math.pow(2,32)),Ll=Ll.toString(16)),this.za(new Mt(2,3,3016,Il,Ll,this.f.error.message))}}},yM.ce=function(Il){var Ll=["output-restricted","internal-error"],El=$s(this.a),jl=!1,ml=1==Object.keys(Il).length&&"00"==Object.keys(Il)[0];El.variants.forEach(function(fl){var bl=[];fl.audio&&bl.push(fl.audio),fl.video&&bl.push(fl.video),bl.forEach(function(wl){var hl=fl.allowedByKeySystem;wl.keyId&&(wl=Il[ml?"00":wl.keyId],fl.allowedByKeySystem=!!wl&&0>Ll.indexOf(wl)),hl!=fl.allowedByKeySystem&&(jl=!0)})});var Al=eo(this.a);(Al=an(Al.audio,Al.video,El.variants))&&!Al.allowedByKeySystem&&uu(this,El),jl&&lu(this)},yM.be=function(Il,Ll){this.h&&this.h.onExpirationUpdated&&this.h.onExpirationUpdated(Il,Ll),this.dispatchEvent(new ln("expirationupdated"))},it("shaka.offline.Storage",gu),gu.support=pu,gu.prototype.m=function(){var Il=this.a,Ll=this.h?this.h.m()["catch"](function(){}).then(function(){if(Il)return Il.m()}):Promise.resolve();return this.i=this.f=this.h=this.a=null,Ll},gu.prototype.destroy=gu.prototype.m,gu.prototype.configure=function(Il){xt(this.i,Il,Nu(this),{},"")},gu.prototype.configure=gu.prototype.configure,gu.prototype.me=function(Il,Ll,El){function jl(fl){Al=fl}if(this.v)return Promise.reject(new Mt(2,9,9006));this.v=!0;var Al=null,ml;return Du(this).then(function(){return Eu(this),yu(this,Il,jl,El)}.bind(this)).then(function(fl){if(Eu(this),this.c=fl.manifest,this.b=fl.Lc,this.c.presentationTimeline.$()||this.c.presentationTimeline.wa())throw new Mt(2,9,9005,Il);this.c.periods.forEach(this.o.bind(this)),this.g=this.a.c.manifest++,this.l=0,fl=this.c.periods.map(this.B.bind(this));var bl=this.b.b,wl=Mi(this.b);if(bl){if(!wl.length)throw new Mt(2,9,9007,Il);bl.initData=[]}return ml={key:this.g,originalManifestUri:Il,duration:this.l,size:0,expiration:this.b.bb(),periods:fl,sessionIds:wl,drmInfo:bl,appMetadata:Ll},Po(this.h,ml)}.bind(this)).then(function(){if(Eu(this),Al)throw Al;return Tu(this)}.bind(this)).then(function(){return zo(ml)}.bind(this))["catch"](function(fl){return Tu(this)["catch"](jt).then(function(){throw fl})}.bind(this))},gu.prototype.store=gu.prototype.me,gu.prototype.remove=function(Il){function Ll(wl){6013!=wl.code&&(ml=wl)}var El=Il.offlineUri,jl=/^offline:([0-9]+)$/.exec(El);if(!jl)return Promise.reject(new Mt(2,9,9004,El));var ml=null,bl=+jl[1],Al,fl;return Du(this).then(function(){return Eu(this),this.a.get("manifest",bl)}.bind(this)).then(function(wl){if(Eu(this),!wl)throw new Mt(2,9,9003,El);return Al=wl,wl=Vo(Al),fl=new si(this.f.o,Ll,function(){},function(){}),fl.configure(this.f.getConfiguration().drm),fl.init(wl,!0)}.bind(this)).then(function(){return di(fl,Al.sessionIds)}.bind(this)).then(function(){return fl.m()}.bind(this)).then(function(){if(Eu(this),ml)throw ml;var wl=Al.periods.map(function(Ol){return Ol.streams.map(function(Cl){var zl=Cl.segments.map(function(vl){return vl=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(vl.uri),+vl[1]});return Cl.initSegmentUri&&(Cl=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(Cl.initSegmentUri),zl.push(+Cl[1])),zl}).reduce(Et,[])}).reduce(Et,[]),hl=0,xl=wl.length,Sl=this.i.progressCallback;return ho(this.a,wl,function(){hl++,Sl(Il,hl/xl)})}.bind(this)).then(function(){return Eu(this),this.i.progressCallback(Il,1),this.a.remove("manifest",bl)}.bind(this))},gu.prototype.remove=gu.prototype.remove,gu.prototype.list=function(){var Il=[];return Du(this).then(function(){return Eu(this),this.a.forEach("manifest",function(Ll){Il.push(zo(Ll))})}.bind(this)).then(function(){return Il})},gu.prototype.list=gu.prototype.list,gu.prototype.A=function(Il){for(var Ll=[],El=Vi(this.f.getConfiguration().preferredAudioLanguage),jl=[0,bM,wM],ml=Il.filter(function(wl){return"variant"==wl.type}),jl=jl.map(function(wl){return ml.filter(function(hl){return hl=Vi(hl.language),Gi(wl,El,hl)})}),fl=0,Al;fl<jl.length;fl++)if(jl[fl].length){Al=jl[fl];break}Al||(jl=ml.filter(function(wl){return wl.primary}),jl.length&&(Al=jl)),Al||(Al=ml,ml.map(function(wl){return wl.language}).filter(ft));var bl=Al.filter(function(wl){return wl.height&&480>=wl.height});return bl.length&&(bl.sort(function(wl,hl){return hl.height-wl.height}),Al=bl.filter(function(wl){return wl.height==bl[0].height})),Al.sort(function(wl,hl){return wl.bandwidth-hl.bandwidth}),Al.length&&Ll.push(Al[Math.floor(Al.length/2)]),Ll.push.apply(Ll,Il.filter(function(wl){return"text"==wl.type})),Ll},gu.prototype.o=function(Il){var Ll={};if(this.j){var El=this.j.filter(function(ml){return"variant"==ml.type}),jl=null;El.length&&(jl=Ji(Il,El[0])),jl&&(jl.video&&(Ll.video=jl.video),jl.audio&&(Ll.audio=jl.audio))}Zi(this.b,Ll,Il),Wi(Il,this.f.getConfiguration().restrictions,{width:Infinity,height:Infinity})},gu.prototype.B=function(Il){var jl=Ki(Il,null,null),ml=qi(Il,null),jl=this.i.trackSelectionCallback(jl.concat(ml)),Ll,El;for(this.j||(this.j=jl,this.c.periods.forEach(this.o.bind(this))),ml=jl.length-1;0<ml;--ml){var Al=!1;for(El=ml-1;0<=El;--El)if(jl[ml].type==jl[El].type&&jl[ml].kind==jl[El].kind&&jl[ml].language==jl[El].language){Al=!0;break}if(Al)break}for(Al=[],ml=0;ml<jl.length;ml++)(Ll=Ji(Il,jl[ml]))?(Ll.audio&&((El=Al.filter(function(fl){return fl.id==Ll.audio.id})[0])?El.variantIds.push(Ll.id):(El=Ll.video?Ll.bandwidth/2:Ll.bandwidth,Al.push(Lu(this,Il,Ll.audio,El,Ll.id)))),Ll.video&&((El=Al.filter(function(fl){return fl.id==Ll.video.id})[0])?El.variantIds.push(Ll.id):(El=Ll.audio?Ll.bandwidth/2:Ll.bandwidth,Al.push(Lu(this,Il,Ll.video,El,Ll.id))))):Al.push(Lu(this,Il,$i(Il,jl[ml]),0));return{startTime:Il.startTime,streams:Al}},ul.offline=pu,it("shaka.polyfill.installAll",function(){for(var Il=0;Il<Ml.length;++Il)Ml[Il]()});var Ml=[];it("shaka.polyfill.register",ju),ju(function(){if(tt.Document){var Il=Element.prototype;Il.requestFullscreen=Il.requestFullscreen||Il.mozRequestFullScreen||Il.msRequestFullscreen||Il.webkitRequestFullscreen,Il=Document.prototype,Il.exitFullscreen=Il.exitFullscreen||Il.mozCancelFullScreen||Il.msExitFullscreen||Il.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",mu),document.addEventListener("webkitfullscreenerror",mu),document.addEventListener("mozfullscreenchange",mu),document.addEventListener("mozfullscreenerror",mu),document.addEventListener("MSFullscreenChange",mu),document.addEventListener("MSFullscreenError",mu)}}),ju(function(){var Il=navigator.userAgent;Il&&0<=Il.indexOf("CrKey")&&delete tt.indexedDB});var ll;ju(function(){0>navigator.userAgent.indexOf("Trident/")||(ll=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Au)}),ju(function(){}),fu.prototype.c=function(Il){if(!(1<Il.version)){var Ll=ni(Il.s.La(16)),El=[];if(0<Il.version)for(var jl=Il.s.D(),ml=0,Al;ml<jl;++ml)Al=ni(Il.s.La(16)),El.push(Al);jl=Il.s.D(),Il.s.I(jl),this.b.push.apply(this.b,El),this.f.push(Ll),this.a.push({start:Il.start,end:Il.start+Il.size-1})}},wu.prototype.createMediaKeys=function(){var Il=new xu(this.keySystem);return Promise.resolve(Il)},wu.prototype.getConfiguration=function(){return this.a},xu.prototype.createSession=function(Il){if("temporary"!=(Il||"temporary"))throw new TypeError("Session type "+Il+" is unsupported on this platform.");return new Ou(this.a)},xu.prototype.setServerCertificate=function(){return Promise.resolve(!1)},at(Ou),yM=Ou.prototype,yM.generateRequest=function(Il,Ll){this.a=new Ot;try{this.c=this.g.createSession("video/mp4",new Uint8Array(Ll),null),Rt(this.f,this.c,"mskeymessage",this.pd.bind(this)),Rt(this.f,this.c,"mskeyadded",this.nd.bind(this)),Rt(this.f,this.c,"mskeyerror",this.od.bind(this)),vu(this,"status-pending")}catch(El){this.a.reject(El)}return this.a},yM.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},yM.update=function(Il){this.b=new Ot;try{this.c.update(new Uint8Array(Il))}catch(Ll){this.b.reject(Ll)}return this.b},yM.close=function(){try{this.c.close(),this.closed.resolve(),Yt(this.f)}catch(Il){this.closed.reject(Il)}return this.closed},yM.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},yM.pd=function(Il){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new ln("message",{messageType:void 0==this.keyStatuses.sb()?"licenserequest":"licenserenewal",message:Il.message.buffer}))},yM.nd=function(){this.a?(vu(this,"usable"),this.a.resolve(),this.a=null):this.b&&(vu(this,"usable"),this.b.resolve(),this.b=null)},yM.od=function(){var Il=Error("EME PatchedMediaKeysMs key error");if(Il.errorCode=this.c.error,this.a)this.a.reject(Il),this.a=null;else if(this.b)this.b.reject(Il),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:vu(this,"output-not-allowed");default:vu(this,"internal-error");}};var cl;yM=ku.prototype,yM.Kb=function(Il){this.size=void 0==Il?0:1,this.a=Il},yM.sb=function(){return this.a},yM.forEach=function(Il){this.a&&Il(this.a,cl)},yM.get=function(Il){if(this.has(Il))return this.a},yM.has=function(Il){var Ll=cl;return this.a&&ri(new Uint8Array(Il),new Uint8Array(Ll))},yM.entries=function(){},yM.keys=function(){},yM.values=function(){},_u.prototype.createSession=function(){},_u.prototype.setServerCertificate=function(){},Ru.prototype.getConfiguration=function(){},Ru.prototype.createMediaKeys=function(){};var pl="";Gu.prototype.createMediaKeys=function(){var Il=new Vu(this.a);return Promise.resolve(Il)},Gu.prototype.getConfiguration=function(){return this.b},yM=Vu.prototype,yM.createSession=function(Il){var Ll=Il||"temporary";if("temporary"!=Ll&&"persistent-license"!=Ll)throw new TypeError("Session type "+Il+" is unsupported on this platform.");return Il=this.b||document.createElement("video"),Il.src||(Il.src="about:blank"),Ll=new Zu(Il,this.g,Ll),this.c.push(Ll),Ll},yM.setServerCertificate=function(){return Promise.resolve(!1)},yM.Cd=function(Il){var Ll=document.createEvent("CustomEvent");Ll.initCustomEvent("encrypted",!1,!1,null),Ll.initDataType="webm",Ll.initData=Il.initData,this.b.dispatchEvent(Ll)},yM.Bd=function(Il){var Ll=Wu(this,Il.sessionId);Ll&&(Il=new ln("message",{messageType:void 0==Ll.keyStatuses.sb()?"licenserequest":"licenserenewal",message:Il.message}),Ll.b&&(Ll.b.resolve(),Ll.b=null),Ll.dispatchEvent(Il))},yM.zd=function(Il){(Il=Wu(this,Il.sessionId))&&(Ku(Il,"usable"),Il.a&&Il.a.resolve(),Il.a=null)},yM.Ad=function(Il){var Ll=Wu(this,Il.sessionId);if(Ll){var El=Error("EME v0.1b key error");El.errorCode=Il.errorCode,El.errorCode.systemCode=Il.systemCode,!Il.sessionId&&Ll.b?(El.method="generateRequest",45==Il.systemCode&&(El.message="Unsupported session type."),Ll.b.reject(El),Ll.b=null):Il.sessionId&&Ll.a?(El.method="update",Ll.a.reject(El),Ll.a=null):(El=Il.systemCode,Il.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Ku(Ll,"output-restricted"):1==El?Ku(Ll,"expired"):Ku(Ll,"internal-error"))}},at(Zu),yM=Zu.prototype,yM.Mb=function(Il,Ll){if(this.a)this.a.then(this.Mb.bind(this,Il,Ll))["catch"](this.Mb.bind(this,Il,Ll));else{if(this.a=Il,"webkit-org.w3.clearkey"==this.c){var El=Zt(Ll),jl=JSON.parse(El);"oct"!=jl.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),El=ii(jl.keys[0].k),jl=ii(jl.keys[0].kid)}else El=new Uint8Array(Ll),jl=null;var ml=Yu("addKey");try{this.f[ml](this.c,El,jl,this.sessionId)}catch(Al){this.a.reject(Al),this.a=null}}},yM.generateRequest=function(Il,Ll){return Xu(this,Ll,null)},yM.load=function(Il){return"persistent-license"==this.g?Xu(this,null,Il):Promise.reject(Error("Not a persistent session."))},yM.update=function(Il){var Ll=new Ot;return this.Mb(Ll,Il),Ll},yM.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var Il=Yu("cancelKeyRequest");try{this.f[Il](this.c,this.sessionId)}catch(Ll){}}return this.closed.resolve(),this.closed},yM.remove=function(){return"persistent-license"==this.g?this.close():Promise.reject(Error("Not a persistent session."))};var yl;yM=qu.prototype,yM.Kb=function(Il){this.size=void 0==Il?0:1,this.a=Il},yM.sb=function(){return this.a},yM.forEach=function(Il){this.a&&Il(this.a,yl)},yM.get=function(Il){if(this.has(Il))return this.a},yM.has=function(Il){var Ll=yl;return this.a&&ri(new Uint8Array(Il),new Uint8Array(Ll))},yM.entries=function(){},yM.keys=function(){},yM.values=function(){},ju(function(){!tt.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?Bu("webkit"):HTMLMediaElement.prototype.generateKeyRequest?Bu(""):tt.MSMediaKeys?(cl=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=hu,tt.MediaKeys=xu,tt.MediaKeySystemAccess=wu,navigator.requestMediaKeySystemAccess=bu):(navigator.requestMediaKeySystemAccess=Uu,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Qu,tt.MediaKeys=_u,tt.MediaKeySystemAccess=Ru))}),ju(function(){if(tt.MediaSource){var Il=navigator.vendor,Ll=navigator.appVersion;Il&&Ll&&!(0>Il.indexOf("Apple"))&&(0<=Ll.indexOf("Version/8")?tt.MediaSource=null:0<=Ll.indexOf("Version/9")?Ju():0<=Ll.indexOf("Version/10")&&(Ju(),$u()))}});var Nl=0;iM.prototype.then=function(Il,Ll){var El=new iM;switch(this.Ba){case 1:oM(this,El,Il);break;case 2:oM(this,El,Ll);break;case Nl:this.c.push({L:El,pb:Il}),this.b.push({L:El,pb:Ll});}return El},iM.prototype["catch"]=function(Il){return this.then(void 0,Il)},iM.prototype.fa=function(Il){if(this.Ba==Nl){for(this.jb=Il,this.Ba=1,Il=0;Il<this.c.length;++Il)oM(this,this.c[Il].L,this.c[Il].pb);this.c=[],this.b=[]}},iM.prototype.a=function(Il){if(this.Ba==Nl){for(this.jb=Il,this.Ba=2,Il=0;Il<this.b.length;++Il)oM(this,this.b[Il].L,this.b[Il].pb);this.c=[],this.b=[]}};var Dl=null,Tl=[];ju(function(Il){tt.setImmediate?(MM=function(Ll){return tt.setImmediate(Ll)},lM=function(Ll){return tt.clearImmediate(Ll)}):(MM=function(Ll){return tt.setTimeout(Ll,0)},lM=function(Ll){return tt.clearTimeout(Ll)}),(!tt.Promise||Il)&&(tt.Promise=iM,tt.Promise.resolve=aM,tt.Promise.reject=nM,tt.Promise.all=rM,tt.Promise.race=sM,tt.Promise.prototype.then=iM.prototype.then,tt.Promise.prototype["catch"]=iM.prototype["catch"])}),ju(function(){if(tt.HTMLMediaElement){var Il=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var Ll=Il.apply(this,arguments);return Ll&&Ll["catch"](function(){}),Ll}}}),ju(function(){if(tt.HTMLVideoElement){var Il=HTMLVideoElement.prototype;!Il.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in Il&&(Il.getVideoPlaybackQuality=cM)}}),ju(function(){if(!tt.VTTCue&&tt.TextTrackCue){var Il=TextTrackCue.length;if(3==Il)tt.VTTCue=gM;else if(6==Il)tt.VTTCue=pM;else{try{var Ll=!!gM(1,2,"")}catch(El){Ll=!1}Ll&&(tt.VTTCue=gM)}}})}).call(et,this),"undefined"!=typeof xe&&xe.exports?xe.exports=et.shaka:"undefined"!=typeof define&&define.amd?define(function(){return et.shaka}):this.shaka=et.shaka})()},{}],6:[function($,xe){"object"===typeof xe&&(xe.exports=function(){var tt=Date.now(),it=tt,at=0,nt=Infinity,rt=0,st=0,ot=Infinity,ut=0,Mt=0,lt=0,ct=document.createElement("div");ct.id="stats",ct.addEventListener("mousedown",function(Et){Et.preventDefault(),Lt(++lt%2)},!1),ct.style.cssText="width:80px;opacity:0.9;cursor:pointer";var gt=document.createElement("div");gt.id="fps",gt.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",ct.appendChild(gt);var pt=document.createElement("div");pt.id="fpsText",pt.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",pt.innerHTML="FPS",gt.appendChild(pt);var yt=document.createElement("div");for(yt.id="fpsGraph",yt.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",gt.appendChild(yt);74>yt.children.length;){var Nt=document.createElement("span");Nt.style.cssText="width:1px;height:30px;float:left;background-color:#113",yt.appendChild(Nt)}var Dt=document.createElement("div");Dt.id="ms",Dt.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",ct.appendChild(Dt);var Tt=document.createElement("div");Tt.id="msText",Tt.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",Tt.innerHTML="MS",Dt.appendChild(Tt);var It=document.createElement("div");for(It.id="msGraph",It.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",Dt.appendChild(It);74>It.children.length;)Nt=document.createElement("span"),Nt.style.cssText="width:1px;height:30px;float:left;background-color:#131",It.appendChild(Nt);var Lt=function(Et){lt=Et;0===lt?(gt.style.display="block",Dt.style.display="none"):1===lt?(gt.style.display="none",Dt.style.display="block"):void 0};return{REVISION:12,domElement:ct,setMode:Lt,begin:function(){tt=Date.now()},end:function(){var Et=Date.now();at=Et-tt,nt=Math.min(nt,at),rt=Math.max(rt,at),Tt.textContent=at+" MS ("+nt+"-"+rt+")";var jt=Math.min(30,30-30*(at/200));return It.appendChild(It.firstChild).style.height=jt+"px",Mt++,Et>it+1E3&&(st=Math.round(1E3*Mt/(Et-it)),ot=Math.min(ot,st),ut=Math.max(ut,st),pt.textContent=st+" FPS ("+ot+"-"+ut+")",jt=Math.min(30,30-30*(st/100)),yt.appendChild(yt.firstChild).style.height=jt+"px",it=Et,Mt=0),Et},update:function(){tt=this.end()}}})},{}],7:[function($,xe,_e){(function(et){(function(tt){if("object"===typeof _e&&"undefined"!==typeof xe)xe.exports=tt();else if("function"===typeof define&&define.amd)define([],tt);else{var it;it="undefined"===typeof window?"undefined"===typeof et?"undefined"===typeof self?this:self:et:window,it.WebVRManager=tt()}})(function(){return function nt(rt,st,ot){function ut(ct,gt){if(!st[ct]){if(!rt[ct]){var pt="function"==typeof $&&$;if(!gt&&pt)return pt(ct,!0);if(Mt)return Mt(ct,!0);var yt=new Error("Cannot find module '"+ct+"'");throw yt.code="MODULE_NOT_FOUND",yt}var Nt=st[ct]={exports:{}};rt[ct][0].call(Nt.exports,function(Dt){var Tt=rt[ct][1][Dt];return ut(Tt?Tt:Dt)},Nt,Nt.exports,nt,rt,st,ot)}return st[ct].exports}for(var Mt="function"==typeof $&&$,lt=0;lt<ot.length;lt++)ut(ot[lt]);return ut}({1:[function(nt,rt){function ot(ct){var gt=ct||document.body;this.loadIcons_();var pt=this.createButton();pt.src=this.ICONS.fullscreen,pt.title="Fullscreen mode";var yt=pt.style;yt.bottom=0,yt.right=0,pt.addEventListener("click",this.createClickHandler_("fs")),gt.appendChild(pt),this.fsButton=pt;var Nt=this.createButton();Nt.src=this.ICONS.cardboard,Nt.title="Virtual reality mode";var yt=Nt.style;yt.bottom=0,yt.right="48px",Nt.addEventListener("click",this.createClickHandler_("vr")),gt.appendChild(Nt),this.vrButton=Nt,this.isVisible=!0}var ut=nt("./emitter.js"),Mt=nt("./modes.js"),lt=nt("./util.js");ot.prototype=new ut,ot.prototype.createButton=function(){var ct=document.createElement("img");ct.className="webvr-button";var gt=ct.style;return gt.position="absolute",gt.width="24px",gt.height="24px",gt.backgroundSize="cover",gt.backgroundColor="transparent",gt.border=0,gt.userSelect="none",gt.webkitUserSelect="none",gt.MozUserSelect="none",gt.cursor="pointer",gt.padding="12px",gt.zIndex=1,gt.display="none",gt.boxSizing="content-box",ct.draggable=!1,ct.addEventListener("dragstart",function(pt){pt.preventDefault()}),ct.addEventListener("mouseenter",function(){gt.filter=gt.webkitFilter="drop-shadow(0 0 5px rgba(255,255,255,1))"}),ct.addEventListener("mouseleave",function(){gt.filter=gt.webkitFilter=""}),ct},ot.prototype.setMode=function(ct,gt){if(gt=gt||WebVRConfig.FORCE_ENABLE_VR,!!this.isVisible){ct===Mt.NORMAL?(this.fsButton.style.display="block",this.fsButton.src=this.ICONS.fullscreen,this.vrButton.style.display=gt?"block":"none"):ct===Mt.MAGIC_WINDOW?(this.fsButton.style.display="block",this.fsButton.src=this.ICONS.exitFullscreen,this.vrButton.style.display="none"):ct===Mt.VR?(this.fsButton.style.display="none",this.vrButton.style.display="none"):void 0;var pt=this.fsButton.style.display;this.fsButton.style.display="inline-block",this.fsButton.offsetHeight,this.fsButton.style.display=pt}},ot.prototype.setVisibility=function(ct){this.isVisible=ct,this.fsButton.style.display=ct?"block":"none",this.vrButton.style.display=ct?"block":"none"},ot.prototype.createClickHandler_=function(ct){return function(gt){gt.stopPropagation(),gt.preventDefault(),this.emit(ct)}.bind(this)},ot.prototype.loadIcons_=function(){this.ICONS={},this.ICONS.cardboard=lt.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMjAuNzQgNkgzLjIxQzIuNTUgNiAyIDYuNTcgMiA3LjI4djEwLjQ0YzAgLjcuNTUgMS4yOCAxLjIzIDEuMjhoNC43OWMuNTIgMCAuOTYtLjMzIDEuMTQtLjc5bDEuNC0zLjQ4Yy4yMy0uNTkuNzktMS4wMSAxLjQ0LTEuMDFzMS4yMS40MiAxLjQ1IDEuMDFsMS4zOSAzLjQ4Yy4xOS40Ni42My43OSAxLjExLjc5aDQuNzljLjcxIDAgMS4yNi0uNTcgMS4yNi0xLjI4VjcuMjhjMC0uNy0uNTUtMS4yOC0xLjI2LTEuMjh6TTcuNSAxNC42MmMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTMgMS4xOCAwIDIuMTIuOTYgMi4xMiAyLjEzcy0uOTUgMi4xMi0yLjEyIDIuMTJ6bTkgMGMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTNzMi4xMi45NiAyLjEyIDIuMTMtLjk1IDIuMTItMi4xMiAyLjEyeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+Cjwvc3ZnPgo="),this.ICONS.fullscreen=lt.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNyAxNEg1djVoNXYtMkg3di0zem0tMi00aDJWN2gzVjVINXY1em0xMiA3aC0zdjJoNXYtNWgtMnYzek0xNCA1djJoM3YzaDJWNWgtNXoiLz4KPC9zdmc+Cg=="),this.ICONS.exitFullscreen=lt.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNSAxNmgzdjNoMnYtNUg1djJ6bTMtOEg1djJoNVY1SDh2M3ptNiAxMWgydi0zaDN2LTJoLTV2NXptMi0xMVY1aC0ydjVoNVY4aC0zeiIvPgo8L3N2Zz4K"),this.ICONS.settings=lt.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==")},rt.exports=ot},{"./emitter.js":2,"./modes.js":3,"./util.js":4}],2:[function(nt,rt){function ot(){this.callbacks={}}ot.prototype.emit=function(ut){var Mt=this.callbacks[ut];if(Mt){var lt=[].slice.call(arguments);lt.shift();for(var ct=0;ct<Mt.length;ct++)Mt[ct].apply(this,lt)}},ot.prototype.on=function(ut,Mt){ut in this.callbacks?this.callbacks[ut].push(Mt):this.callbacks[ut]=[Mt]},rt.exports=ot},{}],3:[function(nt,rt){rt.exports={UNKNOWN:0,NORMAL:1,MAGIC_WINDOW:2,VR:3}},{}],4:[function(nt,rt){var ot={};ot.base64=function(ut,Mt){return"data:"+ut+";base64,"+Mt},ot.isMobile=function(){var ut=!1;return function(Mt){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Mt)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Mt.substr(0,4)))&&(ut=!0)}(navigator.userAgent||navigator.vendor||window.opera),ut},ot.isFirefox=function(){return /firefox/i.test(navigator.userAgent)},ot.isIOS=function(){return /(iPad|iPhone|iPod)/g.test(navigator.userAgent)},ot.isIFrame=function(){try{return window.self!==window.top}catch(ut){return!0}},ot.appendQueryParameter=function(ut,Mt,lt){var ct=0>ut.indexOf("?")?"?":"&";return ut+=ct+Mt+"="+lt,ut},ot.getQueryParameter=function(ut){var ut=ut.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),Mt=new RegExp("[\\?&]"+ut+"=([^&#]*)"),lt=Mt.exec(location.search);return null===lt?"":decodeURIComponent(lt[1].replace(/\+/g," "))},ot.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},ot.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},ot.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},rt.exports=ot},{}],5:[function(nt,rt){function ot(gt,pt,yt){this.params=yt||{},this.mode=lt.UNKNOWN,this.hideButton=this.params.hideButton||!1,this.predistorted=!!this.params.predistorted,this.renderer=gt,this.effect=pt;var Nt=document.querySelector(".webvr-polyfill-fullscreen-wrapper");this.button=new ut(Nt),this.isFullscreenDisabled=!!ct.getQueryParameter("no_fullscreen"),this.startMode=lt.NORMAL;var Dt=parseInt(ct.getQueryParameter("start_mode"));isNaN(Dt)||(this.startMode=Dt),this.hideButton&&this.button.setVisibility(!1),this.getDeviceByType_(VRDisplay).then(function(Tt){switch(this.hmd=Tt,this.isVRCompatibleOverride||(this.isVRCompatible=!Tt.isPolyfilled||ct.isMobile()),this.startMode){case lt.MAGIC_WINDOW:this.setMode_(lt.MAGIC_WINDOW);break;case lt.VR:this.enterVRMode_(),this.setMode_(lt.VR);break;default:this.setMode_(lt.NORMAL);}this.emit("initialized")}.bind(this)),this.button.on("fs",this.onFSClick_.bind(this)),this.button.on("vr",this.onVRClick_.bind(this)),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange_.bind(this)),document.addEventListener("mozfullscreenchange",this.onFullscreenChange_.bind(this)),document.addEventListener("msfullscreenchange",this.onFullscreenChange_.bind(this)),window.addEventListener("vrdisplaypresentchange",this.onVRDisplayPresentChange_.bind(this)),window.addEventListener("vrdisplaydeviceparamschange",this.onVRDisplayDeviceParamsChange_.bind(this))}var ut=nt("./button-manager.js"),Mt=nt("./emitter.js"),lt=nt("./modes.js"),ct=nt("./util.js");ot.prototype=new Mt,ot.Modes=lt,ot.prototype.render=function(gt,pt){gt instanceof Array?this.effect.render(gt[0],pt):this.effect.render(gt,pt)},ot.prototype.setVRCompatibleOverride=function(gt){this.isVRCompatible=gt,this.isVRCompatibleOverride=!0,this.button.setMode(this.mode,this.isVRCompatible)},ot.prototype.setFullscreenCallback=function(gt){this.fullscreenCallback=gt},ot.prototype.setVRCallback=function(gt){this.vrCallback=gt},ot.prototype.setExitFullscreenCallback=function(gt){this.exitFullscreenCallback=gt},ot.prototype.getDeviceByType_=function(gt){return new Promise(function(pt){navigator.getVRDisplays().then(function(Nt){for(var Dt=0;Dt<Nt.length;Dt++)if(Nt[Dt]instanceof gt){pt(Nt[Dt]);break}pt(null)},function(){pt(null)})})},ot.prototype.enterVRMode_=function(){this.hmd.requestPresent([{source:this.renderer.domElement,predistorted:this.predistorted}])},ot.prototype.setMode_=function(gt){var pt=this.mode;return gt==this.mode?void console.warn("Not changing modes, already in %s",gt):void(this.mode=gt,this.button.setMode(gt,this.isVRCompatible),this.emit("modechange",gt,pt))},ot.prototype.onFSClick_=function(){switch(this.mode){case lt.NORMAL:if(ct.isIOS()&&ct.isIFrame())if(this.fullscreenCallback)this.fullscreenCallback();else{var gt=window.location.href;return gt=ct.appendQueryParameter(gt,"no_fullscreen","true"),gt=ct.appendQueryParameter(gt,"start_mode",lt.MAGIC_WINDOW),void(top.location.href=gt)}this.setMode_(lt.MAGIC_WINDOW),this.requestFullscreen_();break;case lt.MAGIC_WINDOW:if(this.isFullscreenDisabled)return void window.history.back();this.exitFullscreenCallback&&this.exitFullscreenCallback(),this.setMode_(lt.NORMAL),this.exitFullscreen_();}},ot.prototype.onVRClick_=function(){if(this.mode==lt.NORMAL&&ct.isIOS()&&ct.isIFrame())if(this.vrCallback)this.vrCallback();else{var gt=window.location.href;return gt=ct.appendQueryParameter(gt,"no_fullscreen","true"),gt=ct.appendQueryParameter(gt,"start_mode",lt.VR),void(top.location.href=gt)}this.enterVRMode_()},ot.prototype.requestFullscreen_=function(){var gt=document.body;gt.requestFullscreen?gt.requestFullscreen():gt.mozRequestFullScreen?gt.mozRequestFullScreen():gt.webkitRequestFullscreen?gt.webkitRequestFullscreen():gt.msRequestFullscreen&&gt.msRequestFullscreen()},ot.prototype.exitFullscreen_=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},ot.prototype.onVRDisplayPresentChange_=function(gt){console.log("onVRDisplayPresentChange_",gt),this.hmd.isPresenting?this.setMode_(lt.VR):this.setMode_(lt.NORMAL)},ot.prototype.onVRDisplayDeviceParamsChange_=function(gt){console.log("onVRDisplayDeviceParamsChange_",gt)},ot.prototype.onFullscreenChange_=function(){(null===document.webkitFullscreenElement||null===document.mozFullScreenElement)&&this.setMode_(lt.NORMAL)},rt.exports=ot},{"./button-manager.js":1,"./emitter.js":2,"./modes.js":3,"./util.js":4}]},{},[5])(5)})}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{}],8:[function($,xe){xe.exports={_from:"webvr-polyfill@0.9.36",_id:"webvr-polyfill@0.9.36",_inBundle:!1,_integrity:"sha1-Sx4VVmZ+gEvrDIwuZ/38ujNx6MY=",_location:"/webvr-polyfill",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"webvr-polyfill@0.9.36",name:"webvr-polyfill",escapedName:"webvr-polyfill",rawSpec:"0.9.36",saveSpec:null,fetchSpec:"0.9.36"},_requiredBy:["#USER","/","/webvr-boilerplate"],_resolved:"https://registry.npmjs.org/webvr-polyfill/-/webvr-polyfill-0.9.36.tgz",_shasum:"4b1e1556667e804beb0c8c2e67fdfcba3371e8c6",_spec:"webvr-polyfill@0.9.36",_where:"/Users/sam/DwnetDev/dwlab/webvr/vrview",authors:["Boris Smus <boris@smus.com>","Brandon Jones <tojiro@gmail.com>","Jordan Santell <jordan@jsantell.com>"],bugs:{url:"https://github.com/googlevr/webvr-polyfill/issues"},bundleDependencies:!1,deprecated:!1,description:"Use WebVR today, on mobile or desktop, without requiring a special browser build.",devDependencies:{chai:"^3.5.0",jsdom:"^9.12.0",mocha:"^3.2.0",semver:"^5.3.0",webpack:"^2.6.1","webpack-dev-server":"^2.4.5"},homepage:"https://github.com/googlevr/webvr-polyfill",keywords:["vr","webvr"],license:"Apache-2.0",main:"src/node-entry",name:"webvr-polyfill",repository:{type:"git",url:"git+https://github.com/googlevr/webvr-polyfill.git"},scripts:{build:"webpack",start:"npm run watch",test:"mocha",watch:"webpack-dev-server"},version:"0.9.36"}},{}],9:[function($,xe){function tt(){this.isPolyfilled=!0,this.displayId=ot++,this.displayName="webvr-polyfill displayName",this.depthNear=0.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new st}function it(){this.isPolyfilled=!0,this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function at(){}function nt(){}var rt=$("./util.js"),st=$("./wakelock.js"),ot=1e3,ut=!1,Mt=[0,0,0.5,1],lt=[0.5,0,0.5,1];tt.prototype.getFrameData=function(ct){return rt.frameDataFromPose(ct,this.getPose(),this)},tt.prototype.getPose=function(){return this.getImmediatePose()},tt.prototype.requestAnimationFrame=function(ct){return window.requestAnimationFrame(ct)},tt.prototype.cancelAnimationFrame=function(ct){return window.cancelAnimationFrame(ct)},tt.prototype.wrapForFullscreen=function(ct){if(rt.isIOS())return ct;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var pt=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",pt.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==ct)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=ct;var yt=this.fullscreenElement_.parentElement;yt.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),yt.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var Nt=this;return function(){if(Nt.fullscreenElement_){var Dt=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];Nt.fullscreenElement_.setAttribute("style",Dt.join("; ")+";")}}(),this.fullscreenWrapper_},tt.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var ct=this.fullscreenElement_;this.fullscreenElementCachedStyle_?ct.setAttribute("style",this.fullscreenElementCachedStyle_):ct.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var gt=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(ct),gt.insertBefore(ct,this.fullscreenWrapper_),gt.removeChild(this.fullscreenWrapper_),ct}},tt.prototype.requestPresent=function(ct){var gt=this.isPresenting,pt=this;return ct instanceof Array||(!ut&&(console.warn("Using a deprecated form of requestPresent. Should pass in an array of VRLayers."),ut=!0),ct=[ct]),new Promise(function(yt,Nt){if(!pt.capabilities.canPresent)return void Nt(new Error("VRDisplay is not capable of presenting."));if(0==ct.length||ct.length>pt.capabilities.maxLayers)return void Nt(new Error("Invalid number of layers."));var Dt=ct[0];if(!Dt.source)return void yt();var Tt=Dt.leftBounds||Mt,It=Dt.rightBounds||lt;if(gt){var Lt=pt.layer_;Lt.source!==Dt.source&&(Lt.source=Dt.source);for(var Et=0;4>Et;Et++)Lt.leftBounds[Et]=Tt[Et],Lt.rightBounds[Et]=It[Et];return void yt()}if(pt.layer_={predistorted:Dt.predistorted,source:Dt.source,leftBounds:Tt.slice(0),rightBounds:It.slice(0)},pt.waitingForPresent_=!1,pt.layer_&&pt.layer_.source){var jt=pt.wrapForFullscreen(pt.layer_.source),mt=function(){var ft=rt.getFullscreenElement();pt.isPresenting=jt===ft,pt.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(wt){console.error("screen.orientation.lock() failed due to",wt.message)}),pt.waitingForPresent_=!1,pt.beginPresent_(),yt()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),pt.removeFullscreenWrapper(),pt.wakelock_.release(),pt.endPresent_(),pt.removeFullscreenListeners_()),pt.fireVRDisplayPresentChange_()},At=function(){pt.waitingForPresent_&&(pt.removeFullscreenWrapper(),pt.removeFullscreenListeners_(),pt.wakelock_.release(),pt.waitingForPresent_=!1,pt.isPresenting=!1,Nt(new Error("Unable to present.")))};pt.addFullscreenListeners_(jt,mt,At),rt.requestFullscreen(jt)?(pt.wakelock_.request(),pt.waitingForPresent_=!0):(rt.isIOS()||rt.isWebViewAndroid())&&(pt.wakelock_.request(),pt.isPresenting=!0,pt.beginPresent_(),pt.fireVRDisplayPresentChange_(),yt())}pt.waitingForPresent_||rt.isIOS()||(rt.exitFullscreen(),Nt(new Error("Unable to present.")))})},tt.prototype.exitPresent=function(){var ct=this.isPresenting,gt=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(pt,yt){ct?(!rt.exitFullscreen()&&rt.isIOS()&&(gt.endPresent_(),gt.fireVRDisplayPresentChange_()),rt.isWebViewAndroid()&&(gt.removeFullscreenWrapper(),gt.removeFullscreenListeners_(),gt.endPresent_(),gt.fireVRDisplayPresentChange_()),pt()):yt(new Error("Was not presenting to VRDisplay."))})},tt.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},tt.prototype.fireVRDisplayPresentChange_=function(){var ct=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(ct)},tt.prototype.fireVRDisplayConnect_=function(){var ct=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(ct)},tt.prototype.addFullscreenListeners_=function(ct,gt,pt){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=ct,this.fullscreenChangeHandler_=gt,this.fullscreenErrorHandler_=pt,gt&&(document.fullscreenEnabled?ct.addEventListener("fullscreenchange",gt,!1):document.webkitFullscreenEnabled?ct.addEventListener("webkitfullscreenchange",gt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",gt,!1):document.msFullscreenEnabled&&ct.addEventListener("msfullscreenchange",gt,!1)),pt&&(document.fullscreenEnabled?ct.addEventListener("fullscreenerror",pt,!1):document.webkitFullscreenEnabled?ct.addEventListener("webkitfullscreenerror",pt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",pt,!1):document.msFullscreenEnabled&&ct.addEventListener("msfullscreenerror",pt,!1))},tt.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var ct=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var gt=this.fullscreenChangeHandler_;ct.removeEventListener("fullscreenchange",gt,!1),ct.removeEventListener("webkitfullscreenchange",gt,!1),document.removeEventListener("mozfullscreenchange",gt,!1),ct.removeEventListener("msfullscreenchange",gt,!1)}if(this.fullscreenErrorHandler_){var pt=this.fullscreenErrorHandler_;ct.removeEventListener("fullscreenerror",pt,!1),ct.removeEventListener("webkitfullscreenerror",pt,!1),document.removeEventListener("mozfullscreenerror",pt,!1),ct.removeEventListener("msfullscreenerror",pt,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},tt.prototype.beginPresent_=function(){},tt.prototype.endPresent_=function(){},tt.prototype.submitFrame=function(){},tt.prototype.getEyeParameters=function(){return null},at.prototype=new it,nt.prototype=new it,xe.exports.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},xe.exports.VRDisplay=tt,xe.exports.VRDevice=it,xe.exports.HMDVRDevice=at,xe.exports.PositionSensorVRDevice=nt},{"./util.js":29,"./wakelock.js":31}],10:[function($,xe){function et(st){this.gl=st,this.ctxAttribs=st.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=window.WebVRConfig.BUFFER_SCALE,this.bufferWidth=st.drawingBufferWidth,this.bufferHeight=st.drawingBufferHeight,this.realBindFramebuffer=st.bindFramebuffer,this.realEnable=st.enable,this.realDisable=st.disable,this.realColorMask=st.colorMask,this.realClearColor=st.clearColor,this.realViewport=st.viewport,it.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(st.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(st.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=it.linkProgram(st,nt,rt,this.attribs),this.uniforms=it.getProgramUniforms(st,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=st.createBuffer(),this.indexBuffer=st.createBuffer(),this.indexCount=0,this.renderTarget=st.createTexture(),this.framebuffer=st.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=st.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=st.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=st.createRenderbuffer()),this.patch(),this.onResize(),window.WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new tt(st))}var tt=$("./cardboard-ui.js"),it=$("./util.js"),at=$("./deps/wglu-preserve-state.js"),nt=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),rt=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");et.prototype.destroy=function(){var st=this.gl;this.unpatch(),st.deleteProgram(this.program),st.deleteBuffer(this.vertexBuffer),st.deleteBuffer(this.indexBuffer),st.deleteTexture(this.renderTarget),st.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&st.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&st.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&st.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},et.prototype.onResize=function(){var st=this.gl,ot=this,ut=[st.RENDERBUFFER_BINDING,st.TEXTURE_BINDING_2D,st.TEXTURE0];at(st,ut,function(Mt){ot.realBindFramebuffer.call(Mt,Mt.FRAMEBUFFER,null),ot.scissorTest&&ot.realDisable.call(Mt,Mt.SCISSOR_TEST),ot.realColorMask.call(Mt,!0,!0,!0,!0),ot.realViewport.call(Mt,0,0,Mt.drawingBufferWidth,Mt.drawingBufferHeight),ot.realClearColor.call(Mt,0,0,0,1),Mt.clear(Mt.COLOR_BUFFER_BIT),ot.realBindFramebuffer.call(Mt,Mt.FRAMEBUFFER,ot.framebuffer),Mt.bindTexture(Mt.TEXTURE_2D,ot.renderTarget),Mt.texImage2D(Mt.TEXTURE_2D,0,ot.ctxAttribs.alpha?Mt.RGBA:Mt.RGB,ot.bufferWidth,ot.bufferHeight,0,ot.ctxAttribs.alpha?Mt.RGBA:Mt.RGB,Mt.UNSIGNED_BYTE,null),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MAG_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MIN_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_S,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_T,Mt.CLAMP_TO_EDGE),Mt.framebufferTexture2D(Mt.FRAMEBUFFER,Mt.COLOR_ATTACHMENT0,Mt.TEXTURE_2D,ot.renderTarget,0),ot.ctxAttribs.depth&&ot.ctxAttribs.stencil?(Mt.bindRenderbuffer(Mt.RENDERBUFFER,ot.depthStencilBuffer),Mt.renderbufferStorage(Mt.RENDERBUFFER,Mt.DEPTH_STENCIL,ot.bufferWidth,ot.bufferHeight),Mt.framebufferRenderbuffer(Mt.FRAMEBUFFER,Mt.DEPTH_STENCIL_ATTACHMENT,Mt.RENDERBUFFER,ot.depthStencilBuffer)):ot.ctxAttribs.depth?(Mt.bindRenderbuffer(Mt.RENDERBUFFER,ot.depthBuffer),Mt.renderbufferStorage(Mt.RENDERBUFFER,Mt.DEPTH_COMPONENT16,ot.bufferWidth,ot.bufferHeight),Mt.framebufferRenderbuffer(Mt.FRAMEBUFFER,Mt.DEPTH_ATTACHMENT,Mt.RENDERBUFFER,ot.depthBuffer)):ot.ctxAttribs.stencil&&(Mt.bindRenderbuffer(Mt.RENDERBUFFER,ot.stencilBuffer),Mt.renderbufferStorage(Mt.RENDERBUFFER,Mt.STENCIL_INDEX8,ot.bufferWidth,ot.bufferHeight),Mt.framebufferRenderbuffer(Mt.FRAMEBUFFER,Mt.STENCIL_ATTACHMENT,Mt.RENDERBUFFER,ot.stencilBuffer)),!Mt.checkFramebufferStatus(Mt.FRAMEBUFFER)===Mt.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),ot.realBindFramebuffer.call(Mt,Mt.FRAMEBUFFER,ot.lastBoundFramebuffer),ot.scissorTest&&ot.realEnable.call(Mt,Mt.SCISSOR_TEST),ot.realColorMask.apply(Mt,ot.colorMask),ot.realViewport.apply(Mt,ot.viewport),ot.realClearColor.apply(Mt,ot.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},et.prototype.patch=function(){if(!this.isPatched){var st=this,ot=this.gl.canvas,ut=this.gl;it.isIOS()||(ot.width=it.getScreenWidth()*this.bufferScale,ot.height=it.getScreenHeight()*this.bufferScale,Object.defineProperty(ot,"width",{configurable:!0,enumerable:!0,get:function(){return st.bufferWidth},set:function(Mt){st.bufferWidth=Mt,st.realCanvasWidth.set.call(ot,Mt),st.onResize()}}),Object.defineProperty(ot,"height",{configurable:!0,enumerable:!0,get:function(){return st.bufferHeight},set:function(Mt){st.bufferHeight=Mt,st.realCanvasHeight.set.call(ot,Mt),st.onResize()}})),this.lastBoundFramebuffer=ut.getParameter(ut.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(ut.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(Mt,lt){st.lastBoundFramebuffer=lt?lt:st.framebuffer,st.realBindFramebuffer.call(ut,Mt,st.lastBoundFramebuffer)},this.cullFace=ut.getParameter(ut.CULL_FACE),this.depthTest=ut.getParameter(ut.DEPTH_TEST),this.blend=ut.getParameter(ut.BLEND),this.scissorTest=ut.getParameter(ut.SCISSOR_TEST),this.stencilTest=ut.getParameter(ut.STENCIL_TEST),ut.enable=function(Mt){Mt===ut.CULL_FACE?st.cullFace=!0:Mt===ut.DEPTH_TEST?st.depthTest=!0:Mt===ut.BLEND?st.blend=!0:Mt===ut.SCISSOR_TEST?st.scissorTest=!0:Mt===ut.STENCIL_TEST?st.stencilTest=!0:void 0,st.realEnable.call(ut,Mt)},ut.disable=function(Mt){Mt===ut.CULL_FACE?st.cullFace=!1:Mt===ut.DEPTH_TEST?st.depthTest=!1:Mt===ut.BLEND?st.blend=!1:Mt===ut.SCISSOR_TEST?st.scissorTest=!1:Mt===ut.STENCIL_TEST?st.stencilTest=!1:void 0,st.realDisable.call(ut,Mt)},this.colorMask=ut.getParameter(ut.COLOR_WRITEMASK),ut.colorMask=function(Mt,lt,ct,gt){st.colorMask[0]=Mt,st.colorMask[1]=lt,st.colorMask[2]=ct,st.colorMask[3]=gt,st.realColorMask.call(ut,Mt,lt,ct,gt)},this.clearColor=ut.getParameter(ut.COLOR_CLEAR_VALUE),ut.clearColor=function(Mt,lt,ct,gt){st.clearColor[0]=Mt,st.clearColor[1]=lt,st.clearColor[2]=ct,st.clearColor[3]=gt,st.realClearColor.call(ut,Mt,lt,ct,gt)},this.viewport=ut.getParameter(ut.VIEWPORT),ut.viewport=function(Mt,lt,ct,gt){st.viewport[0]=Mt,st.viewport[1]=lt,st.viewport[2]=ct,st.viewport[3]=gt,st.realViewport.call(ut,Mt,lt,ct,gt)},this.isPatched=!0,it.safariCssSizeWorkaround(ot)}},et.prototype.unpatch=function(){if(this.isPatched){var st=this.gl,ot=this.gl.canvas;it.isIOS()||(Object.defineProperty(ot,"width",this.realCanvasWidth),Object.defineProperty(ot,"height",this.realCanvasHeight)),ot.width=this.bufferWidth,ot.height=this.bufferHeight,st.bindFramebuffer=this.realBindFramebuffer,st.enable=this.realEnable,st.disable=this.realDisable,st.colorMask=this.realColorMask,st.clearColor=this.realClearColor,st.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&st.bindFramebuffer(st.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){it.safariCssSizeWorkaround(ot)},1)}},et.prototype.setTextureBounds=function(st,ot){st||(st=[0,0,0.5,1]),ot||(ot=[0.5,0,0.5,1]),this.viewportOffsetScale[0]=st[0],this.viewportOffsetScale[1]=st[1],this.viewportOffsetScale[2]=st[2],this.viewportOffsetScale[3]=st[3],this.viewportOffsetScale[4]=ot[0],this.viewportOffsetScale[5]=ot[1],this.viewportOffsetScale[6]=ot[2],this.viewportOffsetScale[7]=ot[3]},et.prototype.submitFrame=function(){var st=this.gl,ot=this,ut=[];if(window.WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||ut.push(st.CURRENT_PROGRAM,st.ARRAY_BUFFER_BINDING,st.ELEMENT_ARRAY_BUFFER_BINDING,st.TEXTURE_BINDING_2D,st.TEXTURE0),at(st,ut,function(lt){ot.realBindFramebuffer.call(lt,lt.FRAMEBUFFER,null),ot.cullFace&&ot.realDisable.call(lt,lt.CULL_FACE),ot.depthTest&&ot.realDisable.call(lt,lt.DEPTH_TEST),ot.blend&&ot.realDisable.call(lt,lt.BLEND),ot.scissorTest&&ot.realDisable.call(lt,lt.SCISSOR_TEST),ot.stencilTest&&ot.realDisable.call(lt,lt.STENCIL_TEST),ot.realColorMask.call(lt,!0,!0,!0,!0),ot.realViewport.call(lt,0,0,lt.drawingBufferWidth,lt.drawingBufferHeight),(ot.ctxAttribs.alpha||it.isIOS())&&(ot.realClearColor.call(lt,0,0,0,1),lt.clear(lt.COLOR_BUFFER_BIT)),lt.useProgram(ot.program),lt.bindBuffer(lt.ELEMENT_ARRAY_BUFFER,ot.indexBuffer),lt.bindBuffer(lt.ARRAY_BUFFER,ot.vertexBuffer),lt.enableVertexAttribArray(ot.attribs.position),lt.enableVertexAttribArray(ot.attribs.texCoord),lt.vertexAttribPointer(ot.attribs.position,2,lt.FLOAT,!1,20,0),lt.vertexAttribPointer(ot.attribs.texCoord,3,lt.FLOAT,!1,20,8),lt.activeTexture(lt.TEXTURE0),lt.uniform1i(ot.uniforms.diffuse,0),lt.bindTexture(lt.TEXTURE_2D,ot.renderTarget),lt.uniform4fv(ot.uniforms.viewportOffsetScale,ot.viewportOffsetScale),lt.drawElements(lt.TRIANGLES,ot.indexCount,lt.UNSIGNED_SHORT,0),ot.cardboardUI&&ot.cardboardUI.renderNoState(),ot.realBindFramebuffer.call(ot.gl,lt.FRAMEBUFFER,ot.framebuffer),ot.ctxAttribs.preserveDrawingBuffer||(ot.realClearColor.call(lt,0,0,0,0),lt.clear(lt.COLOR_BUFFER_BIT)),window.WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||ot.realBindFramebuffer.call(lt,lt.FRAMEBUFFER,ot.lastBoundFramebuffer),ot.cullFace&&ot.realEnable.call(lt,lt.CULL_FACE),ot.depthTest&&ot.realEnable.call(lt,lt.DEPTH_TEST),ot.blend&&ot.realEnable.call(lt,lt.BLEND),ot.scissorTest&&ot.realEnable.call(lt,lt.SCISSOR_TEST),ot.stencilTest&&ot.realEnable.call(lt,lt.STENCIL_TEST),ot.realColorMask.apply(lt,ot.colorMask),ot.realViewport.apply(lt,ot.viewport),(ot.ctxAttribs.alpha||!ot.ctxAttribs.preserveDrawingBuffer)&&ot.realClearColor.apply(lt,ot.clearColor)}),it.isIOS()){var Mt=st.canvas;(Mt.width!=ot.bufferWidth||Mt.height!=ot.bufferHeight)&&(ot.bufferWidth=Mt.width,ot.bufferHeight=Mt.height,ot.onResize())}},et.prototype.updateDeviceInfo=function(st){var ot=this.gl,ut=this,Mt=[ot.ARRAY_BUFFER_BINDING,ot.ELEMENT_ARRAY_BUFFER_BINDING];at(ot,Mt,function(lt){var ct=ut.computeMeshVertices_(ut.meshWidth,ut.meshHeight,st);if(lt.bindBuffer(lt.ARRAY_BUFFER,ut.vertexBuffer),lt.bufferData(lt.ARRAY_BUFFER,ct,lt.STATIC_DRAW),!ut.indexCount){var gt=ut.computeMeshIndices_(ut.meshWidth,ut.meshHeight);lt.bindBuffer(lt.ELEMENT_ARRAY_BUFFER,ut.indexBuffer),lt.bufferData(lt.ELEMENT_ARRAY_BUFFER,gt,lt.STATIC_DRAW),ut.indexCount=gt.length}})},et.prototype.computeMeshVertices_=function(st,ot,ut){for(var Mt=new Float32Array(5*(2*st*ot)),lt=ut.getLeftEyeVisibleTanAngles(),ct=ut.getLeftEyeNoLensTanAngles(),gt=ut.getLeftEyeVisibleScreenRect(ct),pt=0,Nt=0;2>Nt;Nt++){for(var Dt=0;Dt<ot;Dt++)for(var Tt=0;Tt<st;Tt++,pt++){var It=Tt/(st-1),Lt=Dt/(ot-1),Et=It,jt=Lt,mt=it.lerp(lt[0],lt[2],It),At=it.lerp(lt[3],lt[1],Lt),ft=Math.sqrt(mt*mt+At*At),wt=ut.distortion.distortInverse(ft);It=(mt*wt/ft-ct[0])/(ct[2]-ct[0]),Lt=(At*wt/ft-ct[3])/(ct[1]-ct[3]);ut.device.widthMeters/ut.device.heightMeters;It=2*(gt.x+It*gt.width-0.5),Lt=2*(gt.y+Lt*gt.height-0.5),Mt[5*pt+0]=It,Mt[5*pt+1]=Lt,Mt[5*pt+2]=Et,Mt[5*pt+3]=jt,Mt[5*pt+4]=Nt}var Ot=lt[2]-lt[0];lt[0]=-(Ot+lt[0]),lt[2]=Ot-lt[2],Ot=ct[2]-ct[0],ct[0]=-(Ot+ct[0]),ct[2]=Ot-ct[2],gt.x=1-(gt.x+gt.width)}return Mt},et.prototype.computeMeshIndices_=function(st,ot){for(var ut=new Uint16Array(6*(2*(st-1)*(ot-1))),ct=0,gt=0,pt=0;2>pt;pt++)for(var yt=0;yt<ot;yt++)for(var Nt=0;Nt<st;Nt++,ct++)0!=Nt&&0!=yt&&(Nt<=st/2==yt<=ot/2?(ut[gt++]=ct,ut[gt++]=ct-st-1,ut[gt++]=ct-st,ut[gt++]=ct-st-1,ut[gt++]=ct,ut[gt++]=ct-1):(ut[gt++]=ct-1,ut[gt++]=ct-st,ut[gt++]=ct,ut[gt++]=ct-st,ut[gt++]=ct-1,ut[gt++]=ct-st-1));return ut},et.prototype.getOwnPropertyDescriptor_=function(st,ot){var ut=Object.getOwnPropertyDescriptor(st,ot);return(void 0===ut.get||void 0===ut.set)&&(ut.configurable=!0,ut.enumerable=!0,ut.get=function(){return this.getAttribute(ot)},ut.set=function(Mt){this.setAttribute(ot,Mt)}),ut},xe.exports=et},{"./cardboard-ui.js":11,"./deps/wglu-preserve-state.js":13,"./util.js":29}],11:[function($,xe){function et(Dt){this.gl=Dt,this.attribs={position:0},this.program=tt.linkProgram(Dt,at,nt,this.attribs),this.uniforms=tt.getProgramUniforms(Dt,this.program),this.vertexBuffer=Dt.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}var tt=$("./util.js"),it=$("./deps/wglu-preserve-state.js"),at=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),nt=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),rt=Math.PI/180,st=60,ot=12,ut=20,Mt=1,lt=0.75,ct=0.3125,pt=28,yt=1.5;et.prototype.destroy=function(){var Dt=this.gl;this.listener&&Dt.canvas.removeEventListener("click",this.listener,!1),Dt.deleteProgram(this.program),Dt.deleteBuffer(this.vertexBuffer)},et.prototype.listen=function(Dt,Tt){var It=this.gl.canvas;this.listener=function(Lt){var Et=It.clientWidth/2,jt=pt*yt;Lt.clientX>Et-jt&&Lt.clientX<Et+jt&&Lt.clientY>It.clientHeight-jt?Dt(Lt):Lt.clientX<jt&&Lt.clientY<jt&&Tt(Lt)},It.addEventListener("click",this.listener,!1)},et.prototype.onResize=function(){var Dt=this.gl,Tt=this,It=[Dt.ARRAY_BUFFER_BINDING];it(Dt,It,function(Lt){function Et(Ut,Qt){var _t=(90-Ut)*rt,Rt=Math.cos(_t),Bt=Math.sin(_t);mt.push(ct*Rt*Ot+At,ct*Bt*Ot+Ot),mt.push(Qt*Rt*Ot+At,Qt*Bt*Ot+Ot)}function jt(Ut,Qt){mt.push(Ct+Ut,Lt.drawingBufferHeight-Ct-Qt)}var mt=[],At=Lt.drawingBufferWidth/2,ft=Math.max(screen.width,screen.height)*window.devicePixelRatio,wt=Lt.drawingBufferWidth/ft,ht=wt*window.devicePixelRatio,xt=4*ht/2,St=pt*yt*ht,Ot=pt*ht/2,Ct=(pt*yt-pt)*ht;mt.push(At-xt,St),mt.push(At-xt,Lt.drawingBufferHeight),mt.push(At+xt,St),mt.push(At+xt,Lt.drawingBufferHeight),Tt.gearOffset=mt.length/2;for(var zt=0,vt;6>=zt;zt++)vt=zt*st,Et(vt,Mt),Et(vt+ot,Mt),Et(vt+ut,lt),Et(vt+(st-ut),lt),Et(vt+(st-ot),Mt);Tt.gearVertexCount=mt.length/2-Tt.gearOffset,Tt.arrowOffset=mt.length/2;var kt=xt/Math.sin(45*rt);jt(0,Ot),jt(Ot,0),jt(Ot+kt,kt),jt(kt,Ot+kt),jt(kt,Ot-kt),jt(0,Ot),jt(Ot,2*Ot),jt(Ot+kt,2*Ot-kt),jt(kt,Ot-kt),jt(0,Ot),jt(kt,Ot-xt),jt(pt*ht,Ot-xt),jt(kt,Ot+xt),jt(pt*ht,Ot+xt),Tt.arrowVertexCount=mt.length/2-Tt.arrowOffset,Lt.bindBuffer(Lt.ARRAY_BUFFER,Tt.vertexBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,new Float32Array(mt),Lt.STATIC_DRAW)})},et.prototype.render=function(){var Dt=this.gl,Tt=this,It=[Dt.CULL_FACE,Dt.DEPTH_TEST,Dt.BLEND,Dt.SCISSOR_TEST,Dt.STENCIL_TEST,Dt.COLOR_WRITEMASK,Dt.VIEWPORT,Dt.CURRENT_PROGRAM,Dt.ARRAY_BUFFER_BINDING];it(Dt,It,function(Lt){Lt.disable(Lt.CULL_FACE),Lt.disable(Lt.DEPTH_TEST),Lt.disable(Lt.BLEND),Lt.disable(Lt.SCISSOR_TEST),Lt.disable(Lt.STENCIL_TEST),Lt.colorMask(!0,!0,!0,!0),Lt.viewport(0,0,Lt.drawingBufferWidth,Lt.drawingBufferHeight),Tt.renderNoState()})},et.prototype.renderNoState=function(){var Dt=this.gl;Dt.useProgram(this.program),Dt.bindBuffer(Dt.ARRAY_BUFFER,this.vertexBuffer),Dt.enableVertexAttribArray(this.attribs.position),Dt.vertexAttribPointer(this.attribs.position,2,Dt.FLOAT,!1,8,0),Dt.uniform4f(this.uniforms.color,1,1,1,1),tt.orthoMatrix(this.projMat,0,Dt.drawingBufferWidth,0,Dt.drawingBufferHeight,0.1,1024),Dt.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),Dt.drawArrays(Dt.TRIANGLE_STRIP,0,4),Dt.drawArrays(Dt.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),Dt.drawArrays(Dt.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},xe.exports=et},{"./deps/wglu-preserve-state.js":13,"./util.js":29}],12:[function($,xe){function et(){this.displayName="Cardboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=window.WebVRConfig.BUFFER_SCALE,this.poseSensor_=new rt,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new nt(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new at(this.dpdb_.getDeviceParams()),this.viewerSelector_=new ot,this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),window.WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new st),Mt.isIOS()&&window.addEventListener("resize",this.onResize_.bind(this))}var tt=$("./cardboard-distorter.js"),it=$("./cardboard-ui.js"),at=$("./device-info.js"),nt=$("./dpdb/dpdb.js"),rt=$("./sensor-fusion/fusion-pose-sensor.js"),st=$("./rotate-instructions.js"),ot=$("./viewer-selector.js"),ut=$("./base.js").VRDisplay,Mt=$("./util.js"),lt={LEFT:"left",RIGHT:"right"};et.prototype=new ut,et.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},et.prototype.resetPose=function(){this.poseSensor_.resetPose()},et.prototype.getEyeParameters=function(ct){var gt=[0.5*this.deviceInfo_.viewer.interLensDistance,0,0],pt;if(ct==lt.LEFT)gt[0]*=-1,pt=this.deviceInfo_.getFieldOfViewLeftEye();else if(ct==lt.RIGHT)pt=this.deviceInfo_.getFieldOfViewRightEye();else return console.error("Invalid eye provided: %s",ct),null;return{fieldOfView:pt,offset:gt,renderWidth:0.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},et.prototype.onDeviceParamsUpdated_=function(ct){Mt.isDebug()&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(ct),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},et.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},et.prototype.beginPresent_=function(){var ct=this.layer_.source.getContext("webgl");ct||(ct=this.layer_.source.getContext("experimental-webgl")),ct||(ct=this.layer_.source.getContext("webgl2"));ct&&(this.layer_.predistorted?!window.WebVRConfig.CARDBOARD_UI_DISABLED&&(ct.canvas.width=Mt.getScreenWidth()*this.bufferScale_,ct.canvas.height=Mt.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new it(ct)):(this.distorter_=new tt(ct),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(gt){this.viewerSelector_.show(this.layer_.source.parentElement),gt.stopPropagation(),gt.preventDefault()}.bind(this),function(gt){this.exitPresent(),gt.stopPropagation(),gt.preventDefault()}.bind(this)),this.rotateInstructions_&&(Mt.isLandscapeMode()&&Mt.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},et.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},et.prototype.submitFrame=function(){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var gt=this.layer_.source.getContext("webgl").canvas;(gt.width!=this.lastWidth||gt.height!=this.lastHeight)&&this.cardboardUI_.onResize(),this.lastWidth=gt.width,this.lastHeight=gt.height,this.cardboardUI_.render()}},et.prototype.onOrientationChange_=function(){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},et.prototype.onResize_=function(){if(this.layer_){var gt=this.layer_.source.getContext("webgl"),pt=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0 10px 10px 0","box-sizing: content-box"];gt.canvas.setAttribute("style",pt.join("; ")+";"),Mt.safariCssSizeWorkaround(gt.canvas)}},et.prototype.onViewerChanged_=function(ct){this.deviceInfo_.setViewer(ct),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},et.prototype.fireVRDisplayDeviceParamsChange_=function(){var ct=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(ct)},xe.exports=et},{"./base.js":9,"./cardboard-distorter.js":10,"./cardboard-ui.js":11,"./device-info.js":14,"./dpdb/dpdb.js":18,"./rotate-instructions.js":23,"./sensor-fusion/fusion-pose-sensor.js":25,"./util.js":29,"./viewer-selector.js":30}],13:[function($,xe){xe.exports=function(tt,it,at){if(!it)return void at(tt);for(var nt=[],rt=null,st=0,ot;st<it.length;++st)switch(ot=it[st],ot){case tt.TEXTURE_BINDING_2D:case tt.TEXTURE_BINDING_CUBE_MAP:var ut=it[++st];if(ut<tt.TEXTURE0||ut>tt.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),nt.push(null,null);break}rt||(rt=tt.getParameter(tt.ACTIVE_TEXTURE)),tt.activeTexture(ut),nt.push(tt.getParameter(ot),null);break;case tt.ACTIVE_TEXTURE:rt=tt.getParameter(tt.ACTIVE_TEXTURE),nt.push(null);break;default:nt.push(tt.getParameter(ot));}at(tt);for(var st=0;st<it.length;++st){var ot=it[st],Mt=nt[st];switch(ot){case tt.ACTIVE_TEXTURE:break;case tt.ARRAY_BUFFER_BINDING:tt.bindBuffer(tt.ARRAY_BUFFER,Mt);break;case tt.COLOR_CLEAR_VALUE:tt.clearColor(Mt[0],Mt[1],Mt[2],Mt[3]);break;case tt.COLOR_WRITEMASK:tt.colorMask(Mt[0],Mt[1],Mt[2],Mt[3]);break;case tt.CURRENT_PROGRAM:tt.useProgram(Mt);break;case tt.ELEMENT_ARRAY_BUFFER_BINDING:tt.bindBuffer(tt.ELEMENT_ARRAY_BUFFER,Mt);break;case tt.FRAMEBUFFER_BINDING:tt.bindFramebuffer(tt.FRAMEBUFFER,Mt);break;case tt.RENDERBUFFER_BINDING:tt.bindRenderbuffer(tt.RENDERBUFFER,Mt);break;case tt.TEXTURE_BINDING_2D:var ut=it[++st];if(ut<tt.TEXTURE0||ut>tt.TEXTURE31)break;tt.activeTexture(ut),tt.bindTexture(tt.TEXTURE_2D,Mt);break;case tt.TEXTURE_BINDING_CUBE_MAP:var ut=it[++st];if(ut<tt.TEXTURE0||ut>tt.TEXTURE31)break;tt.activeTexture(ut),tt.bindTexture(tt.TEXTURE_CUBE_MAP,Mt);break;case tt.VIEWPORT:tt.viewport(Mt[0],Mt[1],Mt[2],Mt[3]);break;case tt.BLEND:case tt.CULL_FACE:case tt.DEPTH_TEST:case tt.SCISSOR_TEST:case tt.STENCIL_TEST:Mt?tt.enable(ot):tt.disable(ot);break;default:console.log("No GL restore behavior for 0x"+ot.toString(16));}rt&&tt.activeTexture(rt)}}},{}],14:[function($,xe){function et(ct){this.width=ct.width||rt.getScreenWidth(),this.height=ct.height||rt.getScreenHeight(),this.widthMeters=ct.widthMeters,this.heightMeters=ct.heightMeters,this.bevelMeters=ct.bevelMeters}function tt(ct){this.viewer=ut.CardboardV2,this.updateDeviceParams(ct),this.distortion=new at(this.viewer.distortionCoefficients)}function it(ct){this.id=ct.id,this.label=ct.label,this.fov=ct.fov,this.interLensDistance=ct.interLensDistance,this.baselineLensDistance=ct.baselineLensDistance,this.screenLensDistance=ct.screenLensDistance,this.distortionCoefficients=ct.distortionCoefficients,this.inverseCoefficients=ct.inverseCoefficients}var at=$("./distortion/distortion.js"),nt=$("./math-util.js"),rt=$("./util.js"),st=new et({widthMeters:0.11,heightMeters:0.062,bevelMeters:4e-3}),ot=new et({widthMeters:0.1038,heightMeters:0.0584,bevelMeters:4e-3}),ut={CardboardV1:new it({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:0.06,baselineLensDistance:0.035,screenLensDistance:0.042,distortionCoefficients:[0.441,0.156],inverseCoefficients:[-0.4410035,0.42756155,-0.4804439,0.5460139,-0.58821183,0.5733938,-0.48303202,0.33299083,-0.17573841,0.0651772,-0.01488963,0.001559834]}),CardboardV2:new it({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:0.064,baselineLensDistance:0.035,screenLensDistance:0.039,distortionCoefficients:[0.34,0.55],inverseCoefficients:[-0.33836704,-0.18162185,0.862655,-1.2462051,1.0560602,-0.58208317,0.21609078,-0.05444823,0.009177956,-0.0009904169,0.00006183535,-0.0000016981803]})};tt.prototype.updateDeviceParams=function(ct){this.device=this.determineDevice_(ct)||this.device},tt.prototype.getDevice=function(){return this.device},tt.prototype.setViewer=function(ct){this.viewer=ct,this.distortion=new at(this.viewer.distortionCoefficients)},tt.prototype.determineDevice_=function(ct){if(!ct)return rt.isIOS()?(console.warn("Using fallback iOS device measurements."),ot):(console.warn("Using fallback Android device measurements."),st);var gt=0.0254,pt=gt/ct.xdpi,yt=gt/ct.ydpi,Nt=rt.getScreenWidth(),Dt=rt.getScreenHeight();return new et({widthMeters:pt*Nt,heightMeters:yt*Dt,bevelMeters:1e-3*ct.bevelMm})},tt.prototype.getDistortedFieldOfViewLeftEye=function(){var ct=this.viewer,gt=this.device,pt=this.distortion,yt=ct.screenLensDistance,Nt=(gt.widthMeters-ct.interLensDistance)/2,Dt=ct.interLensDistance/2,Tt=ct.baselineLensDistance-gt.bevelMeters,It=gt.heightMeters-Tt,Lt=nt.radToDeg*Math.atan(pt.distort(Nt/yt)),Et=nt.radToDeg*Math.atan(pt.distort(Dt/yt)),jt=nt.radToDeg*Math.atan(pt.distort(Tt/yt)),mt=nt.radToDeg*Math.atan(pt.distort(It/yt));return{leftDegrees:Math.min(Lt,ct.fov),rightDegrees:Math.min(Et,ct.fov),downDegrees:Math.min(jt,ct.fov),upDegrees:Math.min(mt,ct.fov)}},tt.prototype.getLeftEyeVisibleTanAngles=function(){var ct=this.viewer,gt=this.device,pt=this.distortion,yt=Math.tan(-nt.degToRad*ct.fov),Nt=Math.tan(nt.degToRad*ct.fov),Dt=Math.tan(nt.degToRad*ct.fov),Tt=Math.tan(-nt.degToRad*ct.fov),It=gt.widthMeters/4,Lt=gt.heightMeters/2,Et=ct.baselineLensDistance-gt.bevelMeters-Lt,jt=ct.interLensDistance/2-It,mt=-Et,At=ct.screenLensDistance,ft=pt.distort((jt-It)/At),wt=pt.distort((mt+Lt)/At),ht=pt.distort((jt+It)/At),xt=pt.distort((mt-Lt)/At),St=new Float32Array(4);return St[0]=Math.max(yt,ft),St[1]=Math.min(Nt,wt),St[2]=Math.min(Dt,ht),St[3]=Math.max(Tt,xt),St},tt.prototype.getLeftEyeNoLensTanAngles=function(){var ct=this.viewer,gt=this.device,pt=this.distortion,yt=new Float32Array(4),Nt=pt.distortInverse(Math.tan(-nt.degToRad*ct.fov)),Dt=pt.distortInverse(Math.tan(nt.degToRad*ct.fov)),Tt=pt.distortInverse(Math.tan(nt.degToRad*ct.fov)),It=pt.distortInverse(Math.tan(-nt.degToRad*ct.fov)),Lt=gt.widthMeters/4,Et=gt.heightMeters/2,jt=ct.baselineLensDistance-gt.bevelMeters-Et,mt=ct.interLensDistance/2-Lt,At=-jt,ft=ct.screenLensDistance;return yt[0]=Math.max(Nt,(mt-Lt)/ft),yt[1]=Math.min(Dt,(At+Et)/ft),yt[2]=Math.min(Tt,(mt+Lt)/ft),yt[3]=Math.max(It,(At-Et)/ft),yt},tt.prototype.getLeftEyeVisibleScreenRect=function(ct){var gt=this.viewer,pt=this.device,yt=gt.screenLensDistance,Nt=(pt.widthMeters-gt.interLensDistance)/2,Dt=gt.baselineLensDistance-pt.bevelMeters,Tt=(ct[0]*yt+Nt)/pt.widthMeters,It=(ct[1]*yt+Dt)/pt.heightMeters,Lt=(ct[2]*yt+Nt)/pt.widthMeters,Et=(ct[3]*yt+Dt)/pt.heightMeters;return{x:Tt,y:Et,width:Lt-Tt,height:It-Et}},tt.prototype.getFieldOfViewLeftEye=function(ct){return ct?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},tt.prototype.getFieldOfViewRightEye=function(ct){var gt=this.getFieldOfViewLeftEye(ct);return{leftDegrees:gt.rightDegrees,rightDegrees:gt.leftDegrees,upDegrees:gt.upDegrees,downDegrees:gt.downDegrees}},tt.prototype.getUndistortedFieldOfViewLeftEye=function(){var ct=this.getUndistortedParams_();return{leftDegrees:nt.radToDeg*Math.atan(ct.outerDist),rightDegrees:nt.radToDeg*Math.atan(ct.innerDist),downDegrees:nt.radToDeg*Math.atan(ct.bottomDist),upDegrees:nt.radToDeg*Math.atan(ct.topDist)}},tt.prototype.getUndistortedViewportLeftEye=function(){var ct=this.getUndistortedParams_(),gt=this.viewer,pt=this.device,yt=gt.screenLensDistance,Nt=pt.widthMeters/yt,Dt=pt.heightMeters/yt,Tt=pt.width/Nt,It=pt.height/Dt,Lt=Math.round((ct.eyePosX-ct.outerDist)*Tt),Et=Math.round((ct.eyePosY-ct.bottomDist)*It);return{x:Lt,y:Et,width:Math.round((ct.eyePosX+ct.innerDist)*Tt)-Lt,height:Math.round((ct.eyePosY+ct.topDist)*It)-Et}},tt.prototype.getUndistortedParams_=function(){var ct=this.viewer,gt=this.device,pt=this.distortion,yt=ct.screenLensDistance,Nt=ct.interLensDistance/2/yt,Dt=gt.widthMeters/yt,Tt=gt.heightMeters/yt,It=Dt/2-Nt,Lt=(ct.baselineLensDistance-gt.bevelMeters)/yt,Et=ct.fov,jt=pt.distortInverse(Math.tan(nt.degToRad*Et)),mt=Math.min(It,jt),At=Math.min(Nt,jt),ft=Math.min(Lt,jt),wt=Math.min(Tt-Lt,jt);return{outerDist:mt,innerDist:At,topDist:wt,bottomDist:ft,eyePosX:It,eyePosY:Lt}},tt.Viewers=ut,xe.exports=tt},{"./distortion/distortion.js":16,"./math-util.js":20,"./util.js":29}],15:[function($,xe){function et(rt){this.display=rt,this.hardwareUnitId=rt.displayId,this.deviceId="webvr-polyfill:HMD:"+rt.displayId,this.deviceName=rt.displayName+" (HMD)"}function tt(rt){this.display=rt,this.hardwareUnitId=rt.displayId,this.deviceId="webvr-polyfill:PositionSensor: "+rt.displayId,this.deviceName=rt.displayName+" (PositionSensor)"}var it=$("./base.js").VRDisplay,at=$("./base.js").HMDVRDevice,nt=$("./base.js").PositionSensorVRDevice;et.prototype=new at,et.prototype.getEyeParameters=function(rt){var st=this.display.getEyeParameters(rt);return{currentFieldOfView:st.fieldOfView,maximumFieldOfView:st.fieldOfView,minimumFieldOfView:st.fieldOfView,recommendedFieldOfView:st.fieldOfView,eyeTranslation:{x:st.offset[0],y:st.offset[1],z:st.offset[2]},renderRect:{x:"right"==rt?st.renderWidth:0,y:0,width:st.renderWidth,height:st.renderHeight}}},et.prototype.setFieldOfView=function(){},tt.prototype=new nt,tt.prototype.getState=function(){var rt=this.display.getPose();return{position:rt.position?{x:rt.position[0],y:rt.position[1],z:rt.position[2]}:null,orientation:rt.orientation?{x:rt.orientation[0],y:rt.orientation[1],z:rt.orientation[2],w:rt.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},tt.prototype.resetState=function(){return this.positionDevice.resetPose()},xe.exports.VRDisplayHMDDevice=et,xe.exports.VRDisplayPositionSensorDevice=tt},{"./base.js":9}],16:[function($,xe){function et(tt){this.coefficients=tt}et.prototype.distortInverse=function(tt){for(var it=0,at=1,nt=tt-this.distort(it);1e-4<Math.abs(at-it);){var rt=tt-this.distort(at),st=at-rt*((at-it)/(rt-nt));it=at,at=st,nt=rt}return at},et.prototype.distort=function(tt){for(var at=0,nt=0;nt<this.coefficients.length;nt++)at=tt*tt*(at+this.coefficients[nt]);return(at+1)*tt},xe.exports=et},{}],17:[function($,xe){xe.exports={format:1,last_updated:"2017-06-01T22:33:42Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1000},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1000},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1000},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1000},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1000},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1000},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1000},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1000},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1000},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1000},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1000},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1000},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1000}]}},{}],18:[function($,xe){function et(rt,st){if(this.dpdb=it,this.recalculateDeviceParams_(),rt){this.onDeviceParamsUpdated=st;var ot=new XMLHttpRequest,ut=this;ot.open("GET",nt,!0),ot.addEventListener("load",function(){ut.loading=!1,200<=ot.status&&299>=ot.status?(ut.dpdb=JSON.parse(ot.response),ut.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),ot.send()}}function tt(rt){this.xdpi=rt.xdpi,this.ydpi=rt.ydpi,this.bevelMm=rt.bevelMm}var it=$("./dpdb.json"),at=$("../util.js"),nt="https://dpdb.webvr.rocks/dpdb.json";et.prototype.getDeviceParams=function(){return this.deviceParams},et.prototype.recalculateDeviceParams_=function(){var rt=this.calcDeviceParams_();rt?(this.deviceParams=rt,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},et.prototype.calcDeviceParams_=function(){var rt=this.dpdb;if(!rt)return console.error("DPDB not available."),null;if(1!=rt.format)return console.error("DPDB has unexpected format version."),null;if(!rt.devices||!rt.devices.length)return console.error("DPDB does not have a devices section."),null;var st=navigator.userAgent||navigator.vendor||window.opera,ot=at.getScreenWidth(),ut=at.getScreenHeight();if(!rt.devices)return console.error("DPDB has no devices section."),null;for(var Mt=0,lt;Mt<rt.devices.length;Mt++){if(lt=rt.devices[Mt],!lt.rules){console.warn("Device["+Mt+"] has no rules section.");continue}if("ios"!=lt.type&&"android"!=lt.type){console.warn("Device["+Mt+"] has invalid type.");continue}if(at.isIOS()==("ios"==lt.type)){for(var ct=!1,gt=0,pt;gt<lt.rules.length;gt++)if(pt=lt.rules[gt],this.matchRule_(pt,st,ot,ut)){ct=!0;break}if(ct){var yt=lt.dpi[0]||lt.dpi,Nt=lt.dpi[1]||lt.dpi;return new tt({xdpi:yt,ydpi:Nt,bevelMm:lt.bw})}}}return console.warn("No DPDB device match."),null},et.prototype.matchRule_=function(rt,st,ot,ut){if(!rt.ua&&!rt.res)return!1;if(rt.ua&&0>st.indexOf(rt.ua))return!1;if(rt.res){if(!rt.res[0]||!rt.res[1])return!1;var Mt=rt.res[0],lt=rt.res[1];if(Math.min(ot,ut)!=Math.min(Mt,lt)||Math.max(ot,ut)!=Math.max(Mt,lt))return!1}return!0},xe.exports=et},{"../util.js":29,"./dpdb.json":17}],19:[function($){var et=$("./util.js"),tt=$("./webvr-polyfill.js").WebVRPolyfill;window.WebVRConfig=et.extend({FORCE_ENABLE_VR:!1,K_FILTER:0.98,PREDICTION_TIME_S:0.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:0.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1,ALWAYS_APPEND_POLYFILL_DISPLAY:!1,GET_VR_DISPLAYS_TIMEOUT:1e3},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new tt}:new tt,window.WebVRPolyfill=tt},{"./util.js":29,"./webvr-polyfill.js":32}],20:[function($,xe){var et=window.MathUtil||{};et.degToRad=Math.PI/180,et.radToDeg=180/Math.PI,et.Vector2=function(tt,it){this.x=tt||0,this.y=it||0},et.Vector2.prototype={constructor:et.Vector2,set:function(tt,it){return this.x=tt,this.y=it,this},copy:function(tt){return this.x=tt.x,this.y=tt.y,this},subVectors:function(tt,it){return this.x=tt.x-it.x,this.y=tt.y-it.y,this}},et.Vector3=function(tt,it,at){this.x=tt||0,this.y=it||0,this.z=at||0},et.Vector3.prototype={constructor:et.Vector3,set:function(tt,it,at){return this.x=tt,this.y=it,this.z=at,this},copy:function(tt){return this.x=tt.x,this.y=tt.y,this.z=tt.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var tt=this.length();if(0!==tt){this.multiplyScalar(1/tt)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(tt){this.x*=tt,this.y*=tt,this.z*=tt},applyQuaternion:function(tt){var it=this.x,at=this.y,nt=this.z,rt=tt.x,st=tt.y,ot=tt.z,ut=tt.w,Mt=ut*it+st*nt-ot*at,lt=ut*at+ot*it-rt*nt,ct=ut*nt+rt*at-st*it,gt=-rt*it-st*at-ot*nt;return this.x=Mt*ut+gt*-rt+lt*-ot-ct*-st,this.y=lt*ut+gt*-st+ct*-rt-Mt*-ot,this.z=ct*ut+gt*-ot+Mt*-st-lt*-rt,this},dot:function(tt){return this.x*tt.x+this.y*tt.y+this.z*tt.z},crossVectors:function(tt,it){var at=tt.x,nt=tt.y,rt=tt.z,st=it.x,ot=it.y,ut=it.z;return this.x=nt*ut-rt*ot,this.y=rt*st-at*ut,this.z=at*ot-nt*st,this}},et.Quaternion=function(tt,it,at,nt){this.x=tt||0,this.y=it||0,this.z=at||0,this.w=nt===void 0?1:nt},et.Quaternion.prototype={constructor:et.Quaternion,set:function(tt,it,at,nt){return this.x=tt,this.y=it,this.z=at,this.w=nt,this},copy:function(tt){return this.x=tt.x,this.y=tt.y,this.z=tt.z,this.w=tt.w,this},setFromEulerXYZ:function(tt,it,at){var nt=Math.cos(tt/2),rt=Math.cos(it/2),st=Math.cos(at/2),ot=Math.sin(tt/2),ut=Math.sin(it/2),Mt=Math.sin(at/2);return this.x=ot*rt*st+nt*ut*Mt,this.y=nt*ut*st-ot*rt*Mt,this.z=nt*rt*Mt+ot*ut*st,this.w=nt*rt*st-ot*ut*Mt,this},setFromEulerYXZ:function(tt,it,at){var nt=Math.cos(tt/2),rt=Math.cos(it/2),st=Math.cos(at/2),ot=Math.sin(tt/2),ut=Math.sin(it/2),Mt=Math.sin(at/2);return this.x=ot*rt*st+nt*ut*Mt,this.y=nt*ut*st-ot*rt*Mt,this.z=nt*rt*Mt-ot*ut*st,this.w=nt*rt*st+ot*ut*Mt,this},setFromAxisAngle:function(tt,it){var at=it/2,nt=Math.sin(at);return this.x=tt.x*nt,this.y=tt.y*nt,this.z=tt.z*nt,this.w=Math.cos(at),this},multiply:function(tt){return this.multiplyQuaternions(this,tt)},multiplyQuaternions:function(tt,it){var at=tt.x,nt=tt.y,rt=tt.z,st=tt.w,ot=it.x,ut=it.y,Mt=it.z,lt=it.w;return this.x=at*lt+st*ot+nt*Mt-rt*ut,this.y=nt*lt+st*ut+rt*ot-at*Mt,this.z=rt*lt+st*Mt+at*ut-nt*ot,this.w=st*lt-at*ot-nt*ut-rt*Mt,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var tt=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===tt?(this.x=0,this.y=0,this.z=0,this.w=1):(tt=1/tt,this.x*=tt,this.y*=tt,this.z*=tt,this.w*=tt),this},slerp:function(tt,it){if(0===it)return this;if(1===it)return this.copy(tt);var at=this.x,nt=this.y,rt=this.z,st=this.w,ot=st*tt.w+at*tt.x+nt*tt.y+rt*tt.z;if(0>ot?(this.w=-tt.w,this.x=-tt.x,this.y=-tt.y,this.z=-tt.z,ot=-ot):this.copy(tt),1<=ot)return this.w=st,this.x=at,this.y=nt,this.z=rt,this;var ut=Math.acos(ot),Mt=Math.sqrt(1-ot*ot);if(1e-3>Math.abs(Mt))return this.w=0.5*(st+this.w),this.x=0.5*(at+this.x),this.y=0.5*(nt+this.y),this.z=0.5*(rt+this.z),this;var lt=Math.sin((1-it)*ut)/Mt,ct=Math.sin(it*ut)/Mt;return this.w=st*lt+this.w*ct,this.x=at*lt+this.x*ct,this.y=nt*lt+this.y*ct,this.z=rt*lt+this.z*ct,this},setFromUnitVectors:function(){var tt,it;return function(nt,rt){return void 0===tt&&(tt=new et.Vector3),it=nt.dot(rt)+1,it<1e-6?(it=0,Math.abs(nt.x)>Math.abs(nt.z)?tt.set(-nt.y,nt.x,0):tt.set(0,-nt.z,nt.y)):tt.crossVectors(nt,rt),this.x=tt.x,this.y=tt.y,this.z=tt.z,this.w=it,this.normalize(),this}}()},xe.exports=et},{}],21:[function($,xe){function et(){this.displayName="Mouse and Keyboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new it.Quaternion,this.rotateStart_=new it.Vector2,this.rotateEnd_=new it.Vector2,this.rotateDelta_=new it.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var tt=$("./base.js").VRDisplay,it=$("./math-util.js"),at=$("./util.js"),nt=0.15,rt=80;et.prototype=new tt,et.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},et.prototype.onKeyDown_=function(ut){38==ut.keyCode?this.animatePhi_(this.phi_+nt):39==ut.keyCode?this.animateTheta_(this.theta_-nt):40==ut.keyCode?this.animatePhi_(this.phi_-nt):37==ut.keyCode&&this.animateTheta_(this.theta_+nt)},et.prototype.animateTheta_=function(ut){this.animateKeyTransitions_("theta_",ut)},et.prototype.animatePhi_=function(ut){ut=at.clamp(ut,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi_",ut)},et.prototype.animateKeyTransitions_=function(ut,Mt){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var lt=this[ut],ct=new Date;this.angleAnimation_=requestAnimationFrame(function gt(){var pt=new Date-ct;if(pt>=rt)return this[ut]=Mt,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(gt.bind(this));this[ut]=lt+(Mt-lt)*(pt/rt)}.bind(this))},et.prototype.onMouseDown_=function(ut){this.rotateStart_.set(ut.clientX,ut.clientY),this.isDragging_=!0},et.prototype.onMouseMove_=function(ut){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var Mt=ut.movementX||ut.mozMovementX||0,lt=ut.movementY||ut.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-Mt,this.rotateStart_.y-lt)}else this.rotateEnd_.set(ut.clientX,ut.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*0.3,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*0.5,this.phi_=at.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},et.prototype.onMouseUp_=function(){this.isDragging_=!1},et.prototype.isPointerLocked_=function(){var ut=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return ut!==void 0},et.prototype.resetPose=function(){this.phi_=0,this.theta_=0},xe.exports=et},{"./base.js":9,"./math-util.js":20,"./util.js":29}],22:[function($){(function(et){"undefined"!==typeof et&&et.window&&(et.document=et.window.document,et.navigator=et.window.navigator),$("./main")}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{"./main":19}],23:[function($,xe){function et(){this.loadIcon_();var it=document.createElement("div"),at=it.style;at.position="fixed",at.top=0,at.right=0,at.bottom=0,at.left=0,at.backgroundColor="gray",at.fontFamily="sans-serif",at.zIndex=1e6;var nt=document.createElement("img");nt.src=this.icon;var at=nt.style;at.marginLeft="25%",at.marginTop="25%",at.width="50%",it.appendChild(nt);var rt=document.createElement("div"),at=rt.style;at.textAlign="center",at.fontSize="16px",at.lineHeight="24px",at.margin="24px 25%",at.width="50%",rt.innerHTML="Place your phone into your Cardboard viewer.",it.appendChild(rt);var st=document.createElement("div"),at=st.style;at.backgroundColor="#CFD8DC",at.position="fixed",at.bottom=0,at.width="100%",at.height="48px",at.padding="14px 24px",at.boxSizing="border-box",at.color="#656A6B",it.appendChild(st);var ot=document.createElement("div");ot.style.float="left",ot.innerHTML="No Cardboard viewer?";var ut=document.createElement("a");ut.href="https://www.google.com/get/cardboard/get-cardboard/",ut.innerHTML="get one",ut.target="_blank";var at=ut.style;at.float="right",at.fontWeight=600,at.textTransform="uppercase",at.borderLeft="1px solid gray",at.paddingLeft="24px",at.textDecoration="none",at.color="#656A6B",st.appendChild(ot),st.appendChild(ut),this.overlay=it,this.text=rt,this.hide()}var tt=$("./util.js");et.prototype.show=function(it){it||this.overlay.parentElement?it&&(this.overlay.parentElement&&this.overlay.parentElement!=it&&this.overlay.parentElement.removeChild(this.overlay),it.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var at=this.overlay.querySelector("img"),nt=at.style;tt.isLandscapeMode()?(nt.width="20%",nt.marginLeft="40%",nt.marginTop="3%"):(nt.width="50%",nt.marginLeft="25%",nt.marginTop="25%")},et.prototype.hide=function(){this.overlay.style.display="none"},et.prototype.showTemporarily=function(it,at){this.show(at),this.timer=setTimeout(this.hide.bind(this),it)},et.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},et.prototype.update=function(){this.disableShowTemporarily(),!tt.isLandscapeMode()&&tt.isMobile()?this.show():this.hide()},et.prototype.loadIcon_=function(){this.icon=tt.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+")},xe.exports=et},{"./util.js":29}],24:[function($,xe){function et(nt){this.kFilter=nt,this.currentAccelMeasurement=new tt,this.currentGyroMeasurement=new tt,this.previousGyroMeasurement=new tt,this.filterQ=at.isIOS()?new it.Quaternion(-1,0,0,1):new it.Quaternion(1,0,0,1),this.previousFilterQ=new it.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new it.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new it.Vector3,this.measuredGravity=new it.Vector3,this.gyroIntegralQ=new it.Quaternion}var tt=$("./sensor-sample.js"),it=$("../math-util.js"),at=$("../util.js");et.prototype.addAccelMeasurement=function(nt,rt){this.currentAccelMeasurement.set(nt,rt)},et.prototype.addGyroMeasurement=function(nt,rt){this.currentGyroMeasurement.set(nt,rt);var st=rt-this.previousGyroMeasurement.timestampS;at.isTimestampDeltaValid(st)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},et.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var nt=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,rt=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,nt);this.gyroIntegralQ.multiply(rt),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(rt);var st=new it.Quaternion;st.copy(this.filterQ),st.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(st),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var ot=new it.Quaternion;ot.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),ot.inverse(),at.isDebug()&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",it.radToDeg*at.getQuaternionAngle(ot),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var ut=new it.Quaternion;ut.copy(this.filterQ),ut.multiply(ot),this.filterQ.slerp(ut,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},et.prototype.getOrientation=function(){return this.filterQ},et.prototype.accelToQuaternion_=function(nt){var rt=new it.Vector3;rt.copy(nt),rt.normalize();var st=new it.Quaternion;return st.setFromUnitVectors(new it.Vector3(0,0,-1),rt),st.inverse(),st},et.prototype.gyroToQuaternionDelta_=function(nt,rt){var st=new it.Quaternion,ot=new it.Vector3;return ot.copy(nt),ot.normalize(),st.setFromAxisAngle(ot,nt.length()*rt),st},xe.exports=et},{"../math-util.js":20,"../util.js":29,"./sensor-sample.js":27}],25:[function($,xe){function et(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new nt.Vector3,this.gyroscope=new nt.Vector3,this.start(),this.filter=new tt(window.WebVRConfig.K_FILTER),this.posePredictor=new it(window.WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new at,this.filterToWorldQ=new nt.Quaternion,rt.isIOS()?this.filterToWorldQ.setFromAxisAngle(new nt.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new nt.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new nt.Quaternion,this.worldToScreenQ=new nt.Quaternion,this.originalPoseAdjustQ=new nt.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new nt.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),rt.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new nt.Quaternion,this.isFirefoxAndroid=rt.isFirefoxAndroid(),this.isIOS=rt.isIOS(),this.orientationOut_=new Float32Array(4)}var tt=$("./complementary-filter.js"),it=$("./pose-predictor.js"),at=$("../touch-panner.js"),nt=$("../math-util.js"),rt=$("../util.js");et.prototype.getPosition=function(){return null},et.prototype.getOrientation=function(){var st=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(st,this.gyroscope,this.previousTimestampS);var ot=new nt.Quaternion;return ot.copy(this.filterToWorldQ),ot.multiply(this.resetQ),window.WebVRConfig.TOUCH_PANNER_DISABLED||ot.multiply(this.touchPanner.getOrientation()),ot.multiply(this.predictedQ),ot.multiply(this.worldToScreenQ),window.WebVRConfig.YAW_ONLY&&(ot.x=0,ot.z=0,ot.normalize()),this.orientationOut_[0]=ot.x,this.orientationOut_[1]=ot.y,this.orientationOut_[2]=ot.z,this.orientationOut_[3]=ot.w,this.orientationOut_},et.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),rt.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),window.WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},et.prototype.onDeviceMotion_=function(st){this.updateDeviceMotion_(st)},et.prototype.updateDeviceMotion_=function(st){var ot=st.accelerationIncludingGravity,ut=st.rotationRate,Mt=st.timeStamp/1e3,lt=Mt-this.previousTimestampS;return lt<=rt.MIN_TIMESTEP||lt>rt.MAX_TIMESTEP?(console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=Mt)):void(this.accelerometer.set(-ot.x,-ot.y,-ot.z),this.gyroscope.set(ut.alpha,ut.beta,ut.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,Mt),this.filter.addGyroMeasurement(this.gyroscope,Mt),this.previousTimestampS=Mt)},et.prototype.onOrientationChange_=function(){this.setScreenTransform_()},et.prototype.onMessage_=function(st){var ot=st.data;if(ot&&ot.type){var ut=ot.type.toLowerCase();"devicemotion"!==ut||this.updateDeviceMotion_(ot.deviceMotionEvent)}},et.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new nt.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new nt.Vector3(0,0,1),Math.PI/2);break;case 180:}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},et.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),rt.isIOS()&&rt.isInsideCrossDomainIFrame()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},et.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)},xe.exports=et},{"../math-util.js":20,"../touch-panner.js":28,"../util.js":29,"./complementary-filter.js":24,"./pose-predictor.js":26}],26:[function($,xe){function et(at){this.predictionTimeS=at,this.previousQ=new tt.Quaternion,this.previousTimestampS=null,this.deltaQ=new tt.Quaternion,this.outQ=new tt.Quaternion}var tt=$("../math-util"),it=$("../util");et.prototype.getPrediction=function(at,nt,rt){if(!this.previousTimestampS)return this.previousQ.copy(at),this.previousTimestampS=rt,at;var st=new tt.Vector3;st.copy(nt),st.normalize();var ot=nt.length();if(ot<20*tt.degToRad)return it.isDebug()&&console.log("Moving slowly, at %s deg/s: no prediction",(tt.radToDeg*ot).toFixed(1)),this.outQ.copy(at),this.previousQ.copy(at),this.outQ;var ut=rt-this.previousTimestampS,Mt=ot*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(st,Mt),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(at),this.previousTimestampS=rt,this.outQ},xe.exports=et},{"../math-util":20,"../util":29}],27:[function($,xe){function et(tt,it){this.set(tt,it)}et.prototype.set=function(tt,it){this.sample=tt,this.timestampS=it},et.prototype.copy=function(tt){this.set(tt.sample,tt.timestampS)},xe.exports=et},{}],28:[function($,xe){function et(){window.addEventListener("touchstart",this.onTouchStart_.bind(this)),window.addEventListener("touchmove",this.onTouchMove_.bind(this)),window.addEventListener("touchend",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new tt.Vector2,this.rotateEnd=new tt.Vector2,this.rotateDelta=new tt.Vector2,this.theta=0,this.orientation=new tt.Quaternion}var tt=$("./math-util.js"),it=$("./util.js");et.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},et.prototype.resetSensor=function(){this.theta=0},et.prototype.onTouchStart_=function(nt){nt.touches&&1==nt.touches.length&&(this.rotateStart.set(nt.touches[0].pageX,nt.touches[0].pageY),this.isTouching=!0)},et.prototype.onTouchMove_=function(nt){if(this.isTouching){this.rotateEnd.set(nt.touches[0].pageX,nt.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),it.isIOS()&&(this.rotateDelta.x*=-1);var rt=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/rt.clientWidth*0.5}},et.prototype.onTouchEnd_=function(){this.isTouching=!1},xe.exports=et},{"./math-util.js":20,"./util.js":29}],29:[function($,xe){var et=window.Util||{};et.MIN_TIMESTEP=1e-3,et.MAX_TIMESTEP=1,et.base64=function(tt,it){return"data:"+tt+";base64,"+it},et.clamp=function(tt,it,at){return Math.min(Math.max(it,tt),at)},et.lerp=function(tt,it,at){return tt+(it-tt)*at},et.race=function(tt){return Promise.race?Promise.race(tt):new Promise(function(it,at){for(var nt=0;nt<tt.length;nt++)tt[nt].then(it,at)})},et.isIOS=function(){var tt=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return tt}}(),et.isWebViewAndroid=function(){var tt=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return tt}}(),et.isSafari=function(){var tt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return tt}}(),et.isFirefoxAndroid=function(){var tt=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return tt}}(),et.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},et.isTimestampDeltaValid=function(tt){return!isNaN(tt)&&!(tt<=et.MIN_TIMESTEP)&&!(tt>et.MAX_TIMESTEP)},et.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},et.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},et.requestFullscreen=function(tt){if(et.isWebViewAndroid())return!1;if(tt.requestFullscreen)tt.requestFullscreen();else if(tt.webkitRequestFullscreen)tt.webkitRequestFullscreen();else if(tt.mozRequestFullScreen)tt.mozRequestFullScreen();else if(tt.msRequestFullscreen)tt.msRequestFullscreen();else return!1;return!0},et.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return!1;return!0},et.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},et.linkProgram=function(tt,it,at,nt){var rt=tt.createShader(tt.VERTEX_SHADER);tt.shaderSource(rt,it),tt.compileShader(rt);var st=tt.createShader(tt.FRAGMENT_SHADER);tt.shaderSource(st,at),tt.compileShader(st);var ot=tt.createProgram();for(var ut in tt.attachShader(ot,rt),tt.attachShader(ot,st),nt)tt.bindAttribLocation(ot,nt[ut],ut);return tt.linkProgram(ot),tt.deleteShader(rt),tt.deleteShader(st),ot},et.getProgramUniforms=function(tt,it){for(var at={},nt=tt.getProgramParameter(it,tt.ACTIVE_UNIFORMS),rt="",st=0,ot;st<nt;st++)ot=tt.getActiveUniform(it,st),rt=ot.name.replace("[0]",""),at[rt]=tt.getUniformLocation(it,rt);return at},et.orthoMatrix=function(tt,it,at,nt,rt,st,ot){var ut=1/(it-at),Mt=1/(nt-rt),lt=1/(st-ot);return tt[0]=-2*ut,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=-2*Mt,tt[6]=0,tt[7]=0,tt[8]=0,tt[9]=0,tt[10]=2*lt,tt[11]=0,tt[12]=(it+at)*ut,tt[13]=(rt+nt)*Mt,tt[14]=(ot+st)*lt,tt[15]=1,tt},et.copyArray=function(tt,it){for(var at=0,nt=tt.length;at<nt;at++)it[at]=tt[at]},et.isMobile=function(){var tt=!1;return function(it){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(it)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(it.substr(0,4)))&&(tt=!0)}(navigator.userAgent||navigator.vendor||window.opera),tt},et.extend=function(tt,it){for(var at in it)it.hasOwnProperty(at)&&(tt[at]=it[at]);return tt},et.safariCssSizeWorkaround=function(tt){if(et.isIOS()){var it=tt.style.width,at=tt.style.height;tt.style.width=parseInt(it)+1+"px",tt.style.height=parseInt(at)+"px",setTimeout(function(){tt.style.width=it,tt.style.height=at},100)}window.Util=et,window.canvas=tt},et.isDebug=function(){return et.getQueryParameter("debug")},et.getQueryParameter=function(tt){var tt=tt.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),it=new RegExp("[\\?&]"+tt+"=([^&#]*)"),at=it.exec(location.search);return null===at?"":decodeURIComponent(at[1].replace(/\+/g," "))},et.frameDataFromPose=function(){function tt(lt,ct,gt,pt){var yt=Math.tan(ct?ct.upDegrees*st:ot),Nt=Math.tan(ct?ct.downDegrees*st:ot),Dt=Math.tan(ct?ct.leftDegrees*st:ot),Tt=Math.tan(ct?ct.rightDegrees*st:ot),It=2/(Dt+Tt),Lt=2/(yt+Nt);return lt[0]=It,lt[1]=0,lt[2]=0,lt[3]=0,lt[4]=0,lt[5]=Lt,lt[6]=0,lt[7]=0,lt[8]=-(0.5*((Dt-Tt)*It)),lt[9]=0.5*((yt-Nt)*Lt),lt[10]=pt/(gt-pt),lt[11]=-1,lt[12]=0,lt[13]=0,lt[14]=pt*gt/(gt-pt),lt[15]=0,lt}function it(lt,ct,gt){var pt=ct[0],yt=ct[1],Nt=ct[2],Dt=ct[3],Tt=pt+pt,It=yt+yt,Lt=Nt+Nt,Et=pt*Tt,jt=pt*It,mt=pt*Lt,At=yt*It,ft=yt*Lt,wt=Nt*Lt,ht=Dt*Tt,xt=Dt*It,St=Dt*Lt;return lt[0]=1-(At+wt),lt[1]=jt+St,lt[2]=mt-xt,lt[3]=0,lt[4]=jt-St,lt[5]=1-(Et+wt),lt[6]=ft+ht,lt[7]=0,lt[8]=mt+xt,lt[9]=ft-ht,lt[10]=1-(Et+At),lt[11]=0,lt[12]=gt[0],lt[13]=gt[1],lt[14]=gt[2],lt[15]=1,lt}function at(lt,ct,gt){var pt=gt[0],yt=gt[1],Nt=gt[2],Dt,Tt,It,Lt,Et,jt,mt,At,ft,wt,ht,xt;return ct===lt?(lt[12]=ct[0]*pt+ct[4]*yt+ct[8]*Nt+ct[12],lt[13]=ct[1]*pt+ct[5]*yt+ct[9]*Nt+ct[13],lt[14]=ct[2]*pt+ct[6]*yt+ct[10]*Nt+ct[14],lt[15]=ct[3]*pt+ct[7]*yt+ct[11]*Nt+ct[15]):(Dt=ct[0],Tt=ct[1],It=ct[2],Lt=ct[3],Et=ct[4],jt=ct[5],mt=ct[6],At=ct[7],ft=ct[8],wt=ct[9],ht=ct[10],xt=ct[11],lt[0]=Dt,lt[1]=Tt,lt[2]=It,lt[3]=Lt,lt[4]=Et,lt[5]=jt,lt[6]=mt,lt[7]=At,lt[8]=ft,lt[9]=wt,lt[10]=ht,lt[11]=xt,lt[12]=Dt*pt+Et*yt+ft*Nt+ct[12],lt[13]=Tt*pt+jt*yt+wt*Nt+ct[13],lt[14]=It*pt+mt*yt+ht*Nt+ct[14],lt[15]=Lt*pt+At*yt+xt*Nt+ct[15]),lt}function nt(lt,ct){var gt=ct[0],pt=ct[1],yt=ct[2],Nt=ct[3],Dt=ct[4],Tt=ct[5],It=ct[6],Lt=ct[7],Et=ct[8],jt=ct[9],mt=ct[10],At=ct[11],ft=ct[12],wt=ct[13],ht=ct[14],xt=ct[15],St=gt*Tt-pt*Dt,Ot=gt*It-yt*Dt,Ct=gt*Lt-Nt*Dt,zt=pt*It-yt*Tt,vt=pt*Lt-Nt*Tt,kt=yt*Lt-Nt*It,Ut=Et*wt-jt*ft,Qt=Et*ht-mt*ft,_t=Et*xt-At*ft,Rt=jt*ht-mt*wt,Bt=jt*xt-At*wt,Yt=mt*xt-At*ht,Pt=St*Yt-Ot*Bt+Ct*Rt+zt*_t-vt*Qt+kt*Ut;return Pt?(Pt=1/Pt,lt[0]=(Tt*Yt-It*Bt+Lt*Rt)*Pt,lt[1]=(yt*Bt-pt*Yt-Nt*Rt)*Pt,lt[2]=(wt*kt-ht*vt+xt*zt)*Pt,lt[3]=(mt*vt-jt*kt-At*zt)*Pt,lt[4]=(It*_t-Dt*Yt-Lt*Qt)*Pt,lt[5]=(gt*Yt-yt*_t+Nt*Qt)*Pt,lt[6]=(ht*Ct-ft*kt-xt*Ot)*Pt,lt[7]=(Et*kt-mt*Ct+At*Ot)*Pt,lt[8]=(Dt*Bt-Tt*_t+Lt*Ut)*Pt,lt[9]=(pt*_t-gt*Bt-Nt*Ut)*Pt,lt[10]=(ft*vt-wt*Ct+xt*St)*Pt,lt[11]=(jt*Ct-Et*vt-At*St)*Pt,lt[12]=(Tt*Qt-Dt*Rt-It*Ut)*Pt,lt[13]=(gt*Rt-pt*Qt+yt*Ut)*Pt,lt[14]=(wt*Ot-ft*zt-ht*St)*Pt,lt[15]=(Et*zt-jt*Ot+mt*St)*Pt,lt):null}function rt(lt,ct,gt,pt,yt){tt(lt,pt?pt.fieldOfView:null,yt.depthNear,yt.depthFar);var Nt=gt.orientation||ut,Dt=gt.position||Mt;it(ct,Nt,Dt),pt&&at(ct,ct,pt.offset),nt(ct,ct)}var st=Math.PI/180,ot=0.25*Math.PI;var ut=new Float32Array([0,0,0,1]),Mt=new Float32Array([0,0,0]);return function(lt,ct,gt){return lt&&ct&&(lt.pose=ct,lt.timestamp=ct.timestamp,rt(lt.leftProjectionMatrix,lt.leftViewMatrix,ct,gt.getEyeParameters("left"),gt),rt(lt.rightProjectionMatrix,lt.rightViewMatrix,ct,gt.getEyeParameters("right"),gt),!0)}}(),et.isInsideCrossDomainIFrame=function(){var tt=window.self!==window.top,it=et.getDomainFromUrl(document.referrer),at=et.getDomainFromUrl(window.location.href);return tt&&it!==at},et.getDomainFromUrl=function(tt){var it;return it=-1<tt.indexOf("://")?tt.split("/")[2]:tt.split("/")[0],it=it.split(":")[0],it},xe.exports=et},{}],30:[function($,xe){function et(){try{this.selectedKey=localStorage.getItem(nt)}catch(st){console.error("Failed to load viewer profile: %s",st)}this.selectedKey||(this.selectedKey=at),this.dialog=this.createDialog_(tt.Viewers),this.root=null,this.onChangeCallbacks_=[]}var tt=$("./device-info.js"),it=$("./util.js"),at="CardboardV1",nt="WEBVR_CARDBOARD_VIEWER";et.prototype.show=function(st){this.root=st,st.appendChild(this.dialog);var ot=this.dialog.querySelector("#"+this.selectedKey);ot.checked=!0,this.dialog.style.display="block"},et.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},et.prototype.getCurrentViewer=function(){return tt.Viewers[this.selectedKey]},et.prototype.getSelectedKey_=function(){var st=this.dialog.querySelector("input[name=field]:checked");return st?st.id:null},et.prototype.onChange=function(st){this.onChangeCallbacks_.push(st)},et.prototype.fireOnChange_=function(st){for(var ot=0;ot<this.onChangeCallbacks_.length;ot++)this.onChangeCallbacks_[ot](st)},et.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!tt.Viewers[this.selectedKey])return void console.error("ViewerSelector.onSave_: this should never happen!");this.fireOnChange_(tt.Viewers[this.selectedKey]);try{localStorage.setItem(nt,this.selectedKey)}catch(st){console.error("Failed to save viewer profile: %s",st)}this.hide()},et.prototype.createDialog_=function(st){var ot=document.createElement("div");ot.classList.add("webvr-polyfill-viewer-selector"),ot.style.display="none";var ut=document.createElement("div"),Mt=ut.style;Mt.position="fixed",Mt.left=0,Mt.top=0,Mt.width="100%",Mt.height="100%",Mt.background="rgba(0, 0, 0, 0.3)",ut.addEventListener("click",this.hide.bind(this));var lt=280,ct=document.createElement("div"),Mt=ct.style;for(var gt in Mt.boxSizing="border-box",Mt.position="fixed",Mt.top="24px",Mt.left="50%",Mt.marginLeft=-lt/2+"px",Mt.width=lt+"px",Mt.padding="24px",Mt.overflow="hidden",Mt.background="#fafafa",Mt.fontFamily="'Roboto', sans-serif",Mt.boxShadow="0px 5px 20px #666",ct.appendChild(this.createH1_("Select your viewer")),st)ct.appendChild(this.createChoice_(gt,st[gt].label));return ct.appendChild(this.createButton_("Save",this.onSave_.bind(this))),ot.appendChild(ut),ot.appendChild(ct),ot},et.prototype.createH1_=function(st){var ot=document.createElement("h1"),ut=ot.style;return ut.color="black",ut.fontSize="20px",ut.fontWeight="bold",ut.marginTop=0,ut.marginBottom="24px",ot.innerHTML=st,ot},et.prototype.createChoice_=function(st,ot){var ut=document.createElement("div");ut.style.marginTop="8px",ut.style.color="black";var Mt=document.createElement("input");Mt.style.fontSize="30px",Mt.setAttribute("id",st),Mt.setAttribute("type","radio"),Mt.setAttribute("value",st),Mt.setAttribute("name","field");var lt=document.createElement("label");return lt.style.marginLeft="4px",lt.setAttribute("for",st),lt.innerHTML=ot,ut.appendChild(Mt),ut.appendChild(lt),ut},et.prototype.createButton_=function(st,ot){var ut=document.createElement("button");ut.innerHTML=st;var Mt=ut.style;return Mt.float="right",Mt.textTransform="uppercase",Mt.color="#1094f7",Mt.fontSize="14px",Mt.letterSpacing=0,Mt.border=0,Mt.background="none",Mt.marginTop="16px",ut.addEventListener("click",ot),ut},xe.exports=et},{"./device-info.js":14,"./util.js":29}],31:[function($,xe){function et(){function nt(st,ot,ut){var Mt=document.createElement("source");Mt.src=ut,Mt.type="video/"+ot,st.appendChild(Mt)}var rt=document.createElement("video");rt.setAttribute("loop",""),nt(rt,"webm",at.base64("video/webm","GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=")),nt(rt,"mp4",at.base64("video/mp4","AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw==")),this.request=function(){rt.paused&&rt.play()},this.release=function(){rt.pause()}}function tt(){var nt=null;this.request=function(){nt||(nt=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){nt&&(clearInterval(nt),nt=null)}}var at=$("./util.js");xe.exports=function(){var nt=navigator.userAgent||navigator.vendor||window.opera;return nt.match(/iPhone/i)||nt.match(/iPod/i)?tt:et}()},{"./util.js":29}],32:[function($,xe){function et(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeGetVRDisplaysFunc=this.nativeWebVRAvailable?navigator.getVRDisplays:null,this.nativeLegacyWebVRAvailable||(this.enablePolyfill(),window.WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),tt()}function tt(){"VRDisplay"in window&&!("VRFrameData"in window)&&(window.VRFrameData=st,!("depthNear"in window.VRDisplay.prototype)&&(window.VRDisplay.prototype.depthNear=0.01),!("depthFar"in window.VRDisplay.prototype)&&(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(gt){return it.frameDataFromPose(gt,this.getPose(),this)})}var it=$("./util.js"),at=$("./cardboard-vr-display.js"),nt=$("./mouse-keyboard-vr-display.js"),rt=$("./base.js").VRDisplay,st=$("./base.js").VRFrameData,ot=$("./base.js").HMDVRDevice,ut=$("./base.js").PositionSensorVRDevice,Mt=$("./display-wrappers.js").VRDisplayHMDDevice,lt=$("./display-wrappers.js").VRDisplayPositionSensorDevice,ct=$("../package.json").version;et.prototype.isWebVRAvailable=function(){return"getVRDisplays"in navigator},et.prototype.isDeprecatedWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},et.prototype.connectDisplay=function(gt){gt.fireVRDisplayConnect_(),this.displays.push(gt)},et.prototype.populateDevices=function(){if(!this.devicesPopulated){var gt=null;this.isCardboardCompatible()&&(gt=new at,this.connectDisplay(gt),window.WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new Mt(gt)),this.devices.push(new lt(gt)))),this.isMobile()||window.WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(gt=new nt,this.connectDisplay(gt),window.WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new Mt(gt)),this.devices.push(new lt(gt)))),this.devicesPopulated=!0}},et.prototype.enablePolyfill=function(){if(navigator.getVRDisplays=this.getVRDisplays.bind(this),this.nativeWebVRAvailable&&window.VRFrameData){var gt=window.VRFrameData,pt=new window.VRFrameData,yt=window.VRDisplay.prototype.getFrameData;window.VRFrameData=st,window.VRDisplay.prototype.getFrameData=function(Dt){return Dt instanceof gt?void yt.call(this,Dt):void(yt.call(this,pt),Dt.pose=pt.pose,it.copyArray(pt.leftProjectionMatrix,Dt.leftProjectionMatrix),it.copyArray(pt.rightProjectionMatrix,Dt.rightProjectionMatrix),it.copyArray(pt.leftViewMatrix,Dt.leftViewMatrix),it.copyArray(pt.rightViewMatrix,Dt.rightViewMatrix))}}if(window.VRDisplay=rt,navigator&&!navigator.vrEnabled){var Nt=this;Object.defineProperty(navigator,"vrEnabled",{get:function(){return Nt.isCardboardCompatible()&&(Nt.isFullScreenAvailable()||it.isIOS())}})}"VRFrameData"in window||(window.VRFrameData=st)},et.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=ot,window.PositionSensorVRDevice=ut},et.prototype.getVRDisplays=function(){this.populateDevices();var gt=this.displays;if(!this.nativeWebVRAvailable)return Promise.resolve(gt);var pt,yt=this.nativeGetVRDisplaysFunc.call(navigator),Nt=new Promise(function(Dt){pt=setTimeout(function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),Dt([])},window.WebVRConfig.GET_VR_DISPLAYS_TIMEOUT)});return it.race([yt,Nt]).then(function(Dt){return clearTimeout(pt),window.WebVRConfig.ALWAYS_APPEND_POLYFILL_DISPLAY?Dt.concat(gt):0<Dt.length?Dt:gt})},et.prototype.getVRDevices=function(){console.warn("getVRDevices is deprecated. Please update your code to use getVRDisplays instead.");var gt=this;return new Promise(function(pt,yt){try{if(!gt.devicesPopulated){if(gt.nativeWebVRAvailable)return navigator.getVRDisplays(function(Nt){for(var Dt=0;Dt<Nt.length;++Dt)gt.devices.push(new Mt(Nt[Dt])),gt.devices.push(new lt(Nt[Dt]));gt.devicesPopulated=!0,pt(gt.devices)},yt);if(gt.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(Nt){for(var Dt=0;Dt<Nt.length;++Dt)Nt[Dt]instanceof ot&&gt.devices.push(Nt[Dt]),Nt[Dt]instanceof ut&&gt.devices.push(Nt[Dt]);gt.devicesPopulated=!0,pt(gt.devices)},yt)}gt.populateDevices(),pt(gt.devices)}catch(Nt){yt(Nt)}})},et.prototype.NativeVRFrameData=window.VRFrameData,et.prototype.isMobile=function(){return /Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},et.prototype.isCardboardCompatible=function(){return this.isMobile()||window.WebVRConfig.FORCE_ENABLE_VR},et.prototype.isFullScreenAvailable=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1};et.InstallWebVRSpecShim=tt,et.version=ct,xe.exports.WebVRPolyfill=et},{"../package.json":8,"./base.js":9,"./cardboard-vr-display.js":12,"./display-wrappers.js":15,"./mouse-keyboard-vr-display.js":21,"./util.js":29}],33:[function($,xe){function et(st){this.video=document.createElement("video"),!0===st.loop&&this.video.setAttribute("loop",!0),st.volume!==void 0&&(this.video.volume=st.volume),!0===st.muted&&(this.video.muted=st.muted),this.video.setAttribute("preload","auto"),this.video.setAttribute("playsinline",!0),this.video.setAttribute("crossorigin","anonymous")}var tt=$("eventemitter3"),it=$("shaka-player"),at=$("../video-type"),nt=$("../util");et.prototype=new tt,et.prototype.load=function(st){var ot=this,ut=nt.getExtension(st);switch(ut){case"m3u8":this.type=at.HLS,nt.isSafari()?this.loadVideo_(st).then(function(){ot.emit("load",ot.video,ot.type)}).catch(this.onError_.bind(this)):ot.onError_("HLS is only supported on Safari.");break;case"mpd":this.type=at.DASH,this.loadShakaVideo_(st).then(function(){console.log("The video has now been loaded!"),ot.emit("load",ot.video,ot.type)}).catch(this.onError_.bind(this));break;default:this.type=at.VIDEO,this.loadVideo_(st).then(function(){ot.emit("load",ot.video,ot.type)}).catch(this.onError_.bind(this));}},et.prototype.destroy=function(){this.video.pause(),this.video.src="",this.video=null},et.prototype.onError_=function(st){console.error(st),this.emit("error",st)},et.prototype.loadVideo_=function(st){var ot=this,ut=ot.video;return new Promise(function(Mt,lt){ut.src=st,ut.addEventListener("canplaythrough",Mt),ut.addEventListener("loadedmetadata",function(){ot.emit("timeupdate",{currentTime:ut.currentTime,duration:ut.duration})}),ut.addEventListener("error",lt),ut.load()})},et.prototype.initShaka_=function(){this.player=new it.Player(this.video),this.player.configure({abr:{defaultBandwidthEstimate:1e6}}),this.player.addEventListener("error",this.onError_)},et.prototype.loadShakaVideo_=function(st){return(it.polyfill.installAll(),!it.Player.isBrowserSupported())?void console.error("Shaka is not supported on this browser."):(this.initShaka_(),this.player.load(st))},xe.exports=et},{"../util":45,"../video-type":46,eventemitter3:3,"shaka-player":5}],34:[function($,xe){xe.exports={LEFT:1,RIGHT:2}},{}],35:[function($,xe){function et(yt){this.worldRenderer=yt,this.scene=yt.scene;var Nt=document.body;at.isMobile()||(Nt.addEventListener("mousedown",this.onMouseDown_.bind(this),!1),Nt.addEventListener("mousemove",this.onMouseMove_.bind(this),!1),Nt.addEventListener("mouseup",this.onMouseUp_.bind(this),!1)),Nt.addEventListener("touchstart",this.onTouchStart_.bind(this),!1),Nt.addEventListener("touchend",this.onTouchEnd_.bind(this),!1),this.hotspotRoot=new THREE.Object3D,this.hotspotRoot.rotation.y=Math.PI/2,this.scene.add(this.hotspotRoot),this.hotspots={},this.selectedHotspots={},this.downHotspots={},this.pointer=new THREE.Vector2(1,1),this.raycaster=new THREE.Raycaster}var tt=$("eventemitter3"),it=$("@tweenjs/tween.js"),at=$("../util"),nt=new THREE.Vector3(1,1,1),rt=new THREE.Vector3(1.2,1.2,1.2),st=200,ot=new THREE.Color(1,1,1),ut=new THREE.Color(0.8,0,0),Mt=100,lt=0.8,ct=0.5,gt=35,pt=60;et.prototype=new tt,et.prototype.add=function(yt,Nt,Dt,Tt,It){if(this.hotspots[It])return void console.error("Attempt to add hotspot with existing id %s.",It);var Lt=this.createHotspot_(Dt,Tt);Lt.name=It;var Et=new THREE.Quaternion;Et.setFromEuler(new THREE.Euler(THREE.Math.degToRad(yt),THREE.Math.degToRad(Nt),0)),Lt.position.applyQuaternion(Et),Lt.lookAt(new THREE.Vector3),this.hotspotRoot.add(Lt),this.hotspots[It]=Lt},et.prototype.remove=function(yt){return this.hotspots[yt]?void(this.hotspotRoot.remove(this.hotspots[yt]),delete this.selectedHotspots[yt],delete this.downHotspots[yt],delete this.hotspots[yt],this.emit("blur",yt)):void console.error("Attempt to remove non-existing hotspot with id %s.",yt)},et.prototype.clearAll=function(){for(var yt in this.hotspots)this.remove(yt)},et.prototype.getCount=function(){var yt=0;for(var Nt in this.hotspots)yt+=1;return yt},et.prototype.update=function(yt){this.worldRenderer.isVRMode()&&this.pointer.set(0,0),this.raycaster.setFromCamera(this.pointer,yt),this.fadeOffCenterHotspots_(yt);for(var Nt=this.hotspotRoot.children,Dt=0;Dt<Nt.length;Dt++){var Tt=Nt[Dt],It=Tt.name,Lt=this.raycaster.intersectObjects(Tt.children),Et=0<Lt.length;Et&&!this.selectedHotspots[It]&&(this.emit("focus",It),this.focus_(It)),!Et&&this.selectedHotspots[It]&&(this.emit("blur",It),this.blur_(It)),Et?this.selectedHotspots[It]=!0:delete this.selectedHotspots[It]}},et.prototype.setVisibility=function(yt){this.hotspotRoot.visible=yt},et.prototype.onTouchStart_=function(yt){for(var Nt in this.worldRenderer.isVRMode()||this.updateTouch_(yt),this.update(this.worldRenderer.camera),this.downHotspots={},this.selectedHotspots)this.downHotspots[Nt]=!0,this.down_(Nt);return!1},et.prototype.onTouchEnd_=function(yt){if(at.isEmptyObject(this.downHotspots))return void this.emit("click");for(var Nt in this.downHotspots)this.emit("click",Nt),this.up_(Nt),yt.preventDefault()},et.prototype.updateTouch_=function(yt){var Nt=this.getSize_(),Dt=yt.touches[0];this.pointer.x=2*(Dt.clientX/Nt.width)-1,this.pointer.y=2*-(Dt.clientY/Nt.height)+1},et.prototype.onMouseDown_=function(yt){for(var Nt in this.updateMouse_(yt),this.downHotspots={},this.selectedHotspots)this.downHotspots[Nt]=!0,this.down_(Nt)},et.prototype.onMouseMove_=function(yt){this.updateMouse_(yt)},et.prototype.onMouseUp_=function(yt){if(this.updateMouse_(yt),at.isEmptyObject(this.downHotspots))return void this.emit("click");for(var Nt in this.selectedHotspots)Nt in this.downHotspots&&(this.emit("click",Nt),this.up_(Nt))},et.prototype.updateMouse_=function(yt){var Nt=this.getSize_();this.pointer.x=2*(yt.clientX/Nt.width)-1,this.pointer.y=2*-(yt.clientY/Nt.height)+1},et.prototype.getSize_=function(){this.worldRenderer.renderer.domElement;return this.worldRenderer.renderer.getSize()},et.prototype.createHotspot_=function(yt,Nt){var Dt=new THREE.CircleGeometry(yt,32),Tt=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide,transparent:!0,opacity:lt,depthTest:!1}),It=new THREE.Mesh(Dt,Tt);It.name="inner";var Lt=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide,transparent:!0,opacity:ct,depthTest:!1}),Et=new THREE.RingGeometry(0.85*yt,yt,32),jt=new THREE.Mesh(Et,Lt);jt.name="outer";var mt=new THREE.Object3D;return mt.position.z=-Nt,mt.scale.copy(nt),mt.add(It),mt.add(jt),mt},et.prototype.fadeOffCenterHotspots_=function(yt){var Nt=new THREE.Vector3(1,0,0);for(var Dt in Nt.applyQuaternion(yt.quaternion),Nt.applyQuaternion(yt.parent.quaternion),this.hotspots){var Tt=this.hotspots[Dt],It=Tt.position.angleTo(Nt),Lt=THREE.Math.radToDeg(It),jt;if(Lt<gt)jt=1;else if(Lt>pt)jt=0;else{jt=(pt-Lt)/(pt-gt)}this.setOpacity_(Dt,jt)}},et.prototype.focus_=function(yt){var Nt=this.hotspots[yt];this.tween=new it.Tween(Nt.scale).to(rt,st).easing(it.Easing.Quadratic.InOut).start(),this.worldRenderer.isVRMode()&&(this.timeForHospotClick=setTimeout(()=>{this.emit("click",yt)},1200))},et.prototype.blur_=function(yt){var Nt=this.hotspots[yt];this.tween=new it.Tween(Nt.scale).to(nt,st).easing(it.Easing.Quadratic.InOut).start(),this.timeForHospotClick&&clearTimeout(this.timeForHospotClick)},et.prototype.down_=function(yt){var Nt=this.hotspots[yt],Dt=Nt.getObjectByName("inner");this.tween=new it.Tween(Dt.material.color).to(ut,Mt).start()},et.prototype.up_=function(yt){var Nt=this.hotspots[yt],Dt=Nt.getObjectByName("inner");this.tween=new it.Tween(Dt.material.color).to(ot,Mt).start()},et.prototype.setOpacity_=function(yt,Nt){var Dt=this.hotspots[yt],Tt=Dt.getObjectByName("outer"),It=Dt.getObjectByName("inner");Tt.material.opacity=Nt*ct,It.material.opacity=Nt*lt},xe.exports=et},{"../util":45,"@tweenjs/tween.js":1,eventemitter3:3}],36:[function($,xe){function et(){window.addEventListener("message",this.onMessage_.bind(this),!1)}var tt=$("eventemitter3"),it=$("../message"),at=$("../util");et.prototype=new tt,et.prototype.onMessage_=function(nt){at.isDebug()&&console.log("onMessage_",nt);var rt=nt.data,st=rt.type.toLowerCase(),ot=rt.data;st===it.SET_CONTENT||st===it.SET_VOLUME||st===it.MUTED||st===it.ADD_HOTSPOT||st===it.PLAY||st===it.PAUSE||st===it.SET_CURRENT_TIME||st===it.GET_POSITION||st===it.SET_FULLSCREEN?this.emit(st,ot):at.isDebug()&&console.warn("Got unknown message of type %s from %s",rt.type,rt.origin)},xe.exports=et},{"../message":44,"../util":45,eventemitter3:3}],37:[function($,xe){function et(){this.el=this.build_(),document.body.appendChild(this.el),this.show()}et.prototype.build_=function(){var tt=document.createElement("div"),it=tt.style;it.position="fixed",it.top=0,it.left=0,it.width="100%",it.height="100%",it.background="#eee";var at=document.createElement("img");at.src="images/loading.gif";var it=at.style;return it.position="absolute",it.top="50%",it.left="50%",it.transform="translate(-50%, -50%)",tt.appendChild(at),tt},et.prototype.hide=function(){this.el.style.display="none"},et.prototype.show=function(){this.el.style.display="block"},xe.exports=et},{}],38:[function($){function tt(){Pt.videoProxy.play(),At(),document.body.removeEventListener("touchend",tt)}function lt(){var Vt=Pt.videoProxy.getCurrentTime();Ut.sendParentMessage({type:"timeupdate",data:Vt})}function gt(Vt){console.error(Vt),Ut.sendParentMessage({type:"error",data:{message:Vt}})}function Nt(){Ut.sendParentMessage({type:"paused",data:!1})}function Dt(){Ut.sendParentMessage({type:"paused",data:!0})}function Tt(){Ut.sendParentMessage({type:"ended",data:!0})}function Et(Vt,Ht){St.hide();var Wt=document.querySelector("#error");Wt.classList.add("visible"),Wt.querySelector(".message").innerHTML=Vt;var Zt=Ht===void 0?"Error":Ht;Wt.querySelector(".title").innerHTML=Zt}function mt(){var Vt=document.querySelector("#play-overlay");Vt.classList.add("visible")}function At(){var Vt=document.querySelector("#play-overlay");Vt.classList.remove("visible")}function ft(){Bt.setMode(0),Bt.domElement.style.position="absolute",Bt.domElement.style.left="0px",Bt.domElement.style.bottom="0px",document.body.appendChild(Bt.domElement)}function wt(Vt){Pt.vrDisplay?Pt.vrDisplay.requestAnimationFrame(wt):requestAnimationFrame(wt),Bt.begin(),Pt.videoProxy&&Pt.videoProxy.update(Vt),Pt.render(Vt),Pt.submitFrame(),Bt.end()}var xt=$("./loading-indicator"),St=new xt,Ot=$("es6-promise");Ot.polyfill();var Ct=$("./iframe-message-receiver"),zt=$("../message"),vt=$("./scene-info"),kt=$("../../node_modules/stats-js/build/stats.min"),Ut=$("../util"),Qt=$("webvr-polyfill"),_t=$("./world-renderer"),Rt=new Ct;Rt.on(zt.PLAY,function(){return Pt.videoProxy?void Pt.videoProxy.play():void gt("Attempt to pause, but no video found.")}),Rt.on(zt.PAUSE,function(){return Pt.videoProxy?void Pt.videoProxy.pause():void gt("Attempt to pause, but no video found.")}),Rt.on(zt.ADD_HOTSPOT,function(Vt){Ut.isDebug()&&console.log("onAddHotspot",Vt);var Ht=parseFloat(Vt.pitch),Wt=parseFloat(Vt.yaw),Zt=parseFloat(Vt.radius),Xt=parseFloat(Vt.distance),Kt=Vt.id;Pt.hotspotRenderer.add(Ht,Wt,Zt,Xt,Kt)}),Rt.on(zt.SET_CONTENT,function(Vt){Ut.isDebug()&&console.log("onSetContent",Vt),Pt.hotspotRenderer.clearAll(),Pt.sphereRenderer.setOpacity(0,500).then(function(){var Ht=vt.loadFromAPIParams(Vt.contentInfo);Pt.destroy();var Wt=Ht.getCurrentUrl();return window.history.pushState(null,"VR View",Wt),Pt.setScene(Ht)}).then(function(){Pt.sphereRenderer.setOpacity(1,500)})}),Rt.on(zt.SET_VOLUME,function(Vt){return Pt.videoProxy?void(Pt.videoProxy.setVolume(Vt.volumeLevel),Gt=Vt.volumeLevel,Ut.sendParentMessage({type:"volumechange",data:Vt.volumeLevel})):void gt("Attempt to set volume, but no video found.")}),Rt.on(zt.MUTED,function(Vt){return Pt.videoProxy?void(Pt.videoProxy.mute(Vt.muteState),Ut.sendParentMessage({type:"muted",data:Vt.muteState})):void gt("Attempt to mute, but no video found.")}),Rt.on(zt.SET_CURRENT_TIME,function(Vt){return Pt.videoProxy?void(Pt.videoProxy.setCurrentTime(Vt),lt()):void gt("Attempt to pause, but no video found.")}),Rt.on(zt.GET_POSITION,function(){Ut.sendParentMessage({type:"getposition",data:{Yaw:180*Pt.camera.rotation.y/Math.PI,Pitch:180*Pt.camera.rotation.x/Math.PI}})}),Rt.on(zt.SET_FULLSCREEN,function(){return Pt.videoProxy?void Pt.manager.onFSClick_():void gt("Attempt to set fullscreen, but no video found.")}),window.addEventListener("load",function(){return Ut.isWebGLEnabled()?void(Pt.setScene(Yt),Yt.isDebug&&ft(),Yt.isYawOnly&&(WebVRConfig=window.WebVRConfig||{},WebVRConfig.YAW_ONLY=!0),requestAnimationFrame(wt)):void Et("WebGL not supported.")});var Bt=new kt,Yt=vt.loadFromGetParams(),Pt=new _t(Yt);Pt.on("error",function(Vt){Et("Render: "+Vt)}),Pt.on("load",function(Vt){if(Vt.videoElement){vt.loadFromGetParams();Ut.isMobile()?(mt(),document.body.addEventListener("touchend",tt)):Vt.videoElement.play(),Vt.videoElement.addEventListener("pause",Dt),Vt.videoElement.addEventListener("play",Nt),Vt.videoElement.addEventListener("timeupdate",lt),Vt.videoElement.addEventListener("ended",Tt)}St.hide(),Ut.isMobile()||Pt.sceneInfo.video||Pt.sceneInfo.isAutopanOff||Pt.autopan(),Ft||(Vt.videoElement?Ut.sendParentMessage({type:"ready",data:{duration:Vt.videoElement.duration}}):Ut.sendParentMessage({type:"ready"}),Ft=!0)}),Pt.on("modechange",function(Vt){Ut.sendParentMessage({type:"modechange",data:{mode:Vt}})}),Pt.on("ended",Tt),Pt.on("play",Nt),Pt.hotspotRenderer.on("click",function(Vt){Ut.sendParentMessage({type:"click",data:{id:Vt}})}),window.worldRenderer=Pt;var Ft=!1,Gt=0},{"../../node_modules/stats-js/build/stats.min":6,"../message":44,"../util":45,"./iframe-message-receiver":36,"./loading-indicator":37,"./scene-info":40,"./world-renderer":43,"es6-promise":2,"webvr-polyfill":22}],39:[function($,xe){function et(tt){this.camera=tt,this.reticle=this.createReticle_(),this.reticle.position.z=-0.97,tt.add(this.reticle),this.setVisibility(!1)}et.prototype.setVisibility=function(tt){this.reticle.visible=tt},et.prototype.createReticle_=function(){var tt=new THREE.TorusGeometry(0.02,5e-3,10,20),it=new THREE.MeshBasicMaterial({color:0}),at=new THREE.Mesh(tt,it);return at},xe.exports=et},{}],40:[function($,xe){function et(at){var nt=at||{};nt.player={loop:at.loop,volume:at.volume,muted:at.muted},this.image=nt.image,this.preview=nt.preview,this.video=nt.video,this.defaultYaw=THREE.Math.degToRad(nt.defaultYaw||0),this.isStereo=tt.parseBoolean(nt.isStereo),this.isYawOnly=tt.parseBoolean(nt.isYawOnly),this.isDebug=tt.parseBoolean(nt.isDebug),this.isVROff=tt.parseBoolean(nt.isVROff),this.isAutopanOff=tt.parseBoolean(nt.isAutopanOff),this.loop=tt.parseBoolean(nt.player.loop),this.volume=parseFloat(nt.player.volume?nt.player.volume:"1"),this.muted=tt.parseBoolean(nt.player.muted),this.hideFullscreenButton=tt.parseBoolean(nt.hideFullscreenButton)}var tt=$("../util"),it={video:"video",image:"image",preview:"preview",loop:"loop",volume:"volume",muted:"muted",isStereo:"is_stereo",defaultYaw:"default_yaw",isYawOnly:"is_yaw_only",isDebug:"is_debug",isVROff:"is_vr_off",isAutopanOff:"is_autopan_off",hideFullscreenButton:"hide_fullscreen_button"};et.loadFromGetParams=function(){var at={};for(var nt in it){var rt=it[nt];at[nt]=tt.getQueryParameter(rt)||(window.WebVRConfig&&window.WebVRConfig.PLAYER?window.WebVRConfig.PLAYER[rt]:"")}var st=new et(at);return st.isValid()||console.warn("Invalid scene: %s",st.errorMessage),st},et.loadFromAPIParams=function(at){var nt={};for(var rt in it){var st=it[rt];at[st]&&(nt[rt]=at[st])}var ot=new et(nt);return ot.isValid()||console.warn("Invalid scene: %s",ot.errorMessage),ot},et.prototype.isValid=function(){return this.image||this.video?this.image&&this.video?(this.errorMessage="Both image and video URL can't be specified.",!1):this.image&&!this.isValidImage_(this.image)?(this.errorMessage="Invalid image URL: "+this.image,!1):(this.errorMessage=null,!0):(this.errorMessage="Either image or video URL must be specified.",!1)},et.prototype.getCurrentUrl=function(){var at=location.protocol+"//"+location.host+location.pathname+"?";for(var nt in it){var rt=it[nt],st=this[nt];st!==void 0&&(at+=rt+"="+st+"&")}return at.substring(0,at.length-1)},et.prototype.isValidImage_=function(){return!0},xe.exports=et},{"../util":45}],41:[function($,xe){function et(rt){this.scene=rt,this.createOpacityMask_()}var tt=$("./eyes"),it=$("@tweenjs/tween.js"),at=$("../util"),nt=$("../video-type");et.prototype.setPhotosphere=function(rt,st){return new Promise(function(ot,ut){this.resolve=ot,this.reject=ut;this.isStereo=!!(st||{}).isStereo,this.src=rt;var lt=new THREE.TextureLoader;lt.crossOrigin="anonymous",lt.load(rt,this.onTextureLoaded_.bind(this),void 0,this.onTextureError_.bind(this))}.bind(this))},et.prototype.set360Video=function(rt,st,ot){return new Promise(function(ut,Mt){this.resolve=ut,this.reject=Mt;this.isStereo=!!(ot||{}).isStereo;var ct=new THREE.VideoTexture(rt);ct.minFilter=THREE.LinearFilter,ct.magFilter=THREE.LinearFilter,ct.generateMipmaps=!1,at.isSafari()&&st===nt.HLS?(ct.format=THREE.RGBAFormat,ct.flipY=!1):ct.format=THREE.RGBFormat,ct.needsUpdate=!0,this.onTextureLoaded_(ct)}.bind(this))},et.prototype.setOpacity=function(rt,st){var ot=this.scene;return new Promise(function(Mt){var ct=ot.getObjectByName("opacityMask"),gt=new it.Tween({opacity:ct.material.opacity}).to({opacity:1-rt},st).easing(it.Easing.Quadratic.InOut);gt.onUpdate(function(){ct.material.opacity=this.opacity}),gt.onComplete(Mt).start()})},et.prototype.onTextureLoaded_=function(rt){var st,ot;this.isStereo?(st=this.createPhotosphere_(rt,{offsetY:0.5,scaleY:0.5}),ot=this.createPhotosphere_(rt,{offsetY:0,scaleY:0.5})):(st=this.createPhotosphere_(rt),ot=this.createPhotosphere_(rt)),st.layers.set(tt.LEFT),st.eye=tt.LEFT,st.name="eyeLeft",ot.layers.set(tt.RIGHT),ot.eye=tt.RIGHT,ot.name="eyeRight",this.scene.getObjectByName("photo").children=[st,ot],this.resolve()},et.prototype.onTextureError_=function(){this.reject("Unable to load texture from \""+this.src+"\"")},et.prototype.createPhotosphere_=function(rt,st){var ot=st||{};ot.scaleX=ot.scaleX||1,ot.scaleY=ot.scaleY||1,ot.offsetX=ot.offsetX||0,ot.offsetY=ot.offsetY||0,ot.phiStart=ot.phiStart||0,ot.phiLength=ot.phiLength||2*Math.PI,ot.thetaStart=ot.thetaStart||0,ot.thetaLength=ot.thetaLength||Math.PI;var ut=new THREE.SphereGeometry(1,48,48,ot.phiStart,ot.phiLength,ot.thetaStart,ot.thetaLength);ut.applyMatrix(new THREE.Matrix4().makeScale(-1,1,1));for(var Mt=ut.faceVertexUvs[0],lt=0;lt<Mt.length;lt++)for(var ct=0;3>ct;ct++)Mt[lt][ct].x*=ot.scaleX,Mt[lt][ct].x+=ot.offsetX,Mt[lt][ct].y*=ot.scaleY,Mt[lt][ct].y+=ot.offsetY;var gt=rt.format===THREE.RGBAFormat&&!1===rt.flipY?new THREE.ShaderMaterial({uniforms:{texture:{value:rt}},vertexShader:["varying vec2 vUV;","void main() {","\tvUV = vec2( uv.x, 1.0 - uv.y );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D texture;","varying vec2 vUV;","void main() {"," gl_FragColor = texture2D( texture, vUV  )"+(at.isIOS()?".bgra":"")+";","}"].join("\n")}):new THREE.MeshBasicMaterial({map:rt});var pt=new THREE.Mesh(ut,gt);return pt.renderOrder=-1,pt},et.prototype.createOpacityMask_=function(){var rt=new THREE.SphereGeometry(0.49,48,48),st=new THREE.MeshBasicMaterial({color:0,side:THREE.DoubleSide,opacity:0,transparent:!0}),ot=new THREE.Mesh(rt,st);return ot.name="opacityMask",ot.renderOrder=1,this.scene.add(ot),ot},xe.exports=et},{"../util":45,"../video-type":46,"./eyes":34,"@tweenjs/tween.js":1}],42:[function($,xe){function et(it){this.videoElement=it,this.isFakePlayback=!1,this.startTime=null}var tt=$("../util");et.prototype.play=function(){tt.isIOS9OrLess()?(this.startTime=performance.now(),this.isFakePlayback=!0,this.audioElement=new Audio,this.audioElement.src=this.videoElement.src,this.audioElement.play()):this.videoElement.play().then(function(it){console.log("Playing video.",it)})},et.prototype.pause=function(){tt.isIOS9OrLess()&&this.isFakePlayback?(this.isFakePlayback=!0,this.audioElement.pause()):this.videoElement.pause()},et.prototype.setVolume=function(it){this.videoElement&&(tt.isIOS()?this.videoElement.muted=0===it:this.videoElement.volume=it),this.audioElement&&(this.audioElement.volume=it)},et.prototype.mute=function(it){this.videoElement&&(this.videoElement.muted=it),this.audioElement&&(this.audioElement.muted=it)},et.prototype.getCurrentTime=function(){return tt.isIOS9OrLess()?this.audioElement.currentTime:this.videoElement.currentTime},et.prototype.setCurrentTime=function(it){this.videoElement&&(this.videoElement.currentTime=it.currentTime),this.audioElement&&(this.audioElement.currentTime=it.currentTime)},et.prototype.update=function(){if(this.isFakePlayback){var it=this.videoElement.duration,at=performance.now(),nt=at-this.startTime,rt=nt/1e3;this.videoElement.currentTime=rt,rt>it&&(this.startTime=at,this.videoElement.currentTime=0,this.audioElement.currentTime=0)}},xe.exports=et},{"../util":45}],43:[function($,xe){function et(pt){this.init_(pt.hideFullscreenButton),this.sphereRenderer=new st(this.scene),this.hotspotRenderer=new nt(this),this.hotspotRenderer.on("focus",this.onHotspotFocus_.bind(this)),this.hotspotRenderer.on("blur",this.onHotspotBlur_.bind(this)),this.reticleRenderer=new rt(this.camera),navigator.getVRDisplays().then(function(yt){0<yt.length&&(this.vrDisplay=yt[0])}.bind(this))}var tt=$("./adaptive-player"),it=$("eventemitter3"),at=$("./eyes"),nt=$("./hotspot-renderer"),rt=$("./reticle-renderer"),st=$("./sphere-renderer"),ot=$("@tweenjs/tween.js"),ut=$("../util"),Mt=$("./video-proxy"),lt=$("webvr-boilerplate");et.prototype=new it,et.prototype.render=function(pt){this.controls.update(),ot.update(pt),this.effect.render(this.scene,this.camera),this.hotspotRenderer.update(this.camera)},et.prototype.setScene=function(pt){var yt=this,Nt=new Promise(function(Tt,It){yt.sceneResolve=Tt,yt.sceneReject=It});if(!pt||!pt.isValid())return void this.didLoadFail_(pt.errorMessage);var Dt={isStereo:pt.isStereo,loop:pt.loop,volume:pt.volume,muted:pt.muted};return this.setDefaultYaw_(pt.defaultYaw||0),(pt.isVROff||pt.video&&ut.isIOS9OrLess())&&this.manager.setVRCompatibleOverride(!1),ut.isIOS()&&(this.manager.setFullscreenCallback(function(){ut.sendParentMessage({type:"enter-fullscreen"})}),this.manager.setExitFullscreenCallback(function(){ut.sendParentMessage({type:"exit-fullscreen"})}),this.manager.setVRCallback(function(){ut.sendParentMessage({type:"enter-vr"})})),pt.image&&!pt.video?pt.preview?this.sphereRenderer.setPhotosphere(pt.preview,Dt).then(function(){yt.didLoad_(),yt.sphereRenderer.setPhotosphere(pt.image,Dt)}).catch(yt.didLoadFail_.bind(yt)):this.sphereRenderer.setPhotosphere(pt.image,Dt).then(function(){yt.didLoad_()}).catch(yt.didLoadFail_.bind(yt)):pt.video&&(ut.isIE11()?pt.image?this.sphereRenderer.setPhotosphere(pt.image,Dt).then(function(){yt.didLoad_()}).catch(yt.didLoadFail_.bind(yt)):this.didLoadFail_("Video is not supported on IE11."):(this.player=new tt(Dt),this.player.on("load",function(Tt,It){yt.sphereRenderer.set360Video(Tt,It,Dt).then(function(){yt.didLoad_({videoElement:Tt})}).catch(yt.didLoadFail_.bind(yt))}),this.player.on("error",function(Tt){yt.didLoadFail_("Video load error: "+Tt)}),this.player.load(pt.video),this.videoProxy=new Mt(this.player.video))),this.sceneInfo=pt,ut.isDebug()&&console.log("Loaded scene",pt),Nt},et.prototype.isVRMode=function(){return!!this.vrDisplay&&this.vrDisplay.isPresenting},et.prototype.submitFrame=function(){this.isVRMode()&&this.vrDisplay.submitFrame()},et.prototype.disposeEye_=function(pt){pt&&(pt.material.map&&pt.material.map.dispose(),pt.material.dispose(),pt.geometry.dispose())},et.prototype.dispose=function(){var pt=this.scene.getObjectByName("eyeLeft");this.disposeEye_(pt);var yt=this.scene.getObjectByName("eyeRight");this.disposeEye_(yt)},et.prototype.destroy=function(){this.player&&(this.player.removeAllListeners(),this.player.destroy(),this.player=null);var pt=this.scene.getObjectByName("photo"),yt=this.scene.getObjectByName("eyeLeft"),Nt=this.scene.getObjectByName("eyeRight");yt&&(this.disposeEye_(yt),pt.remove(yt),this.scene.remove(yt)),Nt&&(this.disposeEye_(Nt),pt.remove(Nt),this.scene.remove(Nt))},et.prototype.didLoad_=function(pt){this.emit("load",pt||{}),this.sceneResolve&&this.sceneResolve()},et.prototype.didLoadFail_=function(pt){this.emit("error",pt),this.sceneReject&&this.sceneReject(pt)},et.prototype.setDefaultYaw_=function(pt){var yt=this.controls.getVRDisplay(),Nt=yt.theta_||0;yt.poseSensor_&&yt.poseSensor_.resetPose(),this.camera.parent.rotation.y=Math.PI/2+pt-Nt},et.prototype.autopan=function(){var yt=this.camera.parent.rotation.y-0.4,Nt=new ot.Tween(this.camera.parent.rotation).to({y:yt},3e3).easing(ot.Easing.Quadratic.Out).start()},et.prototype.init_=function(pt){var yt=document.querySelector("body"),Nt=window.innerWidth/window.innerHeight,Dt=new THREE.PerspectiveCamera(75,Nt,0.1,100);Dt.layers.enable(1);var Tt=new THREE.Object3D;Tt.add(Dt);var It=new THREE.WebGLRenderer({antialias:!1});It.setClearColor(0,0),It.setSize(window.innerWidth,window.innerHeight),It.setPixelRatio(window.devicePixelRatio),yt.appendChild(It.domElement);var Lt=new THREE.VRControls(Dt),Et=new THREE.VREffect(It);Et.scale=0,Et.setSize(window.innerWidth,window.innerHeight),Et.autoSubmitFrame=!1,this.camera=Dt,this.renderer=It,this.effect=Et,this.controls=Lt,this.manager=new lt(It,Et,{predistorted:!1,hideButton:pt}),this.scene=this.createScene_(),this.scene.add(this.camera.parent),window.addEventListener("resize",this.onResize_.bind(this)),window.addEventListener("contextmenu",this.onContextMenu_.bind(this)),window.addEventListener("vrdisplaypresentchange",this.onVRDisplayPresentChange_.bind(this))},et.prototype.onResize_=function(){this.effect.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()},et.prototype.onVRDisplayPresentChange_=function(){ut.isDebug()&&console.log("onVRDisplayPresentChange_");var yt=this.isVRMode(),Nt=yt&&0<this.hotspotRenderer.getCount();this.reticleRenderer.setVisibility(Nt),this.onResize_(),window.analytics&&analytics.logModeChanged(yt),!yt&&ut.isIOS()&&ut.sendParentMessage({type:"exit-fullscreen"}),this.emit("modechange",yt)},et.prototype.createScene_=function(){var yt=new THREE.Scene,Nt=new THREE.Object3D;return Nt.name="photo",yt.add(Nt),yt},et.prototype.onHotspotFocus_=function(){this.setCursor_("pointer")},et.prototype.onHotspotBlur_=function(){this.setCursor_("")},et.prototype.setCursor_=function(pt){this.renderer.domElement.style.cursor=pt},et.prototype.onContextMenu_=function(pt){return pt.preventDefault(),pt.stopPropagation(),!1},xe.exports=et},{"../util":45,"./adaptive-player":33,"./eyes":34,"./hotspot-renderer":35,"./reticle-renderer":39,"./sphere-renderer":41,"./video-proxy":42,"@tweenjs/tween.js":1,eventemitter3:3,"webvr-boilerplate":7}],44:[function($,xe){xe.exports={PLAY:"play",PAUSE:"pause",TIMEUPDATE:"timeupdate",ADD_HOTSPOT:"addhotspot",SET_CONTENT:"setimage",SET_VOLUME:"setvolume",MUTED:"muted",SET_CURRENT_TIME:"setcurrenttime",DEVICE_MOTION:"devicemotion",GET_POSITION:"getposition",SET_FULLSCREEN:"setfullscreen"}},{}],45:[function($,xe){var et=window.Util||{};et.isDataURI=function(tt){return tt&&0==tt.indexOf("data:")},et.generateUUID=function(){function tt(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return tt()+tt()+"-"+tt()+"-"+tt()+"-"+tt()+"-"+tt()+tt()+tt()},et.isMobile=function(){var tt=!1;return function(it){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(it)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(it.substr(0,4)))&&(tt=!0)}(navigator.userAgent||navigator.vendor||window.opera),tt},et.isIOS=function(){return /(iPad|iPhone|iPod)/g.test(navigator.userAgent)},et.isSafari=function(){return /^((?!chrome|android).)*safari/i.test(navigator.userAgent)},et.cloneObject=function(tt){var it={};for(key in tt)it[key]=tt[key];return it},et.hashCode=function(tt){return tt.split("").reduce(function(it,at){return it=(it<<5)-it+at.charCodeAt(0),it&it},0)},et.loadTrackSrc=function(tt,it,at,nt){var rt=new XMLHttpRequest;rt.open("GET",it,!0),rt.responseType="arraybuffer",rt.onload=function(){tt.decodeAudioData(rt.response,function(st){at(st)},function(st){console.error(st)})},nt&&(rt.onprogress=function(st){var ot=st.loaded/st.total;nt(ot)}),rt.send()},et.isPow2=function(tt){return 0==(tt&tt-1)},et.capitalize=function(tt){return tt.charAt(0).toUpperCase()+tt.slice(1)},et.isIFrame=function(){try{return window.self!==window.top}catch(tt){return!0}},et.getQueryParameter=function(tt){tt=tt.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var it=new RegExp("[\\?&]"+tt+"=([^&#]*)"),at=it.exec(location.search);return null===at?"":decodeURIComponent(at[1].replace(/\+/g," "))},et.isWebGLEnabled=function(){var tt=document.createElement("canvas");try{gl=tt.getContext("webgl")}catch(it){gl=null}if(null==gl)try{gl=tt.getContext("experimental-webgl"),experimental=!0}catch(it){gl=null}return!!gl},et.clone=function(tt){return JSON.parse(JSON.stringify(tt))},et.hypot=Math.hypot||function(tt,it){return Math.sqrt(tt*tt+it*it)},et.isIE11=function(){return navigator.userAgent.match(/Trident/)},et.getRectCenter=function(tt){return new THREE.Vector2(tt.x+tt.width/2,tt.y+tt.height/2)},et.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},et.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},et.isIOS9OrLess=function(){if(!et.isIOS())return!1;var tt=/(iPhone|iPad|iPod) OS ([\d_]+)/,it=navigator.userAgent.match(tt);if(!it)return!1;var at=it[it.length-1],nt=parseFloat(at);return 9>=nt},et.getExtension=function(tt){return tt.split(".").pop().split("?")[0]},et.createGetParams=function(tt){var it="?";for(var at in tt){var nt=at+"="+tt[at]+"&";it+=nt}return it.substring(0,tt.length-2),it},et.sendParentMessage=function(tt){window.parent&&parent.postMessage(tt,"*")},et.parseBoolean=function(tt){return"false"==tt||0==tt?!1:"true"==tt||1==tt||!!tt},et.relativeToAbsolutePath=function(tt,it){for(var at=tt.split("/"),nt=it.split("/"),rt=0;rt<nt.length;rt++)"."!=nt[rt]&&(".."==nt[rt]?at.pop():at.push(nt[rt]));return at.join("/")},et.isPathAbsolute=function(tt){return!/^(?:\/|[a-z]+:\/\/)/.test(tt)},et.isEmptyObject=function(tt){return 0==Object.getOwnPropertyNames(tt).length},et.isDebug=function(){return et.parseBoolean(et.getQueryParameter("debug"))},et.getCurrentScript=function(){return document.currentScript||console.warn("This browser does not support document.currentScript. Trying fallback."),document.currentScript||document.scripts[document.scripts.length-1]},xe.exports=et},{}],46:[function($,xe){xe.exports={HLS:1,DASH:2,VIDEO:3}},{}]},{},[38]);